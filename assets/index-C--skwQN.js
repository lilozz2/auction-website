(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function af(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Nm={exports:{}},tu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d0;function _R(){if(d0)return tu;d0=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var d in o)d!=="key"&&(u[d]=o[d])}else u=o;return o=u.ref,{$$typeof:t,type:s,key:c,ref:o!==void 0?o:null,props:u}}return tu.Fragment=e,tu.jsx=n,tu.jsxs=n,tu}var m0;function vR(){return m0||(m0=1,Nm.exports=_R()),Nm.exports}var te=vR(),Mm={exports:{}},Ie={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p0;function ER(){if(p0)return Ie;p0=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),T=Symbol.iterator;function b(O){return O===null||typeof O!="object"?null:(O=T&&O[T]||O["@@iterator"],typeof O=="function"?O:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,Y={};function F(O,J,le){this.props=O,this.context=J,this.refs=Y,this.updater=le||D}F.prototype.isReactComponent={},F.prototype.setState=function(O,J){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,J,"setState")},F.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function ne(){}ne.prototype=F.prototype;function K(O,J,le){this.props=O,this.context=J,this.refs=Y,this.updater=le||D}var re=K.prototype=new ne;re.constructor=K,j(re,F.prototype),re.isPureReactComponent=!0;var Ce=Array.isArray,oe={H:null,A:null,T:null,S:null,V:null},Re=Object.prototype.hasOwnProperty;function x(O,J,le,se,de,Me){return le=Me.ref,{$$typeof:t,type:O,key:J,ref:le!==void 0?le:null,props:Me}}function w(O,J){return x(O.type,J,void 0,void 0,void 0,O.props)}function I(O){return typeof O=="object"&&O!==null&&O.$$typeof===t}function P(O){var J={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(le){return J[le]})}var M=/\/+/g;function k(O,J){return typeof O=="object"&&O!==null&&O.key!=null?P(""+O.key):J.toString(36)}function C(){}function ht(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(C,C):(O.status="pending",O.then(function(J){O.status==="pending"&&(O.status="fulfilled",O.value=J)},function(J){O.status==="pending"&&(O.status="rejected",O.reason=J)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function it(O,J,le,se,de){var Me=typeof O;(Me==="undefined"||Me==="boolean")&&(O=null);var Ee=!1;if(O===null)Ee=!0;else switch(Me){case"bigint":case"string":case"number":Ee=!0;break;case"object":switch(O.$$typeof){case t:case e:Ee=!0;break;case _:return Ee=O._init,it(Ee(O._payload),J,le,se,de)}}if(Ee)return de=de(O),Ee=se===""?"."+k(O,0):se,Ce(de)?(le="",Ee!=null&&(le=Ee.replace(M,"$&/")+"/"),it(de,J,le,"",function(Yn){return Yn})):de!=null&&(I(de)&&(de=w(de,le+(de.key==null||O&&O.key===de.key?"":(""+de.key).replace(M,"$&/")+"/")+Ee)),J.push(de)),1;Ee=0;var jt=se===""?".":se+":";if(Ce(O))for(var Ye=0;Ye<O.length;Ye++)se=O[Ye],Me=jt+k(se,Ye),Ee+=it(se,J,le,Me,de);else if(Ye=b(O),typeof Ye=="function")for(O=Ye.call(O),Ye=0;!(se=O.next()).done;)se=se.value,Me=jt+k(se,Ye++),Ee+=it(se,J,le,Me,de);else if(Me==="object"){if(typeof O.then=="function")return it(ht(O),J,le,se,de);throw J=String(O),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return Ee}function $(O,J,le){if(O==null)return O;var se=[],de=0;return it(O,se,"","",function(Me){return J.call(le,Me,de++)}),se}function ae(O){if(O._status===-1){var J=O._result;J=J(),J.then(function(le){(O._status===0||O._status===-1)&&(O._status=1,O._result=le)},function(le){(O._status===0||O._status===-1)&&(O._status=2,O._result=le)}),O._status===-1&&(O._status=0,O._result=J)}if(O._status===1)return O._result.default;throw O._result}var pe=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function Be(){}return Ie.Children={map:$,forEach:function(O,J,le){$(O,function(){J.apply(this,arguments)},le)},count:function(O){var J=0;return $(O,function(){J++}),J},toArray:function(O){return $(O,function(J){return J})||[]},only:function(O){if(!I(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Ie.Component=F,Ie.Fragment=n,Ie.Profiler=o,Ie.PureComponent=K,Ie.StrictMode=s,Ie.Suspense=p,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=oe,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(O){return oe.H.useMemoCache(O)}},Ie.cache=function(O){return function(){return O.apply(null,arguments)}},Ie.cloneElement=function(O,J,le){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var se=j({},O.props),de=O.key,Me=void 0;if(J!=null)for(Ee in J.ref!==void 0&&(Me=void 0),J.key!==void 0&&(de=""+J.key),J)!Re.call(J,Ee)||Ee==="key"||Ee==="__self"||Ee==="__source"||Ee==="ref"&&J.ref===void 0||(se[Ee]=J[Ee]);var Ee=arguments.length-2;if(Ee===1)se.children=le;else if(1<Ee){for(var jt=Array(Ee),Ye=0;Ye<Ee;Ye++)jt[Ye]=arguments[Ye+2];se.children=jt}return x(O.type,de,void 0,void 0,Me,se)},Ie.createContext=function(O){return O={$$typeof:c,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},Ie.createElement=function(O,J,le){var se,de={},Me=null;if(J!=null)for(se in J.key!==void 0&&(Me=""+J.key),J)Re.call(J,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(de[se]=J[se]);var Ee=arguments.length-2;if(Ee===1)de.children=le;else if(1<Ee){for(var jt=Array(Ee),Ye=0;Ye<Ee;Ye++)jt[Ye]=arguments[Ye+2];de.children=jt}if(O&&O.defaultProps)for(se in Ee=O.defaultProps,Ee)de[se]===void 0&&(de[se]=Ee[se]);return x(O,Me,void 0,void 0,null,de)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(O){return{$$typeof:d,render:O}},Ie.isValidElement=I,Ie.lazy=function(O){return{$$typeof:_,_payload:{_status:-1,_result:O},_init:ae}},Ie.memo=function(O,J){return{$$typeof:g,type:O,compare:J===void 0?null:J}},Ie.startTransition=function(O){var J=oe.T,le={};oe.T=le;try{var se=O(),de=oe.S;de!==null&&de(le,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(Be,pe)}catch(Me){pe(Me)}finally{oe.T=J}},Ie.unstable_useCacheRefresh=function(){return oe.H.useCacheRefresh()},Ie.use=function(O){return oe.H.use(O)},Ie.useActionState=function(O,J,le){return oe.H.useActionState(O,J,le)},Ie.useCallback=function(O,J){return oe.H.useCallback(O,J)},Ie.useContext=function(O){return oe.H.useContext(O)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(O,J){return oe.H.useDeferredValue(O,J)},Ie.useEffect=function(O,J,le){var se=oe.H;if(typeof le=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return se.useEffect(O,J)},Ie.useId=function(){return oe.H.useId()},Ie.useImperativeHandle=function(O,J,le){return oe.H.useImperativeHandle(O,J,le)},Ie.useInsertionEffect=function(O,J){return oe.H.useInsertionEffect(O,J)},Ie.useLayoutEffect=function(O,J){return oe.H.useLayoutEffect(O,J)},Ie.useMemo=function(O,J){return oe.H.useMemo(O,J)},Ie.useOptimistic=function(O,J){return oe.H.useOptimistic(O,J)},Ie.useReducer=function(O,J,le){return oe.H.useReducer(O,J,le)},Ie.useRef=function(O){return oe.H.useRef(O)},Ie.useState=function(O){return oe.H.useState(O)},Ie.useSyncExternalStore=function(O,J,le){return oe.H.useSyncExternalStore(O,J,le)},Ie.useTransition=function(){return oe.H.useTransition()},Ie.version="19.1.1",Ie}var g0;function qp(){return g0||(g0=1,Mm.exports=ER()),Mm.exports}var B=qp();const ns=af(B);var Pm={exports:{}},nu={},Vm={exports:{}},km={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y0;function TR(){return y0||(y0=1,(function(t){function e($,ae){var pe=$.length;$.push(ae);e:for(;0<pe;){var Be=pe-1>>>1,O=$[Be];if(0<o(O,ae))$[Be]=ae,$[pe]=O,pe=Be;else break e}}function n($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var ae=$[0],pe=$.pop();if(pe!==ae){$[0]=pe;e:for(var Be=0,O=$.length,J=O>>>1;Be<J;){var le=2*(Be+1)-1,se=$[le],de=le+1,Me=$[de];if(0>o(se,pe))de<O&&0>o(Me,se)?($[Be]=Me,$[de]=pe,Be=de):($[Be]=se,$[le]=pe,Be=le);else if(de<O&&0>o(Me,pe))$[Be]=Me,$[de]=pe,Be=de;else break e}}return ae}function o($,ae){var pe=$.sortIndex-ae.sortIndex;return pe!==0?pe:$.id-ae.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;t.unstable_now=function(){return u.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var p=[],g=[],_=1,T=null,b=3,D=!1,j=!1,Y=!1,F=!1,ne=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;function Ce($){for(var ae=n(g);ae!==null;){if(ae.callback===null)s(g);else if(ae.startTime<=$)s(g),ae.sortIndex=ae.expirationTime,e(p,ae);else break;ae=n(g)}}function oe($){if(Y=!1,Ce($),!j)if(n(p)!==null)j=!0,Re||(Re=!0,k());else{var ae=n(g);ae!==null&&it(oe,ae.startTime-$)}}var Re=!1,x=-1,w=5,I=-1;function P(){return F?!0:!(t.unstable_now()-I<w)}function M(){if(F=!1,Re){var $=t.unstable_now();I=$;var ae=!0;try{e:{j=!1,Y&&(Y=!1,K(x),x=-1),D=!0;var pe=b;try{t:{for(Ce($),T=n(p);T!==null&&!(T.expirationTime>$&&P());){var Be=T.callback;if(typeof Be=="function"){T.callback=null,b=T.priorityLevel;var O=Be(T.expirationTime<=$);if($=t.unstable_now(),typeof O=="function"){T.callback=O,Ce($),ae=!0;break t}T===n(p)&&s(p),Ce($)}else s(p);T=n(p)}if(T!==null)ae=!0;else{var J=n(g);J!==null&&it(oe,J.startTime-$),ae=!1}}break e}finally{T=null,b=pe,D=!1}ae=void 0}}finally{ae?k():Re=!1}}}var k;if(typeof re=="function")k=function(){re(M)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,ht=C.port2;C.port1.onmessage=M,k=function(){ht.postMessage(null)}}else k=function(){ne(M,0)};function it($,ae){x=ne(function(){$(t.unstable_now())},ae)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function($){switch(b){case 1:case 2:case 3:var ae=3;break;default:ae=b}var pe=b;b=ae;try{return $()}finally{b=pe}},t.unstable_requestPaint=function(){F=!0},t.unstable_runWithPriority=function($,ae){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var pe=b;b=$;try{return ae()}finally{b=pe}},t.unstable_scheduleCallback=function($,ae,pe){var Be=t.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?Be+pe:Be):pe=Be,$){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=pe+O,$={id:_++,callback:ae,priorityLevel:$,startTime:pe,expirationTime:O,sortIndex:-1},pe>Be?($.sortIndex=pe,e(g,$),n(p)===null&&$===n(g)&&(Y?(K(x),x=-1):Y=!0,it(oe,pe-Be))):($.sortIndex=O,e(p,$),j||D||(j=!0,Re||(Re=!0,k()))),$},t.unstable_shouldYield=P,t.unstable_wrapCallback=function($){var ae=b;return function(){var pe=b;b=ae;try{return $.apply(this,arguments)}finally{b=pe}}}})(km)),km}var _0;function AR(){return _0||(_0=1,Vm.exports=TR()),Vm.exports}var Lm={exports:{}},Jt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v0;function bR(){if(v0)return Jt;v0=1;var t=qp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,_){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:_}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Jt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Jt.createPortal=function(p,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,_)},Jt.flushSync=function(p){var g=c.T,_=s.p;try{if(c.T=null,s.p=2,p)return p()}finally{c.T=g,s.p=_,s.d.f()}},Jt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Jt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Jt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var _=g.as,T=d(_,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,D=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:b,fetchPriority:D}):_==="script"&&s.d.X(p,{crossOrigin:T,integrity:b,fetchPriority:D,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Jt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=d(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Jt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,T=d(_,g.crossOrigin);s.d.L(p,_,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Jt.preloadModule=function(p,g){if(typeof p=="string")if(g){var _=d(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Jt.requestFormReset=function(p){s.d.r(p)},Jt.unstable_batchedUpdates=function(p,g){return p(g)},Jt.useFormState=function(p,g,_){return c.H.useFormState(p,g,_)},Jt.useFormStatus=function(){return c.H.useHostTransitionStatus()},Jt.version="19.1.1",Jt}var E0;function DT(){if(E0)return Lm.exports;E0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Lm.exports=bR(),Lm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T0;function SR(){if(T0)return nu;T0=1;var t=AR(),e=qp(),n=DT();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function u(i){var r=i,a=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(a=r.return),i=r.return;while(i)}return r.tag===3?a:null}function c(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function d(i){if(u(i)!==i)throw Error(s(188))}function p(i){var r=i.alternate;if(!r){if(r=u(i),r===null)throw Error(s(188));return r!==i?null:i}for(var a=i,l=r;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return d(f),i;if(m===l)return d(f),r;m=m.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=m;else{for(var E=!1,A=f.child;A;){if(A===a){E=!0,a=f,l=m;break}if(A===l){E=!0,l=f,a=m;break}A=A.sibling}if(!E){for(A=m.child;A;){if(A===a){E=!0,a=m,l=f;break}if(A===l){E=!0,l=m,a=f;break}A=A.sibling}if(!E)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?i:r}function g(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=g(i),r!==null)return r;i=i.sibling}return null}var _=Object.assign,T=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),Y=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),ne=Symbol.for("react.provider"),K=Symbol.for("react.consumer"),re=Symbol.for("react.context"),Ce=Symbol.for("react.forward_ref"),oe=Symbol.for("react.suspense"),Re=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function k(i){return i===null||typeof i!="object"?null:(i=M&&i[M]||i["@@iterator"],typeof i=="function"?i:null)}var C=Symbol.for("react.client.reference");function ht(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===C?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case j:return"Fragment";case F:return"Profiler";case Y:return"StrictMode";case oe:return"Suspense";case Re:return"SuspenseList";case I:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case D:return"Portal";case re:return(i.displayName||"Context")+".Provider";case K:return(i._context.displayName||"Context")+".Consumer";case Ce:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case x:return r=i.displayName||null,r!==null?r:ht(i.type)||"Memo";case w:r=i._payload,i=i._init;try{return ht(i(r))}catch{}}return null}var it=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},Be=[],O=-1;function J(i){return{current:i}}function le(i){0>O||(i.current=Be[O],Be[O]=null,O--)}function se(i,r){O++,Be[O]=i.current,i.current=r}var de=J(null),Me=J(null),Ee=J(null),jt=J(null);function Ye(i,r){switch(se(Ee,r),se(Me,i),se(de,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?jv(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=jv(r),i=Fv(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}le(de),se(de,i)}function Yn(){le(de),le(Me),le(Ee)}function Qo(i){i.memoizedState!==null&&se(jt,i);var r=de.current,a=Fv(r,i.type);r!==a&&(se(Me,i),se(de,a))}function va(i){Me.current===i&&(le(de),le(Me)),jt.current===i&&(le(jt),Xl._currentValue=pe)}var Ea=Object.prototype.hasOwnProperty,Es=t.unstable_scheduleCallback,Ta=t.unstable_cancelCallback,Mf=t.unstable_shouldYield,Xo=t.unstable_requestPaint,dn=t.unstable_now,Fu=t.unstable_getCurrentPriorityLevel,It=t.unstable_ImmediatePriority,Vt=t.unstable_UserBlockingPriority,Vi=t.unstable_NormalPriority,Pf=t.unstable_LowPriority,Wo=t.unstable_IdlePriority,Vf=t.log,Ts=t.unstable_setDisableYieldValue,dr=null,Xt=null;function On(i){if(typeof Vf=="function"&&Ts(i),Xt&&typeof Xt.setStrictMode=="function")try{Xt.setStrictMode(dr,i)}catch{}}var an=Math.clz32?Math.clz32:Hu,kf=Math.log,qu=Math.LN2;function Hu(i){return i>>>=0,i===0?32:31-(kf(i)/qu|0)|0}var li=256,mr=4194304;function Kn(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Nn(i,r,a){var l=i.pendingLanes;if(l===0)return 0;var f=0,m=i.suspendedLanes,E=i.pingedLanes;i=i.warmLanes;var A=l&134217727;return A!==0?(l=A&~m,l!==0?f=Kn(l):(E&=A,E!==0?f=Kn(E):a||(a=A&~i,a!==0&&(f=Kn(a))))):(A=l&~m,A!==0?f=Kn(A):E!==0?f=Kn(E):a||(a=l&~i,a!==0&&(f=Kn(a)))),f===0?0:r!==0&&r!==f&&(r&m)===0&&(m=f&-f,a=r&-r,m>=a||m===32&&(a&4194048)!==0)?r:f}function pr(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function Aa(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zo(){var i=li;return li<<=1,(li&4194048)===0&&(li=256),i}function gr(){var i=mr;return mr<<=1,(mr&62914560)===0&&(mr=4194304),i}function ba(i){for(var r=[],a=0;31>a;a++)r.push(i);return r}function mt(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Gu(i,r,a,l,f,m){var E=i.pendingLanes;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=a,i.entangledLanes&=a,i.errorRecoveryDisabledLanes&=a,i.shellSuspendCounter=0;var A=i.entanglements,R=i.expirationTimes,z=i.hiddenUpdates;for(a=E&~a;0<a;){var Q=31-an(a),W=1<<Q;A[Q]=0,R[Q]=-1;var q=z[Q];if(q!==null)for(z[Q]=null,Q=0;Q<q.length;Q++){var H=q[Q];H!==null&&(H.lane&=-536870913)}a&=~W}l!==0&&yr(i,l,0),m!==0&&f===0&&i.tag!==0&&(i.suspendedLanes|=m&~(E&~r))}function yr(i,r,a){i.pendingLanes|=r,i.suspendedLanes&=~r;var l=31-an(r);i.entangledLanes|=r,i.entanglements[l]=i.entanglements[l]|1073741824|a&4194090}function _r(i,r){var a=i.entangledLanes|=r;for(i=i.entanglements;a;){var l=31-an(a),f=1<<l;f&r|i[l]&r&&(i[l]|=r),a&=~f}}function Jo(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function el(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function ki(){var i=ae.p;return i!==0?i:(i=window.event,i===void 0?32:o0(i.type))}function Lf(i,r){var a=ae.p;try{return ae.p=i,r()}finally{ae.p=a}}var ui=Math.random().toString(36).slice(2),pt="__reactFiber$"+ui,Ft="__reactProps$"+ui,Li="__reactContainer$"+ui,As="__reactEvents$"+ui,bs="__reactListeners$"+ui,Uf="__reactHandles$"+ui,$n="__reactResources$"+ui,vr="__reactMarker$"+ui;function Sa(i){delete i[pt],delete i[Ft],delete i[As],delete i[bs],delete i[Uf]}function ci(i){var r=i[pt];if(r)return r;for(var a=i.parentNode;a;){if(r=a[Li]||a[pt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(i=Yv(i);i!==null;){if(a=i[pt])return a;i=Yv(i)}return r}i=a,a=i.parentNode}return null}function hi(i){if(i=i[pt]||i[Li]){var r=i.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return i}return null}function Er(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function Tr(i){var r=i[$n];return r||(r=i[$n]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function gt(i){i[vr]=!0}var Yu=new Set,Ss={};function fi(i,r){di(i,r),di(i+"Capture",r)}function di(i,r){for(Ss[i]=r,i=0;i<r.length;i++)Yu.add(r[i])}var ws=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),mi={},wa={};function Bf(i){return Ea.call(wa,i)?!0:Ea.call(mi,i)?!1:ws.test(i)?wa[i]=!0:(mi[i]=!0,!1)}function Rs(i,r,a){if(Bf(r))if(a===null)i.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+a)}}function Is(i,r,a){if(a===null)i.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+a)}}function Mn(i,r,a,l){if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttributeNS(r,a,""+l)}}var Cs,Ra;function Ui(i){if(Cs===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Cs=r&&r[1]||"",Ra=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Cs+i+Ra}var Ia=!1;function Ca(i,r){if(!i||Ia)return"";Ia=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(H){var q=H}Reflect.construct(i,[],W)}else{try{W.call()}catch(H){q=H}i.call(W.prototype)}}else{try{throw Error()}catch(H){q=H}(W=i())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(H){if(H&&q&&typeof H.stack=="string")return[H.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),E=m[0],A=m[1];if(E&&A){var R=E.split(`
`),z=A.split(`
`);for(f=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;f<z.length&&!z[f].includes("DetermineComponentFrameRoot");)f++;if(l===R.length||f===z.length)for(l=R.length-1,f=z.length-1;1<=l&&0<=f&&R[l]!==z[f];)f--;for(;1<=l&&0<=f;l--,f--)if(R[l]!==z[f]){if(l!==1||f!==1)do if(l--,f--,0>f||R[l]!==z[f]){var Q=`
`+R[l].replace(" at new "," at ");return i.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",i.displayName)),Q}while(1<=l&&0<=f);break}}}finally{Ia=!1,Error.prepareStackTrace=a}return(a=i?i.displayName||i.name:"")?Ui(a):""}function zf(i){switch(i.tag){case 26:case 27:case 5:return Ui(i.type);case 16:return Ui("Lazy");case 13:return Ui("Suspense");case 19:return Ui("SuspenseList");case 0:case 15:return Ca(i.type,!1);case 11:return Ca(i.type.render,!1);case 1:return Ca(i.type,!0);case 31:return Ui("Activity");default:return""}}function Qn(i){try{var r="";do r+=zf(i),i=i.return;while(i);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function ot(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ar(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Ds(i){var r=Ar(i)?"checked":"value",a=Object.getOwnPropertyDescriptor(i.constructor.prototype,r),l=""+i[r];if(!i.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,m=a.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return f.call(this)},set:function(E){l=""+E,m.call(this,E)}}),Object.defineProperty(i,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function br(i){i._valueTracker||(i._valueTracker=Ds(i))}function Ke(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return i&&(l=Ar(i)?i.checked?"true":"false":i.value),i=l,i!==a?(r.setValue(i),!0):!1}function Bi(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var xs=/[\n"\\]/g;function kt(i){return i.replace(xs,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function tl(i,r,a,l,f,m,E,A){i.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?i.type=E:i.removeAttribute("type"),r!=null?E==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+ot(r)):i.value!==""+ot(r)&&(i.value=""+ot(r)):E!=="submit"&&E!=="reset"||i.removeAttribute("value"),r!=null?il(i,E,ot(r)):a!=null?il(i,E,ot(a)):l!=null&&i.removeAttribute("value"),f==null&&m!=null&&(i.defaultChecked=!!m),f!=null&&(i.checked=f&&typeof f!="function"&&typeof f!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.name=""+ot(A):i.removeAttribute("name")}function nl(i,r,a,l,f,m,E,A){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(i.type=m),r!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||r!=null))return;a=a!=null?""+ot(a):"",r=r!=null?""+ot(r):a,A||r===i.value||(i.value=r),i.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,i.checked=A?i.checked:!!l,i.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(i.name=E)}function il(i,r,a){r==="number"&&Bi(i.ownerDocument)===i||i.defaultValue===""+a||(i.defaultValue=""+a)}function Sr(i,r,a,l){if(i=i.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<i.length;a++)f=r.hasOwnProperty("$"+i[a].value),i[a].selected!==f&&(i[a].selected=f),f&&l&&(i[a].defaultSelected=!0)}else{for(a=""+ot(a),r=null,f=0;f<i.length;f++){if(i[f].value===a){i[f].selected=!0,l&&(i[f].defaultSelected=!0);return}r!==null||i[f].disabled||(r=i[f])}r!==null&&(r.selected=!0)}}function Ku(i,r,a){if(r!=null&&(r=""+ot(r),r!==i.value&&(i.value=r),a==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=a!=null?""+ot(a):""}function $u(i,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(it(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=ot(r),i.defaultValue=a,l=i.textContent,l===a&&l!==""&&l!==null&&(i.value=l)}function Pn(i,r){if(r){var a=i.firstChild;if(a&&a===i.lastChild&&a.nodeType===3){a.nodeValue=r;return}}i.textContent=r}var zi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function rl(i,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":l?i.setProperty(r,a):typeof a!="number"||a===0||zi.has(r)?r==="float"?i.cssFloat=a:i[r]=(""+a).trim():i[r]=a+"px"}function sl(i,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?i.setProperty(l,""):l==="float"?i.cssFloat="":i[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&rl(i,f,l)}else for(var m in r)r.hasOwnProperty(m)&&rl(i,m,r[m])}function Da(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Xu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xn(i){return Xu.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var al=null;function ol(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var wr=null,on=null;function Wu(i){var r=hi(i);if(r&&(i=r.stateNode)){var a=i[Ft]||null;e:switch(i=r.stateNode,r.type){case"input":if(tl(i,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=i;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+kt(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==i&&l.form===i.form){var f=l[Ft]||null;if(!f)throw Error(s(90));tl(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===i.form&&Ke(l)}break e;case"textarea":Ku(i,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Sr(i,!!a.multiple,r,!1)}}}var Os=!1;function Ns(i,r,a){if(Os)return i(r,a);Os=!0;try{var l=i(r);return l}finally{if(Os=!1,(wr!==null||on!==null)&&(zc(),wr&&(r=wr,i=on,on=wr=null,Wu(r),i)))for(r=0;r<i.length;r++)Wu(i[r])}}function Rr(i,r){var a=i.stateNode;if(a===null)return null;var l=a[Ft]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(i=i.type,l=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!l;break e;default:i=!1}if(i)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ji=!1;if(ln)try{var Ir={};Object.defineProperty(Ir,"passive",{get:function(){ji=!0}}),window.addEventListener("test",Ir,Ir),window.removeEventListener("test",Ir,Ir)}catch{ji=!1}var Vn=null,Ze=null,xa=null;function Zu(){if(xa)return xa;var i,r=Ze,a=r.length,l,f="value"in Vn?Vn.value:Vn.textContent,m=f.length;for(i=0;i<a&&r[i]===f[i];i++);var E=a-i;for(l=1;l<=E&&r[a-l]===f[m-l];l++);return xa=f.slice(i,1<l?1-l:void 0)}function Ms(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function Ps(){return!0}function ll(){return!1}function Ct(i){function r(a,l,f,m,E){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=m,this.target=E,this.currentTarget=null;for(var A in i)i.hasOwnProperty(A)&&(a=i[A],this[A]=a?a(m):m[A]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Ps:ll,this.isPropagationStopped=ll,this}return _(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ps)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ps)},persist:function(){},isPersistent:Ps}),r}var Wt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vs=Ct(Wt),ks=_({},Wt,{view:0,detail:0}),Ls=Ct(ks),Oa,Us,pi,Bs=_({},ks,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pa,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==pi&&(pi&&i.type==="mousemove"?(Oa=i.screenX-pi.screenX,Us=i.screenY-pi.screenY):Us=Oa=0,pi=i),Oa)},movementY:function(i){return"movementY"in i?i.movementY:Us}}),zs=Ct(Bs),jf=_({},Bs,{dataTransfer:0}),Ju=Ct(jf),js=_({},ks,{relatedTarget:0}),Na=Ct(js),ec=_({},Wt,{animationName:0,elapsedTime:0,pseudoElement:0}),ul=Ct(ec),cl=_({},Wt,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),tc=Ct(cl),Ma=_({},Wt,{data:0}),hl=Ct(Ma),nc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ic={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rc(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=ic[i])?!!r[i]:!1}function Pa(){return rc}var sc=_({},ks,{key:function(i){if(i.key){var r=nc[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=Ms(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Fi[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pa,charCode:function(i){return i.type==="keypress"?Ms(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ms(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Va=Ct(sc),un=_({},Bs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fl=Ct(un),ac=_({},ks,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pa}),Cr=Ct(ac),h=_({},Wt,{propertyName:0,elapsedTime:0,pseudoElement:0}),y=Ct(h),v=_({},Bs,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),S=Ct(v),U=_({},Wt,{newState:0,oldState:0}),G=Ct(U),ie=[9,13,27,32],Se=ln&&"CompositionEvent"in window,tt=null;ln&&"documentMode"in document&&(tt=document.documentMode);var qe=ln&&"TextEvent"in window&&!tt,yt=ln&&(!Se||tt&&8<tt&&11>=tt),En=" ",gi=!1;function Wn(i,r){switch(i){case"keyup":return ie.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zn(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Jn=!1;function dl(i,r){switch(i){case"compositionend":return Zn(r);case"keypress":return r.which!==32?null:(gi=!0,En);case"textInput":return i=r.data,i===En&&gi?null:i;default:return null}}function GS(i,r){if(Jn)return i==="compositionend"||!Se&&Wn(i,r)?(i=Zu(),xa=Ze=Vn=null,Jn=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return yt&&r.locale!=="ko"?null:r.data;default:return null}}var YS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ty(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!YS[i.type]:r==="textarea"}function ny(i,r,a,l){wr?on?on.push(l):on=[l]:wr=l,r=Yc(r,"onChange"),0<r.length&&(a=new Vs("onChange","change",null,a,l),i.push({event:a,listeners:r}))}var ml=null,pl=null;function KS(i){kv(i,0)}function oc(i){var r=Er(i);if(Ke(r))return i}function iy(i,r){if(i==="change")return r}var ry=!1;if(ln){var Ff;if(ln){var qf="oninput"in document;if(!qf){var sy=document.createElement("div");sy.setAttribute("oninput","return;"),qf=typeof sy.oninput=="function"}Ff=qf}else Ff=!1;ry=Ff&&(!document.documentMode||9<document.documentMode)}function ay(){ml&&(ml.detachEvent("onpropertychange",oy),pl=ml=null)}function oy(i){if(i.propertyName==="value"&&oc(pl)){var r=[];ny(r,pl,i,ol(i)),Ns(KS,r)}}function $S(i,r,a){i==="focusin"?(ay(),ml=r,pl=a,ml.attachEvent("onpropertychange",oy)):i==="focusout"&&ay()}function QS(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return oc(pl)}function XS(i,r){if(i==="click")return oc(r)}function WS(i,r){if(i==="input"||i==="change")return oc(r)}function ZS(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var Tn=typeof Object.is=="function"?Object.is:ZS;function gl(i,r){if(Tn(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var a=Object.keys(i),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!Ea.call(r,f)||!Tn(i[f],r[f]))return!1}return!0}function ly(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function uy(i,r){var a=ly(i);i=0;for(var l;a;){if(a.nodeType===3){if(l=i+a.textContent.length,i<=r&&l>=r)return{node:a,offset:r-i};i=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ly(a)}}function cy(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?cy(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function hy(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Bi(i.document);r instanceof i.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)i=r.contentWindow;else break;r=Bi(i.document)}return r}function Hf(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var JS=ln&&"documentMode"in document&&11>=document.documentMode,ka=null,Gf=null,yl=null,Yf=!1;function fy(i,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Yf||ka==null||ka!==Bi(l)||(l=ka,"selectionStart"in l&&Hf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),yl&&gl(yl,l)||(yl=l,l=Yc(Gf,"onSelect"),0<l.length&&(r=new Vs("onSelect","select",null,r,a),i.push({event:r,listeners:l}),r.target=ka)))}function Fs(i,r){var a={};return a[i.toLowerCase()]=r.toLowerCase(),a["Webkit"+i]="webkit"+r,a["Moz"+i]="moz"+r,a}var La={animationend:Fs("Animation","AnimationEnd"),animationiteration:Fs("Animation","AnimationIteration"),animationstart:Fs("Animation","AnimationStart"),transitionrun:Fs("Transition","TransitionRun"),transitionstart:Fs("Transition","TransitionStart"),transitioncancel:Fs("Transition","TransitionCancel"),transitionend:Fs("Transition","TransitionEnd")},Kf={},dy={};ln&&(dy=document.createElement("div").style,"AnimationEvent"in window||(delete La.animationend.animation,delete La.animationiteration.animation,delete La.animationstart.animation),"TransitionEvent"in window||delete La.transitionend.transition);function qs(i){if(Kf[i])return Kf[i];if(!La[i])return i;var r=La[i],a;for(a in r)if(r.hasOwnProperty(a)&&a in dy)return Kf[i]=r[a];return i}var my=qs("animationend"),py=qs("animationiteration"),gy=qs("animationstart"),ew=qs("transitionrun"),tw=qs("transitionstart"),nw=qs("transitioncancel"),yy=qs("transitionend"),_y=new Map,$f="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$f.push("scrollEnd");function ei(i,r){_y.set(i,r),fi(r,[i])}var vy=new WeakMap;function kn(i,r){if(typeof i=="object"&&i!==null){var a=vy.get(i);return a!==void 0?a:(r={value:i,source:r,stack:Qn(r)},vy.set(i,r),r)}return{value:i,source:r,stack:Qn(r)}}var Ln=[],Ua=0,Qf=0;function lc(){for(var i=Ua,r=Qf=Ua=0;r<i;){var a=Ln[r];Ln[r++]=null;var l=Ln[r];Ln[r++]=null;var f=Ln[r];Ln[r++]=null;var m=Ln[r];if(Ln[r++]=null,l!==null&&f!==null){var E=l.pending;E===null?f.next=f:(f.next=E.next,E.next=f),l.pending=f}m!==0&&Ey(a,f,m)}}function uc(i,r,a,l){Ln[Ua++]=i,Ln[Ua++]=r,Ln[Ua++]=a,Ln[Ua++]=l,Qf|=l,i.lanes|=l,i=i.alternate,i!==null&&(i.lanes|=l)}function Xf(i,r,a,l){return uc(i,r,a,l),cc(i)}function Ba(i,r){return uc(i,null,null,r),cc(i)}function Ey(i,r,a){i.lanes|=a;var l=i.alternate;l!==null&&(l.lanes|=a);for(var f=!1,m=i.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(i=m.stateNode,i===null||i._visibility&1||(f=!0)),i=m,m=m.return;return i.tag===3?(m=i.stateNode,f&&r!==null&&(f=31-an(a),i=m.hiddenUpdates,l=i[f],l===null?i[f]=[r]:l.push(r),r.lane=a|536870912),m):null}function cc(i){if(50<Fl)throw Fl=0,nm=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var za={};function iw(i,r,a,l){this.tag=i,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(i,r,a,l){return new iw(i,r,a,l)}function Wf(i){return i=i.prototype,!(!i||!i.isReactComponent)}function qi(i,r){var a=i.alternate;return a===null?(a=An(i.tag,r,i.key,i.mode),a.elementType=i.elementType,a.type=i.type,a.stateNode=i.stateNode,a.alternate=i,i.alternate=a):(a.pendingProps=r,a.type=i.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=i.flags&65011712,a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,r=i.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=i.sibling,a.index=i.index,a.ref=i.ref,a.refCleanup=i.refCleanup,a}function Ty(i,r){i.flags&=65011714;var a=i.alternate;return a===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,r=a.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function hc(i,r,a,l,f,m){var E=0;if(l=i,typeof i=="function")Wf(i)&&(E=1);else if(typeof i=="string")E=sR(i,a,de.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case I:return i=An(31,a,r,f),i.elementType=I,i.lanes=m,i;case j:return Hs(a.children,f,m,r);case Y:E=8,f|=24;break;case F:return i=An(12,a,r,f|2),i.elementType=F,i.lanes=m,i;case oe:return i=An(13,a,r,f),i.elementType=oe,i.lanes=m,i;case Re:return i=An(19,a,r,f),i.elementType=Re,i.lanes=m,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case ne:case re:E=10;break e;case K:E=9;break e;case Ce:E=11;break e;case x:E=14;break e;case w:E=16,l=null;break e}E=29,a=Error(s(130,i===null?"null":typeof i,"")),l=null}return r=An(E,a,r,f),r.elementType=i,r.type=l,r.lanes=m,r}function Hs(i,r,a,l){return i=An(7,i,l,r),i.lanes=a,i}function Zf(i,r,a){return i=An(6,i,null,r),i.lanes=a,i}function Jf(i,r,a){return r=An(4,i.children!==null?i.children:[],i.key,r),r.lanes=a,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var ja=[],Fa=0,fc=null,dc=0,Un=[],Bn=0,Gs=null,Hi=1,Gi="";function Ys(i,r){ja[Fa++]=dc,ja[Fa++]=fc,fc=i,dc=r}function Ay(i,r,a){Un[Bn++]=Hi,Un[Bn++]=Gi,Un[Bn++]=Gs,Gs=i;var l=Hi;i=Gi;var f=32-an(l)-1;l&=~(1<<f),a+=1;var m=32-an(r)+f;if(30<m){var E=f-f%5;m=(l&(1<<E)-1).toString(32),l>>=E,f-=E,Hi=1<<32-an(r)+f|a<<f|l,Gi=m+i}else Hi=1<<m|a<<f|l,Gi=i}function ed(i){i.return!==null&&(Ys(i,1),Ay(i,1,0))}function td(i){for(;i===fc;)fc=ja[--Fa],ja[Fa]=null,dc=ja[--Fa],ja[Fa]=null;for(;i===Gs;)Gs=Un[--Bn],Un[Bn]=null,Gi=Un[--Bn],Un[Bn]=null,Hi=Un[--Bn],Un[Bn]=null}var cn=null,ft=null,je=!1,Ks=null,yi=!1,nd=Error(s(519));function $s(i){var r=Error(s(418,""));throw El(kn(r,i)),nd}function by(i){var r=i.stateNode,a=i.type,l=i.memoizedProps;switch(r[pt]=i,r[Ft]=l,a){case"dialog":Ne("cancel",r),Ne("close",r);break;case"iframe":case"object":case"embed":Ne("load",r);break;case"video":case"audio":for(a=0;a<Hl.length;a++)Ne(Hl[a],r);break;case"source":Ne("error",r);break;case"img":case"image":case"link":Ne("error",r),Ne("load",r);break;case"details":Ne("toggle",r);break;case"input":Ne("invalid",r),nl(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),br(r);break;case"select":Ne("invalid",r);break;case"textarea":Ne("invalid",r),$u(r,l.value,l.defaultValue,l.children),br(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||zv(r.textContent,a)?(l.popover!=null&&(Ne("beforetoggle",r),Ne("toggle",r)),l.onScroll!=null&&Ne("scroll",r),l.onScrollEnd!=null&&Ne("scrollend",r),l.onClick!=null&&(r.onclick=Kc),r=!0):r=!1,r||$s(i)}function Sy(i){for(cn=i.return;cn;)switch(cn.tag){case 5:case 13:yi=!1;return;case 27:case 3:yi=!0;return;default:cn=cn.return}}function _l(i){if(i!==cn)return!1;if(!je)return Sy(i),je=!0,!1;var r=i.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=i.type,a=!(a!=="form"&&a!=="button")||_m(i.type,i.memoizedProps)),a=!a),a&&ft&&$s(i),Sy(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));e:{for(i=i.nextSibling,r=0;i;){if(i.nodeType===8)if(a=i.data,a==="/$"){if(r===0){ft=ni(i.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;i=i.nextSibling}ft=null}}else r===27?(r=ft,Hr(i.type)?(i=Am,Am=null,ft=i):ft=r):ft=cn?ni(i.stateNode.nextSibling):null;return!0}function vl(){ft=cn=null,je=!1}function wy(){var i=Ks;return i!==null&&(gn===null?gn=i:gn.push.apply(gn,i),Ks=null),i}function El(i){Ks===null?Ks=[i]:Ks.push(i)}var id=J(null),Qs=null,Yi=null;function Dr(i,r,a){se(id,r._currentValue),r._currentValue=a}function Ki(i){i._currentValue=id.current,le(id)}function rd(i,r,a){for(;i!==null;){var l=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),i===a)break;i=i.return}}function sd(i,r,a,l){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var m=f.dependencies;if(m!==null){var E=f.child;m=m.firstContext;e:for(;m!==null;){var A=m;m=f;for(var R=0;R<r.length;R++)if(A.context===r[R]){m.lanes|=a,A=m.alternate,A!==null&&(A.lanes|=a),rd(m.return,a,i),l||(E=null);break e}m=A.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(s(341));E.lanes|=a,m=E.alternate,m!==null&&(m.lanes|=a),rd(E,a,i),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===i){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function Tl(i,r,a,l){i=null;for(var f=r,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var A=f.type;Tn(f.pendingProps.value,E.value)||(i!==null?i.push(A):i=[A])}}else if(f===jt.current){if(E=f.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(i!==null?i.push(Xl):i=[Xl])}f=f.return}i!==null&&sd(r,i,a,l),r.flags|=262144}function mc(i){for(i=i.firstContext;i!==null;){if(!Tn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Xs(i){Qs=i,Yi=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Zt(i){return Ry(Qs,i)}function pc(i,r){return Qs===null&&Xs(i),Ry(i,r)}function Ry(i,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Yi===null){if(i===null)throw Error(s(308));Yi=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else Yi=Yi.next=r;return a}var rw=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(a,l){i.push(l)}};this.abort=function(){r.aborted=!0,i.forEach(function(a){return a()})}},sw=t.unstable_scheduleCallback,aw=t.unstable_NormalPriority,Dt={$$typeof:re,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ad(){return{controller:new rw,data:new Map,refCount:0}}function Al(i){i.refCount--,i.refCount===0&&sw(aw,function(){i.controller.abort()})}var bl=null,od=0,qa=0,Ha=null;function ow(i,r){if(bl===null){var a=bl=[];od=0,qa=um(),Ha={status:"pending",value:void 0,then:function(l){a.push(l)}}}return od++,r.then(Iy,Iy),r}function Iy(){if(--od===0&&bl!==null){Ha!==null&&(Ha.status="fulfilled");var i=bl;bl=null,qa=0,Ha=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function lw(i,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return i.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var Cy=$.S;$.S=function(i,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&ow(i,r),Cy!==null&&Cy(i,r)};var Ws=J(null);function ld(){var i=Ws.current;return i!==null?i:Je.pooledCache}function gc(i,r){r===null?se(Ws,Ws.current):se(Ws,r.pool)}function Dy(){var i=ld();return i===null?null:{parent:Dt._currentValue,pool:i}}var Sl=Error(s(460)),xy=Error(s(474)),yc=Error(s(542)),ud={then:function(){}};function Oy(i){return i=i.status,i==="fulfilled"||i==="rejected"}function _c(){}function Ny(i,r,a){switch(a=i[a],a===void 0?i.push(r):a!==r&&(r.then(_c,_c),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Py(i),i;default:if(typeof r.status=="string")r.then(_c,_c);else{if(i=Je,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Py(i),i}throw wl=r,Sl}}var wl=null;function My(){if(wl===null)throw Error(s(459));var i=wl;return wl=null,i}function Py(i){if(i===Sl||i===yc)throw Error(s(483))}var xr=!1;function cd(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hd(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Or(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Nr(i,r,a){var l=i.updateQueue;if(l===null)return null;if(l=l.shared,(He&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=cc(i),Ey(i,null,a),r}return uc(i,l,r,a),cc(i)}function Rl(i,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=i.pendingLanes,a|=l,r.lanes=a,_r(i,a)}}function fd(i,r){var a=i.updateQueue,l=i.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?f=m=E:m=m.next=E,a=a.next}while(a!==null);m===null?f=m=r:m=m.next=r}else f=m=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},i.updateQueue=a;return}i=a.lastBaseUpdate,i===null?a.firstBaseUpdate=r:i.next=r,a.lastBaseUpdate=r}var dd=!1;function Il(){if(dd){var i=Ha;if(i!==null)throw i}}function Cl(i,r,a,l){dd=!1;var f=i.updateQueue;xr=!1;var m=f.firstBaseUpdate,E=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var R=A,z=R.next;R.next=null,E===null?m=z:E.next=z,E=R;var Q=i.alternate;Q!==null&&(Q=Q.updateQueue,A=Q.lastBaseUpdate,A!==E&&(A===null?Q.firstBaseUpdate=z:A.next=z,Q.lastBaseUpdate=R))}if(m!==null){var W=f.baseState;E=0,Q=z=R=null,A=m;do{var q=A.lane&-536870913,H=q!==A.lane;if(H?(Le&q)===q:(l&q)===q){q!==0&&q===qa&&(dd=!0),Q!==null&&(Q=Q.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var Te=i,ye=A;q=r;var Xe=a;switch(ye.tag){case 1:if(Te=ye.payload,typeof Te=="function"){W=Te.call(Xe,W,q);break e}W=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=ye.payload,q=typeof Te=="function"?Te.call(Xe,W,q):Te,q==null)break e;W=_({},W,q);break e;case 2:xr=!0}}q=A.callback,q!==null&&(i.flags|=64,H&&(i.flags|=8192),H=f.callbacks,H===null?f.callbacks=[q]:H.push(q))}else H={lane:q,tag:A.tag,payload:A.payload,callback:A.callback,next:null},Q===null?(z=Q=H,R=W):Q=Q.next=H,E|=q;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;H=A,A=H.next,H.next=null,f.lastBaseUpdate=H,f.shared.pending=null}}while(!0);Q===null&&(R=W),f.baseState=R,f.firstBaseUpdate=z,f.lastBaseUpdate=Q,m===null&&(f.shared.lanes=0),zr|=E,i.lanes=E,i.memoizedState=W}}function Vy(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function ky(i,r){var a=i.callbacks;if(a!==null)for(i.callbacks=null,i=0;i<a.length;i++)Vy(a[i],r)}var Ga=J(null),vc=J(0);function Ly(i,r){i=er,se(vc,i),se(Ga,r),er=i|r.baseLanes}function md(){se(vc,er),se(Ga,Ga.current)}function pd(){er=vc.current,le(Ga),le(vc)}var Mr=0,De=null,$e=null,Tt=null,Ec=!1,Ya=!1,Zs=!1,Tc=0,Dl=0,Ka=null,uw=0;function _t(){throw Error(s(321))}function gd(i,r){if(r===null)return!1;for(var a=0;a<r.length&&a<i.length;a++)if(!Tn(i[a],r[a]))return!1;return!0}function yd(i,r,a,l,f,m){return Mr=m,De=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,$.H=i===null||i.memoizedState===null?E_:T_,Zs=!1,m=a(l,f),Zs=!1,Ya&&(m=By(r,a,l,f)),Uy(i),m}function Uy(i){$.H=Ic;var r=$e!==null&&$e.next!==null;if(Mr=0,Tt=$e=De=null,Ec=!1,Dl=0,Ka=null,r)throw Error(s(300));i===null||Lt||(i=i.dependencies,i!==null&&mc(i)&&(Lt=!0))}function By(i,r,a,l){De=i;var f=0;do{if(Ya&&(Ka=null),Dl=0,Ya=!1,25<=f)throw Error(s(301));if(f+=1,Tt=$e=null,i.updateQueue!=null){var m=i.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}$.H=gw,m=r(a,l)}while(Ya);return m}function cw(){var i=$.H,r=i.useState()[0];return r=typeof r.then=="function"?xl(r):r,i=i.useState()[0],($e!==null?$e.memoizedState:null)!==i&&(De.flags|=1024),r}function _d(){var i=Tc!==0;return Tc=0,i}function vd(i,r,a){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~a}function Ed(i){if(Ec){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Ec=!1}Mr=0,Tt=$e=De=null,Ya=!1,Dl=Tc=0,Ka=null}function mn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?De.memoizedState=Tt=i:Tt=Tt.next=i,Tt}function At(){if($e===null){var i=De.alternate;i=i!==null?i.memoizedState:null}else i=$e.next;var r=Tt===null?De.memoizedState:Tt.next;if(r!==null)Tt=r,$e=i;else{if(i===null)throw De.alternate===null?Error(s(467)):Error(s(310));$e=i,i={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},Tt===null?De.memoizedState=Tt=i:Tt=Tt.next=i}return Tt}function Td(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function xl(i){var r=Dl;return Dl+=1,Ka===null&&(Ka=[]),i=Ny(Ka,i,r),r=De,(Tt===null?r.memoizedState:Tt.next)===null&&(r=r.alternate,$.H=r===null||r.memoizedState===null?E_:T_),i}function Ac(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return xl(i);if(i.$$typeof===re)return Zt(i)}throw Error(s(438,String(i)))}function Ad(i){var r=null,a=De.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=De.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Td(),De.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(i),l=0;l<i;l++)a[l]=P;return r.index++,a}function $i(i,r){return typeof r=="function"?r(i):r}function bc(i){var r=At();return bd(r,$e,i)}function bd(i,r,a){var l=i.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=i.baseQueue,m=l.pending;if(m!==null){if(f!==null){var E=f.next;f.next=m.next,m.next=E}r.baseQueue=f=m,l.pending=null}if(m=i.baseState,f===null)i.memoizedState=m;else{r=f.next;var A=E=null,R=null,z=r,Q=!1;do{var W=z.lane&-536870913;if(W!==z.lane?(Le&W)===W:(Mr&W)===W){var q=z.revertLane;if(q===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),W===qa&&(Q=!0);else if((Mr&q)===q){z=z.next,q===qa&&(Q=!0);continue}else W={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(A=R=W,E=m):R=R.next=W,De.lanes|=q,zr|=q;W=z.action,Zs&&a(m,W),m=z.hasEagerState?z.eagerState:a(m,W)}else q={lane:W,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(A=R=q,E=m):R=R.next=q,De.lanes|=W,zr|=W;z=z.next}while(z!==null&&z!==r);if(R===null?E=m:R.next=A,!Tn(m,i.memoizedState)&&(Lt=!0,Q&&(a=Ha,a!==null)))throw a;i.memoizedState=m,i.baseState=E,i.baseQueue=R,l.lastRenderedState=m}return f===null&&(l.lanes=0),[i.memoizedState,l.dispatch]}function Sd(i){var r=At(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=i;var l=a.dispatch,f=a.pending,m=r.memoizedState;if(f!==null){a.pending=null;var E=f=f.next;do m=i(m,E.action),E=E.next;while(E!==f);Tn(m,r.memoizedState)||(Lt=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),a.lastRenderedState=m}return[m,l]}function zy(i,r,a){var l=De,f=At(),m=je;if(m){if(a===void 0)throw Error(s(407));a=a()}else a=r();var E=!Tn(($e||f).memoizedState,a);E&&(f.memoizedState=a,Lt=!0),f=f.queue;var A=qy.bind(null,l,f,i);if(Ol(2048,8,A,[i]),f.getSnapshot!==r||E||Tt!==null&&Tt.memoizedState.tag&1){if(l.flags|=2048,$a(9,Sc(),Fy.bind(null,l,f,a,r),null),Je===null)throw Error(s(349));m||(Mr&124)!==0||jy(l,r,a)}return a}function jy(i,r,a){i.flags|=16384,i={getSnapshot:r,value:a},r=De.updateQueue,r===null?(r=Td(),De.updateQueue=r,r.stores=[i]):(a=r.stores,a===null?r.stores=[i]:a.push(i))}function Fy(i,r,a,l){r.value=a,r.getSnapshot=l,Hy(r)&&Gy(i)}function qy(i,r,a){return a(function(){Hy(r)&&Gy(i)})}function Hy(i){var r=i.getSnapshot;i=i.value;try{var a=r();return!Tn(i,a)}catch{return!0}}function Gy(i){var r=Ba(i,2);r!==null&&In(r,i,2)}function wd(i){var r=mn();if(typeof i=="function"){var a=i;if(i=a(),Zs){On(!0);try{a()}finally{On(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:i},r}function Yy(i,r,a,l){return i.baseState=a,bd(i,$e,typeof l=="function"?l:$i)}function hw(i,r,a,l,f){if(Rc(i))throw Error(s(485));if(i=r.action,i!==null){var m={payload:f,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){m.listeners.push(E)}};$.T!==null?a(!0):m.isTransition=!1,l(m),a=r.pending,a===null?(m.next=r.pending=m,Ky(r,m)):(m.next=a.next,r.pending=a.next=m)}}function Ky(i,r){var a=r.action,l=r.payload,f=i.state;if(r.isTransition){var m=$.T,E={};$.T=E;try{var A=a(f,l),R=$.S;R!==null&&R(E,A),$y(i,r,A)}catch(z){Rd(i,r,z)}finally{$.T=m}}else try{m=a(f,l),$y(i,r,m)}catch(z){Rd(i,r,z)}}function $y(i,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Qy(i,r,l)},function(l){return Rd(i,r,l)}):Qy(i,r,a)}function Qy(i,r,a){r.status="fulfilled",r.value=a,Xy(r),i.state=a,r=i.pending,r!==null&&(a=r.next,a===r?i.pending=null:(a=a.next,r.next=a,Ky(i,a)))}function Rd(i,r,a){var l=i.pending;if(i.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,Xy(r),r=r.next;while(r!==l)}i.action=null}function Xy(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function Wy(i,r){return r}function Zy(i,r){if(je){var a=Je.formState;if(a!==null){e:{var l=De;if(je){if(ft){t:{for(var f=ft,m=yi;f.nodeType!==8;){if(!m){f=null;break t}if(f=ni(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){ft=ni(f.nextSibling),l=f.data==="F!";break e}}$s(l)}l=!1}l&&(r=a[0])}}return a=mn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wy,lastRenderedState:r},a.queue=l,a=y_.bind(null,De,l),l.dispatch=a,l=wd(!1),m=Od.bind(null,De,!1,l.queue),l=mn(),f={state:r,dispatch:null,action:i,pending:null},l.queue=f,a=hw.bind(null,De,f,m,a),f.dispatch=a,l.memoizedState=i,[r,a,!1]}function Jy(i){var r=At();return e_(r,$e,i)}function e_(i,r,a){if(r=bd(i,r,Wy)[0],i=bc($i)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=xl(r)}catch(E){throw E===Sl?yc:E}else l=r;r=At();var f=r.queue,m=f.dispatch;return a!==r.memoizedState&&(De.flags|=2048,$a(9,Sc(),fw.bind(null,f,a),null)),[l,m,i]}function fw(i,r){i.action=r}function t_(i){var r=At(),a=$e;if(a!==null)return e_(r,a,i);At(),r=r.memoizedState,a=At();var l=a.queue.dispatch;return a.memoizedState=i,[r,l,!1]}function $a(i,r,a,l){return i={tag:i,create:a,deps:l,inst:r,next:null},r=De.updateQueue,r===null&&(r=Td(),De.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=i.next=i:(l=a.next,a.next=i,i.next=l,r.lastEffect=i),i}function Sc(){return{destroy:void 0,resource:void 0}}function n_(){return At().memoizedState}function wc(i,r,a,l){var f=mn();l=l===void 0?null:l,De.flags|=i,f.memoizedState=$a(1|r,Sc(),a,l)}function Ol(i,r,a,l){var f=At();l=l===void 0?null:l;var m=f.memoizedState.inst;$e!==null&&l!==null&&gd(l,$e.memoizedState.deps)?f.memoizedState=$a(r,m,a,l):(De.flags|=i,f.memoizedState=$a(1|r,m,a,l))}function i_(i,r){wc(8390656,8,i,r)}function r_(i,r){Ol(2048,8,i,r)}function s_(i,r){return Ol(4,2,i,r)}function a_(i,r){return Ol(4,4,i,r)}function o_(i,r){if(typeof r=="function"){i=i();var a=r(i);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function l_(i,r,a){a=a!=null?a.concat([i]):null,Ol(4,4,o_.bind(null,r,i),a)}function Id(){}function u_(i,r){var a=At();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&gd(r,l[1])?l[0]:(a.memoizedState=[i,r],i)}function c_(i,r){var a=At();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&gd(r,l[1]))return l[0];if(l=i(),Zs){On(!0);try{i()}finally{On(!1)}}return a.memoizedState=[l,r],l}function Cd(i,r,a){return a===void 0||(Mr&1073741824)!==0?i.memoizedState=r:(i.memoizedState=a,i=dv(),De.lanes|=i,zr|=i,a)}function h_(i,r,a,l){return Tn(a,r)?a:Ga.current!==null?(i=Cd(i,a,l),Tn(i,r)||(Lt=!0),i):(Mr&42)===0?(Lt=!0,i.memoizedState=a):(i=dv(),De.lanes|=i,zr|=i,r)}function f_(i,r,a,l,f){var m=ae.p;ae.p=m!==0&&8>m?m:8;var E=$.T,A={};$.T=A,Od(i,!1,r,a);try{var R=f(),z=$.S;if(z!==null&&z(A,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var Q=lw(R,l);Nl(i,r,Q,Rn(i))}else Nl(i,r,l,Rn(i))}catch(W){Nl(i,r,{then:function(){},status:"rejected",reason:W},Rn())}finally{ae.p=m,$.T=E}}function dw(){}function Dd(i,r,a,l){if(i.tag!==5)throw Error(s(476));var f=d_(i).queue;f_(i,f,r,pe,a===null?dw:function(){return m_(i),a(l)})}function d_(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:pe},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:a},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function m_(i){var r=d_(i).next.queue;Nl(i,r,{},Rn())}function xd(){return Zt(Xl)}function p_(){return At().memoizedState}function g_(){return At().memoizedState}function mw(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var a=Rn();i=Or(a);var l=Nr(r,i,a);l!==null&&(In(l,r,a),Rl(l,r,a)),r={cache:ad()},i.payload=r;return}r=r.return}}function pw(i,r,a){var l=Rn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Rc(i)?__(r,a):(a=Xf(i,r,a,l),a!==null&&(In(a,i,l),v_(a,r,l)))}function y_(i,r,a){var l=Rn();Nl(i,r,a,l)}function Nl(i,r,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Rc(i))__(r,f);else{var m=i.alternate;if(i.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var E=r.lastRenderedState,A=m(E,a);if(f.hasEagerState=!0,f.eagerState=A,Tn(A,E))return uc(i,r,f,0),Je===null&&lc(),!1}catch{}finally{}if(a=Xf(i,r,f,l),a!==null)return In(a,i,l),v_(a,r,l),!0}return!1}function Od(i,r,a,l){if(l={lane:2,revertLane:um(),action:l,hasEagerState:!1,eagerState:null,next:null},Rc(i)){if(r)throw Error(s(479))}else r=Xf(i,a,l,2),r!==null&&In(r,i,2)}function Rc(i){var r=i.alternate;return i===De||r!==null&&r===De}function __(i,r){Ya=Ec=!0;var a=i.pending;a===null?r.next=r:(r.next=a.next,a.next=r),i.pending=r}function v_(i,r,a){if((a&4194048)!==0){var l=r.lanes;l&=i.pendingLanes,a|=l,r.lanes=a,_r(i,a)}}var Ic={readContext:Zt,use:Ac,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useLayoutEffect:_t,useInsertionEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useSyncExternalStore:_t,useId:_t,useHostTransitionStatus:_t,useFormState:_t,useActionState:_t,useOptimistic:_t,useMemoCache:_t,useCacheRefresh:_t},E_={readContext:Zt,use:Ac,useCallback:function(i,r){return mn().memoizedState=[i,r===void 0?null:r],i},useContext:Zt,useEffect:i_,useImperativeHandle:function(i,r,a){a=a!=null?a.concat([i]):null,wc(4194308,4,o_.bind(null,r,i),a)},useLayoutEffect:function(i,r){return wc(4194308,4,i,r)},useInsertionEffect:function(i,r){wc(4,2,i,r)},useMemo:function(i,r){var a=mn();r=r===void 0?null:r;var l=i();if(Zs){On(!0);try{i()}finally{On(!1)}}return a.memoizedState=[l,r],l},useReducer:function(i,r,a){var l=mn();if(a!==void 0){var f=a(r);if(Zs){On(!0);try{a(r)}finally{On(!1)}}}else f=r;return l.memoizedState=l.baseState=f,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:f},l.queue=i,i=i.dispatch=pw.bind(null,De,i),[l.memoizedState,i]},useRef:function(i){var r=mn();return i={current:i},r.memoizedState=i},useState:function(i){i=wd(i);var r=i.queue,a=y_.bind(null,De,r);return r.dispatch=a,[i.memoizedState,a]},useDebugValue:Id,useDeferredValue:function(i,r){var a=mn();return Cd(a,i,r)},useTransition:function(){var i=wd(!1);return i=f_.bind(null,De,i.queue,!0,!1),mn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,a){var l=De,f=mn();if(je){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),Je===null)throw Error(s(349));(Le&124)!==0||jy(l,r,a)}f.memoizedState=a;var m={value:a,getSnapshot:r};return f.queue=m,i_(qy.bind(null,l,m,i),[i]),l.flags|=2048,$a(9,Sc(),Fy.bind(null,l,m,a,r),null),a},useId:function(){var i=mn(),r=Je.identifierPrefix;if(je){var a=Gi,l=Hi;a=(l&~(1<<32-an(l)-1)).toString(32)+a,r=""+r+"R"+a,a=Tc++,0<a&&(r+="H"+a.toString(32)),r+=""}else a=uw++,r=""+r+"r"+a.toString(32)+"";return i.memoizedState=r},useHostTransitionStatus:xd,useFormState:Zy,useActionState:Zy,useOptimistic:function(i){var r=mn();r.memoizedState=r.baseState=i;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Od.bind(null,De,!0,a),a.dispatch=r,[i,r]},useMemoCache:Ad,useCacheRefresh:function(){return mn().memoizedState=mw.bind(null,De)}},T_={readContext:Zt,use:Ac,useCallback:u_,useContext:Zt,useEffect:r_,useImperativeHandle:l_,useInsertionEffect:s_,useLayoutEffect:a_,useMemo:c_,useReducer:bc,useRef:n_,useState:function(){return bc($i)},useDebugValue:Id,useDeferredValue:function(i,r){var a=At();return h_(a,$e.memoizedState,i,r)},useTransition:function(){var i=bc($i)[0],r=At().memoizedState;return[typeof i=="boolean"?i:xl(i),r]},useSyncExternalStore:zy,useId:p_,useHostTransitionStatus:xd,useFormState:Jy,useActionState:Jy,useOptimistic:function(i,r){var a=At();return Yy(a,$e,i,r)},useMemoCache:Ad,useCacheRefresh:g_},gw={readContext:Zt,use:Ac,useCallback:u_,useContext:Zt,useEffect:r_,useImperativeHandle:l_,useInsertionEffect:s_,useLayoutEffect:a_,useMemo:c_,useReducer:Sd,useRef:n_,useState:function(){return Sd($i)},useDebugValue:Id,useDeferredValue:function(i,r){var a=At();return $e===null?Cd(a,i,r):h_(a,$e.memoizedState,i,r)},useTransition:function(){var i=Sd($i)[0],r=At().memoizedState;return[typeof i=="boolean"?i:xl(i),r]},useSyncExternalStore:zy,useId:p_,useHostTransitionStatus:xd,useFormState:t_,useActionState:t_,useOptimistic:function(i,r){var a=At();return $e!==null?Yy(a,$e,i,r):(a.baseState=i,[i,a.queue.dispatch])},useMemoCache:Ad,useCacheRefresh:g_},Qa=null,Ml=0;function Cc(i){var r=Ml;return Ml+=1,Qa===null&&(Qa=[]),Ny(Qa,i,r)}function Pl(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function Dc(i,r){throw r.$$typeof===T?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function A_(i){var r=i._init;return r(i._payload)}function b_(i){function r(V,N){if(i){var L=V.deletions;L===null?(V.deletions=[N],V.flags|=16):L.push(N)}}function a(V,N){if(!i)return null;for(;N!==null;)r(V,N),N=N.sibling;return null}function l(V){for(var N=new Map;V!==null;)V.key!==null?N.set(V.key,V):N.set(V.index,V),V=V.sibling;return N}function f(V,N){return V=qi(V,N),V.index=0,V.sibling=null,V}function m(V,N,L){return V.index=L,i?(L=V.alternate,L!==null?(L=L.index,L<N?(V.flags|=67108866,N):L):(V.flags|=67108866,N)):(V.flags|=1048576,N)}function E(V){return i&&V.alternate===null&&(V.flags|=67108866),V}function A(V,N,L,X){return N===null||N.tag!==6?(N=Zf(L,V.mode,X),N.return=V,N):(N=f(N,L),N.return=V,N)}function R(V,N,L,X){var ce=L.type;return ce===j?Q(V,N,L.props.children,X,L.key):N!==null&&(N.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===w&&A_(ce)===N.type)?(N=f(N,L.props),Pl(N,L),N.return=V,N):(N=hc(L.type,L.key,L.props,null,V.mode,X),Pl(N,L),N.return=V,N)}function z(V,N,L,X){return N===null||N.tag!==4||N.stateNode.containerInfo!==L.containerInfo||N.stateNode.implementation!==L.implementation?(N=Jf(L,V.mode,X),N.return=V,N):(N=f(N,L.children||[]),N.return=V,N)}function Q(V,N,L,X,ce){return N===null||N.tag!==7?(N=Hs(L,V.mode,X,ce),N.return=V,N):(N=f(N,L),N.return=V,N)}function W(V,N,L){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Zf(""+N,V.mode,L),N.return=V,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case b:return L=hc(N.type,N.key,N.props,null,V.mode,L),Pl(L,N),L.return=V,L;case D:return N=Jf(N,V.mode,L),N.return=V,N;case w:var X=N._init;return N=X(N._payload),W(V,N,L)}if(it(N)||k(N))return N=Hs(N,V.mode,L,null),N.return=V,N;if(typeof N.then=="function")return W(V,Cc(N),L);if(N.$$typeof===re)return W(V,pc(V,N),L);Dc(V,N)}return null}function q(V,N,L,X){var ce=N!==null?N.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ce!==null?null:A(V,N,""+L,X);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case b:return L.key===ce?R(V,N,L,X):null;case D:return L.key===ce?z(V,N,L,X):null;case w:return ce=L._init,L=ce(L._payload),q(V,N,L,X)}if(it(L)||k(L))return ce!==null?null:Q(V,N,L,X,null);if(typeof L.then=="function")return q(V,N,Cc(L),X);if(L.$$typeof===re)return q(V,N,pc(V,L),X);Dc(V,L)}return null}function H(V,N,L,X,ce){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return V=V.get(L)||null,A(N,V,""+X,ce);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case b:return V=V.get(X.key===null?L:X.key)||null,R(N,V,X,ce);case D:return V=V.get(X.key===null?L:X.key)||null,z(N,V,X,ce);case w:var xe=X._init;return X=xe(X._payload),H(V,N,L,X,ce)}if(it(X)||k(X))return V=V.get(L)||null,Q(N,V,X,ce,null);if(typeof X.then=="function")return H(V,N,L,Cc(X),ce);if(X.$$typeof===re)return H(V,N,L,pc(N,X),ce);Dc(N,X)}return null}function Te(V,N,L,X){for(var ce=null,xe=null,fe=N,_e=N=0,Bt=null;fe!==null&&_e<L.length;_e++){fe.index>_e?(Bt=fe,fe=null):Bt=fe.sibling;var ze=q(V,fe,L[_e],X);if(ze===null){fe===null&&(fe=Bt);break}i&&fe&&ze.alternate===null&&r(V,fe),N=m(ze,N,_e),xe===null?ce=ze:xe.sibling=ze,xe=ze,fe=Bt}if(_e===L.length)return a(V,fe),je&&Ys(V,_e),ce;if(fe===null){for(;_e<L.length;_e++)fe=W(V,L[_e],X),fe!==null&&(N=m(fe,N,_e),xe===null?ce=fe:xe.sibling=fe,xe=fe);return je&&Ys(V,_e),ce}for(fe=l(fe);_e<L.length;_e++)Bt=H(fe,V,_e,L[_e],X),Bt!==null&&(i&&Bt.alternate!==null&&fe.delete(Bt.key===null?_e:Bt.key),N=m(Bt,N,_e),xe===null?ce=Bt:xe.sibling=Bt,xe=Bt);return i&&fe.forEach(function(Qr){return r(V,Qr)}),je&&Ys(V,_e),ce}function ye(V,N,L,X){if(L==null)throw Error(s(151));for(var ce=null,xe=null,fe=N,_e=N=0,Bt=null,ze=L.next();fe!==null&&!ze.done;_e++,ze=L.next()){fe.index>_e?(Bt=fe,fe=null):Bt=fe.sibling;var Qr=q(V,fe,ze.value,X);if(Qr===null){fe===null&&(fe=Bt);break}i&&fe&&Qr.alternate===null&&r(V,fe),N=m(Qr,N,_e),xe===null?ce=Qr:xe.sibling=Qr,xe=Qr,fe=Bt}if(ze.done)return a(V,fe),je&&Ys(V,_e),ce;if(fe===null){for(;!ze.done;_e++,ze=L.next())ze=W(V,ze.value,X),ze!==null&&(N=m(ze,N,_e),xe===null?ce=ze:xe.sibling=ze,xe=ze);return je&&Ys(V,_e),ce}for(fe=l(fe);!ze.done;_e++,ze=L.next())ze=H(fe,V,_e,ze.value,X),ze!==null&&(i&&ze.alternate!==null&&fe.delete(ze.key===null?_e:ze.key),N=m(ze,N,_e),xe===null?ce=ze:xe.sibling=ze,xe=ze);return i&&fe.forEach(function(yR){return r(V,yR)}),je&&Ys(V,_e),ce}function Xe(V,N,L,X){if(typeof L=="object"&&L!==null&&L.type===j&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case b:e:{for(var ce=L.key;N!==null;){if(N.key===ce){if(ce=L.type,ce===j){if(N.tag===7){a(V,N.sibling),X=f(N,L.props.children),X.return=V,V=X;break e}}else if(N.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===w&&A_(ce)===N.type){a(V,N.sibling),X=f(N,L.props),Pl(X,L),X.return=V,V=X;break e}a(V,N);break}else r(V,N);N=N.sibling}L.type===j?(X=Hs(L.props.children,V.mode,X,L.key),X.return=V,V=X):(X=hc(L.type,L.key,L.props,null,V.mode,X),Pl(X,L),X.return=V,V=X)}return E(V);case D:e:{for(ce=L.key;N!==null;){if(N.key===ce)if(N.tag===4&&N.stateNode.containerInfo===L.containerInfo&&N.stateNode.implementation===L.implementation){a(V,N.sibling),X=f(N,L.children||[]),X.return=V,V=X;break e}else{a(V,N);break}else r(V,N);N=N.sibling}X=Jf(L,V.mode,X),X.return=V,V=X}return E(V);case w:return ce=L._init,L=ce(L._payload),Xe(V,N,L,X)}if(it(L))return Te(V,N,L,X);if(k(L)){if(ce=k(L),typeof ce!="function")throw Error(s(150));return L=ce.call(L),ye(V,N,L,X)}if(typeof L.then=="function")return Xe(V,N,Cc(L),X);if(L.$$typeof===re)return Xe(V,N,pc(V,L),X);Dc(V,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,N!==null&&N.tag===6?(a(V,N.sibling),X=f(N,L),X.return=V,V=X):(a(V,N),X=Zf(L,V.mode,X),X.return=V,V=X),E(V)):a(V,N)}return function(V,N,L,X){try{Ml=0;var ce=Xe(V,N,L,X);return Qa=null,ce}catch(fe){if(fe===Sl||fe===yc)throw fe;var xe=An(29,fe,null,V.mode);return xe.lanes=X,xe.return=V,xe}finally{}}}var Xa=b_(!0),S_=b_(!1),zn=J(null),_i=null;function Pr(i){var r=i.alternate;se(xt,xt.current&1),se(zn,i),_i===null&&(r===null||Ga.current!==null||r.memoizedState!==null)&&(_i=i)}function w_(i){if(i.tag===22){if(se(xt,xt.current),se(zn,i),_i===null){var r=i.alternate;r!==null&&r.memoizedState!==null&&(_i=i)}}else Vr()}function Vr(){se(xt,xt.current),se(zn,zn.current)}function Qi(i){le(zn),_i===i&&(_i=null),le(xt)}var xt=J(0);function xc(i){for(var r=i;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Tm(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Nd(i,r,a,l){r=i.memoizedState,a=a(l,r),a=a==null?r:_({},r,a),i.memoizedState=a,i.lanes===0&&(i.updateQueue.baseState=a)}var Md={enqueueSetState:function(i,r,a){i=i._reactInternals;var l=Rn(),f=Or(l);f.payload=r,a!=null&&(f.callback=a),r=Nr(i,f,l),r!==null&&(In(r,i,l),Rl(r,i,l))},enqueueReplaceState:function(i,r,a){i=i._reactInternals;var l=Rn(),f=Or(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=Nr(i,f,l),r!==null&&(In(r,i,l),Rl(r,i,l))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var a=Rn(),l=Or(a);l.tag=2,r!=null&&(l.callback=r),r=Nr(i,l,a),r!==null&&(In(r,i,a),Rl(r,i,a))}};function R_(i,r,a,l,f,m,E){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(l,m,E):r.prototype&&r.prototype.isPureReactComponent?!gl(a,l)||!gl(f,m):!0}function I_(i,r,a,l){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==i&&Md.enqueueReplaceState(r,r.state,null)}function Js(i,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(i=i.defaultProps){a===r&&(a=_({},a));for(var f in i)a[f]===void 0&&(a[f]=i[f])}return a}var Oc=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function C_(i){Oc(i)}function D_(i){console.error(i)}function x_(i){Oc(i)}function Nc(i,r){try{var a=i.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function O_(i,r,a){try{var l=i.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Pd(i,r,a){return a=Or(a),a.tag=3,a.payload={element:null},a.callback=function(){Nc(i,r)},a}function N_(i){return i=Or(i),i.tag=3,i}function M_(i,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var m=l.value;i.payload=function(){return f(m)},i.callback=function(){O_(r,a,l)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(i.callback=function(){O_(r,a,l),typeof f!="function"&&(jr===null?jr=new Set([this]):jr.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})})}function yw(i,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&Tl(r,a,f,!0),a=zn.current,a!==null){switch(a.tag){case 13:return _i===null?rm():a.alternate===null&&dt===0&&(dt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===ud?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),am(i,l,f)),!1;case 22:return a.flags|=65536,l===ud?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),am(i,l,f)),!1}throw Error(s(435,a.tag))}return am(i,l,f),rm(),!1}if(je)return r=zn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==nd&&(i=Error(s(422),{cause:l}),El(kn(i,a)))):(l!==nd&&(r=Error(s(423),{cause:l}),El(kn(r,a))),i=i.current.alternate,i.flags|=65536,f&=-f,i.lanes|=f,l=kn(l,a),f=Pd(i.stateNode,l,f),fd(i,f),dt!==4&&(dt=2)),!1;var m=Error(s(520),{cause:l});if(m=kn(m,a),jl===null?jl=[m]:jl.push(m),dt!==4&&(dt=2),r===null)return!0;l=kn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,i=f&-f,a.lanes|=i,i=Pd(a.stateNode,l,i),fd(a,i),!1;case 1:if(r=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(jr===null||!jr.has(m))))return a.flags|=65536,f&=-f,a.lanes|=f,f=N_(f),M_(f,i,a,l),fd(a,f),!1}a=a.return}while(a!==null);return!1}var P_=Error(s(461)),Lt=!1;function qt(i,r,a,l){r.child=i===null?S_(r,null,a,l):Xa(r,i.child,a,l)}function V_(i,r,a,l,f){a=a.render;var m=r.ref;if("ref"in l){var E={};for(var A in l)A!=="ref"&&(E[A]=l[A])}else E=l;return Xs(r),l=yd(i,r,a,E,m,f),A=_d(),i!==null&&!Lt?(vd(i,r,f),Xi(i,r,f)):(je&&A&&ed(r),r.flags|=1,qt(i,r,l,f),r.child)}function k_(i,r,a,l,f){if(i===null){var m=a.type;return typeof m=="function"&&!Wf(m)&&m.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=m,L_(i,r,m,l,f)):(i=hc(a.type,null,l,r,r.mode,f),i.ref=r.ref,i.return=r,r.child=i)}if(m=i.child,!Fd(i,f)){var E=m.memoizedProps;if(a=a.compare,a=a!==null?a:gl,a(E,l)&&i.ref===r.ref)return Xi(i,r,f)}return r.flags|=1,i=qi(m,l),i.ref=r.ref,i.return=r,r.child=i}function L_(i,r,a,l,f){if(i!==null){var m=i.memoizedProps;if(gl(m,l)&&i.ref===r.ref)if(Lt=!1,r.pendingProps=l=m,Fd(i,f))(i.flags&131072)!==0&&(Lt=!0);else return r.lanes=i.lanes,Xi(i,r,f)}return Vd(i,r,a,l,f)}function U_(i,r,a){var l=r.pendingProps,f=l.children,m=i!==null?i.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=m!==null?m.baseLanes|a:a,i!==null){for(f=r.child=i.child,m=0;f!==null;)m=m|f.lanes|f.childLanes,f=f.sibling;r.childLanes=m&~l}else r.childLanes=0,r.child=null;return B_(i,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&gc(r,m!==null?m.cachePool:null),m!==null?Ly(r,m):md(),w_(r);else return r.lanes=r.childLanes=536870912,B_(i,r,m!==null?m.baseLanes|a:a,a)}else m!==null?(gc(r,m.cachePool),Ly(r,m),Vr(),r.memoizedState=null):(i!==null&&gc(r,null),md(),Vr());return qt(i,r,f,a),r.child}function B_(i,r,a,l){var f=ld();return f=f===null?null:{parent:Dt._currentValue,pool:f},r.memoizedState={baseLanes:a,cachePool:f},i!==null&&gc(r,null),md(),w_(r),i!==null&&Tl(i,r,l,!0),null}function Mc(i,r){var a=r.ref;if(a===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(i===null||i.ref!==a)&&(r.flags|=4194816)}}function Vd(i,r,a,l,f){return Xs(r),a=yd(i,r,a,l,void 0,f),l=_d(),i!==null&&!Lt?(vd(i,r,f),Xi(i,r,f)):(je&&l&&ed(r),r.flags|=1,qt(i,r,a,f),r.child)}function z_(i,r,a,l,f,m){return Xs(r),r.updateQueue=null,a=By(r,l,a,f),Uy(i),l=_d(),i!==null&&!Lt?(vd(i,r,m),Xi(i,r,m)):(je&&l&&ed(r),r.flags|=1,qt(i,r,a,m),r.child)}function j_(i,r,a,l,f){if(Xs(r),r.stateNode===null){var m=za,E=a.contextType;typeof E=="object"&&E!==null&&(m=Zt(E)),m=new a(l,m),r.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Md,r.stateNode=m,m._reactInternals=r,m=r.stateNode,m.props=l,m.state=r.memoizedState,m.refs={},cd(r),E=a.contextType,m.context=typeof E=="object"&&E!==null?Zt(E):za,m.state=r.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(Nd(r,a,E,l),m.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(E=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),E!==m.state&&Md.enqueueReplaceState(m,m.state,null),Cl(r,l,m,f),Il(),m.state=r.memoizedState),typeof m.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(i===null){m=r.stateNode;var A=r.memoizedProps,R=Js(a,A);m.props=R;var z=m.context,Q=a.contextType;E=za,typeof Q=="object"&&Q!==null&&(E=Zt(Q));var W=a.getDerivedStateFromProps;Q=typeof W=="function"||typeof m.getSnapshotBeforeUpdate=="function",A=r.pendingProps!==A,Q||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(A||z!==E)&&I_(r,m,l,E),xr=!1;var q=r.memoizedState;m.state=q,Cl(r,l,m,f),Il(),z=r.memoizedState,A||q!==z||xr?(typeof W=="function"&&(Nd(r,a,W,l),z=r.memoizedState),(R=xr||R_(r,a,R,l,q,z,E))?(Q||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(r.flags|=4194308)):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=z),m.props=l,m.state=z,m.context=E,l=R):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{m=r.stateNode,hd(i,r),E=r.memoizedProps,Q=Js(a,E),m.props=Q,W=r.pendingProps,q=m.context,z=a.contextType,R=za,typeof z=="object"&&z!==null&&(R=Zt(z)),A=a.getDerivedStateFromProps,(z=typeof A=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(E!==W||q!==R)&&I_(r,m,l,R),xr=!1,q=r.memoizedState,m.state=q,Cl(r,l,m,f),Il();var H=r.memoizedState;E!==W||q!==H||xr||i!==null&&i.dependencies!==null&&mc(i.dependencies)?(typeof A=="function"&&(Nd(r,a,A,l),H=r.memoizedState),(Q=xr||R_(r,a,Q,l,q,H,R)||i!==null&&i.dependencies!==null&&mc(i.dependencies))?(z||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,H,R),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,H,R)),typeof m.componentDidUpdate=="function"&&(r.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof m.componentDidUpdate!="function"||E===i.memoizedProps&&q===i.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&q===i.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=H),m.props=l,m.state=H,m.context=R,l=Q):(typeof m.componentDidUpdate!="function"||E===i.memoizedProps&&q===i.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&q===i.memoizedState||(r.flags|=1024),l=!1)}return m=l,Mc(i,r),l=(r.flags&128)!==0,m||l?(m=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),r.flags|=1,i!==null&&l?(r.child=Xa(r,i.child,null,f),r.child=Xa(r,null,a,f)):qt(i,r,a,f),r.memoizedState=m.state,i=r.child):i=Xi(i,r,f),i}function F_(i,r,a,l){return vl(),r.flags|=256,qt(i,r,a,l),r.child}var kd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ld(i){return{baseLanes:i,cachePool:Dy()}}function Ud(i,r,a){return i=i!==null?i.childLanes&~a:0,r&&(i|=jn),i}function q_(i,r,a){var l=r.pendingProps,f=!1,m=(r.flags&128)!==0,E;if((E=m)||(E=i!==null&&i.memoizedState===null?!1:(xt.current&2)!==0),E&&(f=!0,r.flags&=-129),E=(r.flags&32)!==0,r.flags&=-33,i===null){if(je){if(f?Pr(r):Vr(),je){var A=ft,R;if(R=A){e:{for(R=A,A=yi;R.nodeType!==8;){if(!A){A=null;break e}if(R=ni(R.nextSibling),R===null){A=null;break e}}A=R}A!==null?(r.memoizedState={dehydrated:A,treeContext:Gs!==null?{id:Hi,overflow:Gi}:null,retryLane:536870912,hydrationErrors:null},R=An(18,null,null,0),R.stateNode=A,R.return=r,r.child=R,cn=r,ft=null,R=!0):R=!1}R||$s(r)}if(A=r.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return Tm(A)?r.lanes=32:r.lanes=536870912,null;Qi(r)}return A=l.children,l=l.fallback,f?(Vr(),f=r.mode,A=Pc({mode:"hidden",children:A},f),l=Hs(l,f,a,null),A.return=r,l.return=r,A.sibling=l,r.child=A,f=r.child,f.memoizedState=Ld(a),f.childLanes=Ud(i,E,a),r.memoizedState=kd,l):(Pr(r),Bd(r,A))}if(R=i.memoizedState,R!==null&&(A=R.dehydrated,A!==null)){if(m)r.flags&256?(Pr(r),r.flags&=-257,r=zd(i,r,a)):r.memoizedState!==null?(Vr(),r.child=i.child,r.flags|=128,r=null):(Vr(),f=l.fallback,A=r.mode,l=Pc({mode:"visible",children:l.children},A),f=Hs(f,A,a,null),f.flags|=2,l.return=r,f.return=r,l.sibling=f,r.child=l,Xa(r,i.child,null,a),l=r.child,l.memoizedState=Ld(a),l.childLanes=Ud(i,E,a),r.memoizedState=kd,r=f);else if(Pr(r),Tm(A)){if(E=A.nextSibling&&A.nextSibling.dataset,E)var z=E.dgst;E=z,l=Error(s(419)),l.stack="",l.digest=E,El({value:l,source:null,stack:null}),r=zd(i,r,a)}else if(Lt||Tl(i,r,a,!1),E=(a&i.childLanes)!==0,Lt||E){if(E=Je,E!==null&&(l=a&-a,l=(l&42)!==0?1:Jo(l),l=(l&(E.suspendedLanes|a))!==0?0:l,l!==0&&l!==R.retryLane))throw R.retryLane=l,Ba(i,l),In(E,i,l),P_;A.data==="$?"||rm(),r=zd(i,r,a)}else A.data==="$?"?(r.flags|=192,r.child=i.child,r=null):(i=R.treeContext,ft=ni(A.nextSibling),cn=r,je=!0,Ks=null,yi=!1,i!==null&&(Un[Bn++]=Hi,Un[Bn++]=Gi,Un[Bn++]=Gs,Hi=i.id,Gi=i.overflow,Gs=r),r=Bd(r,l.children),r.flags|=4096);return r}return f?(Vr(),f=l.fallback,A=r.mode,R=i.child,z=R.sibling,l=qi(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,z!==null?f=qi(z,f):(f=Hs(f,A,a,null),f.flags|=2),f.return=r,l.return=r,l.sibling=f,r.child=l,l=f,f=r.child,A=i.child.memoizedState,A===null?A=Ld(a):(R=A.cachePool,R!==null?(z=Dt._currentValue,R=R.parent!==z?{parent:z,pool:z}:R):R=Dy(),A={baseLanes:A.baseLanes|a,cachePool:R}),f.memoizedState=A,f.childLanes=Ud(i,E,a),r.memoizedState=kd,l):(Pr(r),a=i.child,i=a.sibling,a=qi(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,i!==null&&(E=r.deletions,E===null?(r.deletions=[i],r.flags|=16):E.push(i)),r.child=a,r.memoizedState=null,a)}function Bd(i,r){return r=Pc({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function Pc(i,r){return i=An(22,i,null,r),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function zd(i,r,a){return Xa(r,i.child,null,a),i=Bd(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function H_(i,r,a){i.lanes|=r;var l=i.alternate;l!==null&&(l.lanes|=r),rd(i.return,r,a)}function jd(i,r,a,l,f){var m=i.memoizedState;m===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(m.isBackwards=r,m.rendering=null,m.renderingStartTime=0,m.last=l,m.tail=a,m.tailMode=f)}function G_(i,r,a){var l=r.pendingProps,f=l.revealOrder,m=l.tail;if(qt(i,r,l.children,a),l=xt.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&H_(i,a,r);else if(i.tag===19)H_(i,a,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}l&=1}switch(se(xt,l),f){case"forwards":for(a=r.child,f=null;a!==null;)i=a.alternate,i!==null&&xc(i)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),jd(r,!1,f,a,m);break;case"backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(i=f.alternate,i!==null&&xc(i)===null){r.child=f;break}i=f.sibling,f.sibling=a,a=f,f=i}jd(r,!0,a,null,m);break;case"together":jd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Xi(i,r,a){if(i!==null&&(r.dependencies=i.dependencies),zr|=r.lanes,(a&r.childLanes)===0)if(i!==null){if(Tl(i,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,a=qi(i,i.pendingProps),r.child=a,a.return=r;i.sibling!==null;)i=i.sibling,a=a.sibling=qi(i,i.pendingProps),a.return=r;a.sibling=null}return r.child}function Fd(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&mc(i)))}function _w(i,r,a){switch(r.tag){case 3:Ye(r,r.stateNode.containerInfo),Dr(r,Dt,i.memoizedState.cache),vl();break;case 27:case 5:Qo(r);break;case 4:Ye(r,r.stateNode.containerInfo);break;case 10:Dr(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Pr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?q_(i,r,a):(Pr(r),i=Xi(i,r,a),i!==null?i.sibling:null);Pr(r);break;case 19:var f=(i.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(Tl(i,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return G_(i,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),se(xt,xt.current),l)break;return null;case 22:case 23:return r.lanes=0,U_(i,r,a);case 24:Dr(r,Dt,i.memoizedState.cache)}return Xi(i,r,a)}function Y_(i,r,a){if(i!==null)if(i.memoizedProps!==r.pendingProps)Lt=!0;else{if(!Fd(i,a)&&(r.flags&128)===0)return Lt=!1,_w(i,r,a);Lt=(i.flags&131072)!==0}else Lt=!1,je&&(r.flags&1048576)!==0&&Ay(r,dc,r.index);switch(r.lanes=0,r.tag){case 16:e:{i=r.pendingProps;var l=r.elementType,f=l._init;if(l=f(l._payload),r.type=l,typeof l=="function")Wf(l)?(i=Js(l,i),r.tag=1,r=j_(null,r,l,i,a)):(r.tag=0,r=Vd(null,r,l,i,a));else{if(l!=null){if(f=l.$$typeof,f===Ce){r.tag=11,r=V_(null,r,l,i,a);break e}else if(f===x){r.tag=14,r=k_(null,r,l,i,a);break e}}throw r=ht(l)||l,Error(s(306,r,""))}}return r;case 0:return Vd(i,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=Js(l,r.pendingProps),j_(i,r,l,f,a);case 3:e:{if(Ye(r,r.stateNode.containerInfo),i===null)throw Error(s(387));l=r.pendingProps;var m=r.memoizedState;f=m.element,hd(i,r),Cl(r,l,null,a);var E=r.memoizedState;if(l=E.cache,Dr(r,Dt,l),l!==m.cache&&sd(r,[Dt],a,!0),Il(),l=E.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:E.cache},r.updateQueue.baseState=m,r.memoizedState=m,r.flags&256){r=F_(i,r,l,a);break e}else if(l!==f){f=kn(Error(s(424)),r),El(f),r=F_(i,r,l,a);break e}else{switch(i=r.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(ft=ni(i.firstChild),cn=r,je=!0,Ks=null,yi=!0,a=S_(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(vl(),l===f){r=Xi(i,r,a);break e}qt(i,r,l,a)}r=r.child}return r;case 26:return Mc(i,r),i===null?(a=Xv(r.type,null,r.pendingProps,null))?r.memoizedState=a:je||(a=r.type,i=r.pendingProps,l=$c(Ee.current).createElement(a),l[pt]=r,l[Ft]=i,Gt(l,a,i),gt(l),r.stateNode=l):r.memoizedState=Xv(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return Qo(r),i===null&&je&&(l=r.stateNode=Kv(r.type,r.pendingProps,Ee.current),cn=r,yi=!0,f=ft,Hr(r.type)?(Am=f,ft=ni(l.firstChild)):ft=f),qt(i,r,r.pendingProps.children,a),Mc(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&je&&((f=l=ft)&&(l=Yw(l,r.type,r.pendingProps,yi),l!==null?(r.stateNode=l,cn=r,ft=ni(l.firstChild),yi=!1,f=!0):f=!1),f||$s(r)),Qo(r),f=r.type,m=r.pendingProps,E=i!==null?i.memoizedProps:null,l=m.children,_m(f,m)?l=null:E!==null&&_m(f,E)&&(r.flags|=32),r.memoizedState!==null&&(f=yd(i,r,cw,null,null,a),Xl._currentValue=f),Mc(i,r),qt(i,r,l,a),r.child;case 6:return i===null&&je&&((i=a=ft)&&(a=Kw(a,r.pendingProps,yi),a!==null?(r.stateNode=a,cn=r,ft=null,i=!0):i=!1),i||$s(r)),null;case 13:return q_(i,r,a);case 4:return Ye(r,r.stateNode.containerInfo),l=r.pendingProps,i===null?r.child=Xa(r,null,l,a):qt(i,r,l,a),r.child;case 11:return V_(i,r,r.type,r.pendingProps,a);case 7:return qt(i,r,r.pendingProps,a),r.child;case 8:return qt(i,r,r.pendingProps.children,a),r.child;case 12:return qt(i,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Dr(r,r.type,l.value),qt(i,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,Xs(r),f=Zt(f),l=l(f),r.flags|=1,qt(i,r,l,a),r.child;case 14:return k_(i,r,r.type,r.pendingProps,a);case 15:return L_(i,r,r.type,r.pendingProps,a);case 19:return G_(i,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},i===null?(a=Pc(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=qi(i.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return U_(i,r,a);case 24:return Xs(r),l=Zt(Dt),i===null?(f=ld(),f===null&&(f=Je,m=ad(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=a),f=m),r.memoizedState={parent:l,cache:f},cd(r),Dr(r,Dt,f)):((i.lanes&a)!==0&&(hd(i,r),Cl(r,null,null,a),Il()),f=i.memoizedState,m=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Dr(r,Dt,l)):(l=m.cache,Dr(r,Dt,l),l!==f.cache&&sd(r,[Dt],a,!0))),qt(i,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Wi(i){i.flags|=4}function K_(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!t0(r)){if(r=zn.current,r!==null&&((Le&4194048)===Le?_i!==null:(Le&62914560)!==Le&&(Le&536870912)===0||r!==_i))throw wl=ud,xy;i.flags|=8192}}function Vc(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?gr():536870912,i.lanes|=r,eo|=r)}function Vl(i,r){if(!je)switch(i.tailMode){case"hidden":r=i.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?i.tail=null:a.sibling=null;break;case"collapsed":a=i.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:l.sibling=null}}function lt(i){var r=i.alternate!==null&&i.alternate.child===i.child,a=0,l=0;if(r)for(var f=i.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=l,i.childLanes=a,r}function vw(i,r,a){var l=r.pendingProps;switch(td(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(r),null;case 1:return lt(r),null;case 3:return a=r.stateNode,l=null,i!==null&&(l=i.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Ki(Dt),Yn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(i===null||i.child===null)&&(_l(r)?Wi(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,wy())),lt(r),null;case 26:return a=r.memoizedState,i===null?(Wi(r),a!==null?(lt(r),K_(r,a)):(lt(r),r.flags&=-16777217)):a?a!==i.memoizedState?(Wi(r),lt(r),K_(r,a)):(lt(r),r.flags&=-16777217):(i.memoizedProps!==l&&Wi(r),lt(r),r.flags&=-16777217),null;case 27:va(r),a=Ee.current;var f=r.type;if(i!==null&&r.stateNode!=null)i.memoizedProps!==l&&Wi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return lt(r),null}i=de.current,_l(r)?by(r):(i=Kv(f,l,a),r.stateNode=i,Wi(r))}return lt(r),null;case 5:if(va(r),a=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==l&&Wi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return lt(r),null}if(i=de.current,_l(r))by(r);else{switch(f=$c(Ee.current),i){case 1:i=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:i=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":i=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":i=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":i=f.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?i.multiple=!0:l.size&&(i.size=l.size);break;default:i=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}i[pt]=r,i[Ft]=l;e:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)i.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break e;for(;f.sibling===null;){if(f.return===null||f.return===r)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=i;e:switch(Gt(i,a,l),a){case"button":case"input":case"select":case"textarea":i=!!l.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Wi(r)}}return lt(r),r.flags&=-16777217,null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==l&&Wi(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(i=Ee.current,_l(r)){if(i=r.stateNode,a=r.memoizedProps,l=null,f=cn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}i[pt]=r,i=!!(i.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||zv(i.nodeValue,a)),i||$s(r)}else i=$c(i).createTextNode(l),i[pt]=r,r.stateNode=i}return lt(r),null;case 13:if(l=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(f=_l(r),l!==null&&l.dehydrated!==null){if(i===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[pt]=r}else vl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;lt(r),f=!1}else f=wy(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(Qi(r),r):(Qi(r),null)}if(Qi(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,i=i!==null&&i.memoizedState!==null,a){l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var m=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==f&&(l.flags|=2048)}return a!==i&&a&&(r.child.flags|=8192),Vc(r,r.updateQueue),lt(r),null;case 4:return Yn(),i===null&&dm(r.stateNode.containerInfo),lt(r),null;case 10:return Ki(r.type),lt(r),null;case 19:if(le(xt),f=r.memoizedState,f===null)return lt(r),null;if(l=(r.flags&128)!==0,m=f.rendering,m===null)if(l)Vl(f,!1);else{if(dt!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(m=xc(i),m!==null){for(r.flags|=128,Vl(f,!1),i=m.updateQueue,r.updateQueue=i,Vc(r,i),r.subtreeFlags=0,i=a,a=r.child;a!==null;)Ty(a,i),a=a.sibling;return se(xt,xt.current&1|2),r.child}i=i.sibling}f.tail!==null&&dn()>Uc&&(r.flags|=128,l=!0,Vl(f,!1),r.lanes=4194304)}else{if(!l)if(i=xc(m),i!==null){if(r.flags|=128,l=!0,i=i.updateQueue,r.updateQueue=i,Vc(r,i),Vl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!m.alternate&&!je)return lt(r),null}else 2*dn()-f.renderingStartTime>Uc&&a!==536870912&&(r.flags|=128,l=!0,Vl(f,!1),r.lanes=4194304);f.isBackwards?(m.sibling=r.child,r.child=m):(i=f.last,i!==null?i.sibling=m:r.child=m,f.last=m)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=dn(),r.sibling=null,i=xt.current,se(xt,l?i&1|2:i&1),r):(lt(r),null);case 22:case 23:return Qi(r),pd(),l=r.memoizedState!==null,i!==null?i.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(lt(r),r.subtreeFlags&6&&(r.flags|=8192)):lt(r),a=r.updateQueue,a!==null&&Vc(r,a.retryQueue),a=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),i!==null&&le(Ws),null;case 24:return a=null,i!==null&&(a=i.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Ki(Dt),lt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function Ew(i,r){switch(td(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return Ki(Dt),Yn(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return va(r),null;case 13:if(Qi(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));vl()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return le(xt),null;case 4:return Yn(),null;case 10:return Ki(r.type),null;case 22:case 23:return Qi(r),pd(),i!==null&&le(Ws),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return Ki(Dt),null;case 25:return null;default:return null}}function $_(i,r){switch(td(r),r.tag){case 3:Ki(Dt),Yn();break;case 26:case 27:case 5:va(r);break;case 4:Yn();break;case 13:Qi(r);break;case 19:le(xt);break;case 10:Ki(r.type);break;case 22:case 23:Qi(r),pd(),i!==null&&le(Ws);break;case 24:Ki(Dt)}}function kl(i,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&i)===i){l=void 0;var m=a.create,E=a.inst;l=m(),E.destroy=l}a=a.next}while(a!==f)}}catch(A){We(r,r.return,A)}}function kr(i,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var m=f.next;l=m;do{if((l.tag&i)===i){var E=l.inst,A=E.destroy;if(A!==void 0){E.destroy=void 0,f=r;var R=a,z=A;try{z()}catch(Q){We(f,R,Q)}}}l=l.next}while(l!==m)}}catch(Q){We(r,r.return,Q)}}function Q_(i){var r=i.updateQueue;if(r!==null){var a=i.stateNode;try{ky(r,a)}catch(l){We(i,i.return,l)}}}function X_(i,r,a){a.props=Js(i.type,i.memoizedProps),a.state=i.memoizedState;try{a.componentWillUnmount()}catch(l){We(i,r,l)}}function Ll(i,r){try{var a=i.ref;if(a!==null){switch(i.tag){case 26:case 27:case 5:var l=i.stateNode;break;case 30:l=i.stateNode;break;default:l=i.stateNode}typeof a=="function"?i.refCleanup=a(l):a.current=l}}catch(f){We(i,r,f)}}function vi(i,r){var a=i.ref,l=i.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){We(i,r,f)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){We(i,r,f)}else a.current=null}function W_(i){var r=i.type,a=i.memoizedProps,l=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){We(i,i.return,f)}}function qd(i,r,a){try{var l=i.stateNode;jw(l,i.type,a,r),l[Ft]=r}catch(f){We(i,i.return,f)}}function Z_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Hr(i.type)||i.tag===4}function Hd(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Z_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Hr(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Gd(i,r,a){var l=i.tag;if(l===5||l===6)i=i.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(i,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(i),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Kc));else if(l!==4&&(l===27&&Hr(i.type)&&(a=i.stateNode,r=null),i=i.child,i!==null))for(Gd(i,r,a),i=i.sibling;i!==null;)Gd(i,r,a),i=i.sibling}function kc(i,r,a){var l=i.tag;if(l===5||l===6)i=i.stateNode,r?a.insertBefore(i,r):a.appendChild(i);else if(l!==4&&(l===27&&Hr(i.type)&&(a=i.stateNode),i=i.child,i!==null))for(kc(i,r,a),i=i.sibling;i!==null;)kc(i,r,a),i=i.sibling}function J_(i){var r=i.stateNode,a=i.memoizedProps;try{for(var l=i.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);Gt(r,l,a),r[pt]=i,r[Ft]=a}catch(m){We(i,i.return,m)}}var Zi=!1,vt=!1,Yd=!1,ev=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function Tw(i,r){if(i=i.containerInfo,gm=eh,i=hy(i),Hf(i)){if("selectionStart"in i)var a={start:i.selectionStart,end:i.selectionEnd};else e:{a=(a=i.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var E=0,A=-1,R=-1,z=0,Q=0,W=i,q=null;t:for(;;){for(var H;W!==a||f!==0&&W.nodeType!==3||(A=E+f),W!==m||l!==0&&W.nodeType!==3||(R=E+l),W.nodeType===3&&(E+=W.nodeValue.length),(H=W.firstChild)!==null;)q=W,W=H;for(;;){if(W===i)break t;if(q===a&&++z===f&&(A=E),q===m&&++Q===l&&(R=E),(H=W.nextSibling)!==null)break;W=q,q=W.parentNode}W=H}a=A===-1||R===-1?null:{start:A,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(ym={focusedElem:i,selectionRange:a},eh=!1,Ut=r;Ut!==null;)if(r=Ut,i=r.child,(r.subtreeFlags&1024)!==0&&i!==null)i.return=r,Ut=i;else for(;Ut!==null;){switch(r=Ut,m=r.alternate,i=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&m!==null){i=void 0,a=r,f=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var Te=Js(a.type,f,a.elementType===a.type);i=l.getSnapshotBeforeUpdate(Te,m),l.__reactInternalSnapshotBeforeUpdate=i}catch(ye){We(a,a.return,ye)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,a=i.nodeType,a===9)Em(i);else if(a===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Em(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,Ut=i;break}Ut=r.return}}function tv(i,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Lr(i,a),l&4&&kl(5,a);break;case 1:if(Lr(i,a),l&4)if(i=a.stateNode,r===null)try{i.componentDidMount()}catch(E){We(a,a.return,E)}else{var f=Js(a.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(f,r,i.__reactInternalSnapshotBeforeUpdate)}catch(E){We(a,a.return,E)}}l&64&&Q_(a),l&512&&Ll(a,a.return);break;case 3:if(Lr(i,a),l&64&&(i=a.updateQueue,i!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{ky(i,r)}catch(E){We(a,a.return,E)}}break;case 27:r===null&&l&4&&J_(a);case 26:case 5:Lr(i,a),r===null&&l&4&&W_(a),l&512&&Ll(a,a.return);break;case 12:Lr(i,a);break;case 13:Lr(i,a),l&4&&rv(i,a),l&64&&(i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(a=xw.bind(null,a),$w(i,a))));break;case 22:if(l=a.memoizedState!==null||Zi,!l){r=r!==null&&r.memoizedState!==null||vt,f=Zi;var m=vt;Zi=l,(vt=r)&&!m?Ur(i,a,(a.subtreeFlags&8772)!==0):Lr(i,a),Zi=f,vt=m}break;case 30:break;default:Lr(i,a)}}function nv(i){var r=i.alternate;r!==null&&(i.alternate=null,nv(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&Sa(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var rt=null,pn=!1;function Ji(i,r,a){for(a=a.child;a!==null;)iv(i,r,a),a=a.sibling}function iv(i,r,a){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(dr,a)}catch{}switch(a.tag){case 26:vt||vi(a,r),Ji(i,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:vt||vi(a,r);var l=rt,f=pn;Hr(a.type)&&(rt=a.stateNode,pn=!1),Ji(i,r,a),Yl(a.stateNode),rt=l,pn=f;break;case 5:vt||vi(a,r);case 6:if(l=rt,f=pn,rt=null,Ji(i,r,a),rt=l,pn=f,rt!==null)if(pn)try{(rt.nodeType===9?rt.body:rt.nodeName==="HTML"?rt.ownerDocument.body:rt).removeChild(a.stateNode)}catch(m){We(a,r,m)}else try{rt.removeChild(a.stateNode)}catch(m){We(a,r,m)}break;case 18:rt!==null&&(pn?(i=rt,Gv(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,a.stateNode),eu(i)):Gv(rt,a.stateNode));break;case 4:l=rt,f=pn,rt=a.stateNode.containerInfo,pn=!0,Ji(i,r,a),rt=l,pn=f;break;case 0:case 11:case 14:case 15:vt||kr(2,a,r),vt||kr(4,a,r),Ji(i,r,a);break;case 1:vt||(vi(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&X_(a,r,l)),Ji(i,r,a);break;case 21:Ji(i,r,a);break;case 22:vt=(l=vt)||a.memoizedState!==null,Ji(i,r,a),vt=l;break;default:Ji(i,r,a)}}function rv(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{eu(i)}catch(a){We(r,r.return,a)}}function Aw(i){switch(i.tag){case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new ev),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new ev),r;default:throw Error(s(435,i.tag))}}function Kd(i,r){var a=Aw(i);r.forEach(function(l){var f=Ow.bind(null,i,l);a.has(l)||(a.add(l),l.then(f,f))})}function bn(i,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],m=i,E=r,A=E;e:for(;A!==null;){switch(A.tag){case 27:if(Hr(A.type)){rt=A.stateNode,pn=!1;break e}break;case 5:rt=A.stateNode,pn=!1;break e;case 3:case 4:rt=A.stateNode.containerInfo,pn=!0;break e}A=A.return}if(rt===null)throw Error(s(160));iv(m,E,f),rt=null,pn=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)sv(r,i),r=r.sibling}var ti=null;function sv(i,r){var a=i.alternate,l=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:bn(r,i),Sn(i),l&4&&(kr(3,i,i.return),kl(3,i),kr(5,i,i.return));break;case 1:bn(r,i),Sn(i),l&512&&(vt||a===null||vi(a,a.return)),l&64&&Zi&&(i=i.updateQueue,i!==null&&(l=i.callbacks,l!==null&&(a=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=ti;if(bn(r,i),Sn(i),l&512&&(vt||a===null||vi(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=i.memoizedState,a===null)if(l===null)if(i.stateNode===null){e:{l=i.type,a=i.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":m=f.getElementsByTagName("title")[0],(!m||m[vr]||m[pt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(l),f.head.insertBefore(m,f.querySelector("head > title"))),Gt(m,l,a),m[pt]=i,gt(m),l=m;break e;case"link":var E=Jv("link","href",f).get(l+(a.href||""));if(E){for(var A=0;A<E.length;A++)if(m=E[A],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(A,1);break t}}m=f.createElement(l),Gt(m,l,a),f.head.appendChild(m);break;case"meta":if(E=Jv("meta","content",f).get(l+(a.content||""))){for(A=0;A<E.length;A++)if(m=E[A],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(A,1);break t}}m=f.createElement(l),Gt(m,l,a),f.head.appendChild(m);break;default:throw Error(s(468,l))}m[pt]=i,gt(m),l=m}i.stateNode=l}else e0(f,i.type,i.stateNode);else i.stateNode=Zv(f,l,i.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?e0(f,i.type,i.stateNode):Zv(f,l,i.memoizedProps)):l===null&&i.stateNode!==null&&qd(i,i.memoizedProps,a.memoizedProps)}break;case 27:bn(r,i),Sn(i),l&512&&(vt||a===null||vi(a,a.return)),a!==null&&l&4&&qd(i,i.memoizedProps,a.memoizedProps);break;case 5:if(bn(r,i),Sn(i),l&512&&(vt||a===null||vi(a,a.return)),i.flags&32){f=i.stateNode;try{Pn(f,"")}catch(H){We(i,i.return,H)}}l&4&&i.stateNode!=null&&(f=i.memoizedProps,qd(i,f,a!==null?a.memoizedProps:f)),l&1024&&(Yd=!0);break;case 6:if(bn(r,i),Sn(i),l&4){if(i.stateNode===null)throw Error(s(162));l=i.memoizedProps,a=i.stateNode;try{a.nodeValue=l}catch(H){We(i,i.return,H)}}break;case 3:if(Wc=null,f=ti,ti=Qc(r.containerInfo),bn(r,i),ti=f,Sn(i),l&4&&a!==null&&a.memoizedState.isDehydrated)try{eu(r.containerInfo)}catch(H){We(i,i.return,H)}Yd&&(Yd=!1,av(i));break;case 4:l=ti,ti=Qc(i.stateNode.containerInfo),bn(r,i),Sn(i),ti=l;break;case 12:bn(r,i),Sn(i);break;case 13:bn(r,i),Sn(i),i.child.flags&8192&&i.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Jd=dn()),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,Kd(i,l)));break;case 22:f=i.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,z=Zi,Q=vt;if(Zi=z||f,vt=Q||R,bn(r,i),vt=Q,Zi=z,Sn(i),l&8192)e:for(r=i.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||R||Zi||vt||ea(i)),a=null,r=i;;){if(r.tag===5||r.tag===26){if(a===null){R=a=r;try{if(m=R.stateNode,f)E=m.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{A=R.stateNode;var W=R.memoizedProps.style,q=W!=null&&W.hasOwnProperty("display")?W.display:null;A.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(H){We(R,R.return,H)}}}else if(r.tag===6){if(a===null){R=r;try{R.stateNode.nodeValue=f?"":R.memoizedProps}catch(H){We(R,R.return,H)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=i.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Kd(i,a))));break;case 19:bn(r,i),Sn(i),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,Kd(i,l)));break;case 30:break;case 21:break;default:bn(r,i),Sn(i)}}function Sn(i){var r=i.flags;if(r&2){try{for(var a,l=i.return;l!==null;){if(Z_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,m=Hd(i);kc(i,m,f);break;case 5:var E=a.stateNode;a.flags&32&&(Pn(E,""),a.flags&=-33);var A=Hd(i);kc(i,A,E);break;case 3:case 4:var R=a.stateNode.containerInfo,z=Hd(i);Gd(i,z,R);break;default:throw Error(s(161))}}catch(Q){We(i,i.return,Q)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function av(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;av(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function Lr(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)tv(i,r.alternate,r),r=r.sibling}function ea(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:kr(4,r,r.return),ea(r);break;case 1:vi(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&X_(r,r.return,a),ea(r);break;case 27:Yl(r.stateNode);case 26:case 5:vi(r,r.return),ea(r);break;case 22:r.memoizedState===null&&ea(r);break;case 30:ea(r);break;default:ea(r)}i=i.sibling}}function Ur(i,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=i,m=r,E=m.flags;switch(m.tag){case 0:case 11:case 15:Ur(f,m,a),kl(4,m);break;case 1:if(Ur(f,m,a),l=m,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(z){We(l,l.return,z)}if(l=m,f=l.updateQueue,f!==null){var A=l.stateNode;try{var R=f.shared.hiddenCallbacks;if(R!==null)for(f.shared.hiddenCallbacks=null,f=0;f<R.length;f++)Vy(R[f],A)}catch(z){We(l,l.return,z)}}a&&E&64&&Q_(m),Ll(m,m.return);break;case 27:J_(m);case 26:case 5:Ur(f,m,a),a&&l===null&&E&4&&W_(m),Ll(m,m.return);break;case 12:Ur(f,m,a);break;case 13:Ur(f,m,a),a&&E&4&&rv(f,m);break;case 22:m.memoizedState===null&&Ur(f,m,a),Ll(m,m.return);break;case 30:break;default:Ur(f,m,a)}r=r.sibling}}function $d(i,r){var a=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==a&&(i!=null&&i.refCount++,a!=null&&Al(a))}function Qd(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Al(i))}function Ei(i,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)ov(i,r,a,l),r=r.sibling}function ov(i,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:Ei(i,r,a,l),f&2048&&kl(9,r);break;case 1:Ei(i,r,a,l);break;case 3:Ei(i,r,a,l),f&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Al(i)));break;case 12:if(f&2048){Ei(i,r,a,l),i=r.stateNode;try{var m=r.memoizedProps,E=m.id,A=m.onPostCommit;typeof A=="function"&&A(E,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(R){We(r,r.return,R)}}else Ei(i,r,a,l);break;case 13:Ei(i,r,a,l);break;case 23:break;case 22:m=r.stateNode,E=r.alternate,r.memoizedState!==null?m._visibility&2?Ei(i,r,a,l):Ul(i,r):m._visibility&2?Ei(i,r,a,l):(m._visibility|=2,Wa(i,r,a,l,(r.subtreeFlags&10256)!==0)),f&2048&&$d(E,r);break;case 24:Ei(i,r,a,l),f&2048&&Qd(r.alternate,r);break;default:Ei(i,r,a,l)}}function Wa(i,r,a,l,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var m=i,E=r,A=a,R=l,z=E.flags;switch(E.tag){case 0:case 11:case 15:Wa(m,E,A,R,f),kl(8,E);break;case 23:break;case 22:var Q=E.stateNode;E.memoizedState!==null?Q._visibility&2?Wa(m,E,A,R,f):Ul(m,E):(Q._visibility|=2,Wa(m,E,A,R,f)),f&&z&2048&&$d(E.alternate,E);break;case 24:Wa(m,E,A,R,f),f&&z&2048&&Qd(E.alternate,E);break;default:Wa(m,E,A,R,f)}r=r.sibling}}function Ul(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=i,l=r,f=l.flags;switch(l.tag){case 22:Ul(a,l),f&2048&&$d(l.alternate,l);break;case 24:Ul(a,l),f&2048&&Qd(l.alternate,l);break;default:Ul(a,l)}r=r.sibling}}var Bl=8192;function Za(i){if(i.subtreeFlags&Bl)for(i=i.child;i!==null;)lv(i),i=i.sibling}function lv(i){switch(i.tag){case 26:Za(i),i.flags&Bl&&i.memoizedState!==null&&oR(ti,i.memoizedState,i.memoizedProps);break;case 5:Za(i);break;case 3:case 4:var r=ti;ti=Qc(i.stateNode.containerInfo),Za(i),ti=r;break;case 22:i.memoizedState===null&&(r=i.alternate,r!==null&&r.memoizedState!==null?(r=Bl,Bl=16777216,Za(i),Bl=r):Za(i));break;default:Za(i)}}function uv(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function zl(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Ut=l,hv(l,i)}uv(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)cv(i),i=i.sibling}function cv(i){switch(i.tag){case 0:case 11:case 15:zl(i),i.flags&2048&&kr(9,i,i.return);break;case 3:zl(i);break;case 12:zl(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,Lc(i)):zl(i);break;default:zl(i)}}function Lc(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Ut=l,hv(l,i)}uv(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:kr(8,r,r.return),Lc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Lc(r));break;default:Lc(r)}i=i.sibling}}function hv(i,r){for(;Ut!==null;){var a=Ut;switch(a.tag){case 0:case 11:case 15:kr(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Al(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ut=l;else e:for(a=i;Ut!==null;){l=Ut;var f=l.sibling,m=l.return;if(nv(l),l===a){Ut=null;break e}if(f!==null){f.return=m,Ut=f;break e}Ut=m}}}var bw={getCacheForType:function(i){var r=Zt(Dt),a=r.data.get(i);return a===void 0&&(a=i(),r.data.set(i,a)),a}},Sw=typeof WeakMap=="function"?WeakMap:Map,He=0,Je=null,Oe=null,Le=0,Ge=0,wn=null,Br=!1,Ja=!1,Xd=!1,er=0,dt=0,zr=0,ta=0,Wd=0,jn=0,eo=0,jl=null,gn=null,Zd=!1,Jd=0,Uc=1/0,Bc=null,jr=null,Ht=0,Fr=null,to=null,no=0,em=0,tm=null,fv=null,Fl=0,nm=null;function Rn(){if((He&2)!==0&&Le!==0)return Le&-Le;if($.T!==null){var i=qa;return i!==0?i:um()}return ki()}function dv(){jn===0&&(jn=(Le&536870912)===0||je?Zo():536870912);var i=zn.current;return i!==null&&(i.flags|=32),jn}function In(i,r,a){(i===Je&&(Ge===2||Ge===9)||i.cancelPendingCommit!==null)&&(io(i,0),qr(i,Le,jn,!1)),mt(i,a),((He&2)===0||i!==Je)&&(i===Je&&((He&2)===0&&(ta|=a),dt===4&&qr(i,Le,jn,!1)),Ti(i))}function mv(i,r,a){if((He&6)!==0)throw Error(s(327));var l=!a&&(r&124)===0&&(r&i.expiredLanes)===0||pr(i,r),f=l?Iw(i,r):sm(i,r,!0),m=l;do{if(f===0){Ja&&!l&&qr(i,r,0,!1);break}else{if(a=i.current.alternate,m&&!ww(a)){f=sm(i,r,!1),m=!1;continue}if(f===2){if(m=r,i.errorRecoveryDisabledLanes&m)var E=0;else E=i.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){r=E;e:{var A=i;f=jl;var R=A.current.memoizedState.isDehydrated;if(R&&(io(A,E).flags|=256),E=sm(A,E,!1),E!==2){if(Xd&&!R){A.errorRecoveryDisabledLanes|=m,ta|=m,f=4;break e}m=gn,gn=f,m!==null&&(gn===null?gn=m:gn.push.apply(gn,m))}f=E}if(m=!1,f!==2)continue}}if(f===1){io(i,0),qr(i,r,0,!0);break}e:{switch(l=i,m=f,m){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:qr(l,r,jn,!Br);break e;case 2:gn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=Jd+300-dn(),10<f)){if(qr(l,r,jn,!Br),Nn(l,0,!0)!==0)break e;l.timeoutHandle=qv(pv.bind(null,l,a,gn,Bc,Zd,r,jn,ta,eo,Br,m,2,-0,0),f);break e}pv(l,a,gn,Bc,Zd,r,jn,ta,eo,Br,m,0,-0,0)}}break}while(!0);Ti(i)}function pv(i,r,a,l,f,m,E,A,R,z,Q,W,q,H){if(i.timeoutHandle=-1,W=r.subtreeFlags,(W&8192||(W&16785408)===16785408)&&(Ql={stylesheets:null,count:0,unsuspend:aR},lv(r),W=lR(),W!==null)){i.cancelPendingCommit=W(Av.bind(null,i,r,m,a,l,f,E,A,R,Q,1,q,H)),qr(i,m,E,!z);return}Av(i,r,m,a,l,f,E,A,R)}function ww(i){for(var r=i;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],m=f.getSnapshot;f=f.value;try{if(!Tn(m(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function qr(i,r,a,l){r&=~Wd,r&=~ta,i.suspendedLanes|=r,i.pingedLanes&=~r,l&&(i.warmLanes|=r),l=i.expirationTimes;for(var f=r;0<f;){var m=31-an(f),E=1<<m;l[m]=-1,f&=~E}a!==0&&yr(i,a,r)}function zc(){return(He&6)===0?(ql(0),!1):!0}function im(){if(Oe!==null){if(Ge===0)var i=Oe.return;else i=Oe,Yi=Qs=null,Ed(i),Qa=null,Ml=0,i=Oe;for(;i!==null;)$_(i.alternate,i),i=i.return;Oe=null}}function io(i,r){var a=i.timeoutHandle;a!==-1&&(i.timeoutHandle=-1,qw(a)),a=i.cancelPendingCommit,a!==null&&(i.cancelPendingCommit=null,a()),im(),Je=i,Oe=a=qi(i.current,null),Le=r,Ge=0,wn=null,Br=!1,Ja=pr(i,r),Xd=!1,eo=jn=Wd=ta=zr=dt=0,gn=jl=null,Zd=!1,(r&8)!==0&&(r|=r&32);var l=i.entangledLanes;if(l!==0)for(i=i.entanglements,l&=r;0<l;){var f=31-an(l),m=1<<f;r|=i[f],l&=~m}return er=r,lc(),a}function gv(i,r){De=null,$.H=Ic,r===Sl||r===yc?(r=My(),Ge=3):r===xy?(r=My(),Ge=4):Ge=r===P_?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,wn=r,Oe===null&&(dt=1,Nc(i,kn(r,i.current)))}function yv(){var i=$.H;return $.H=Ic,i===null?Ic:i}function _v(){var i=$.A;return $.A=bw,i}function rm(){dt=4,Br||(Le&4194048)!==Le&&zn.current!==null||(Ja=!0),(zr&134217727)===0&&(ta&134217727)===0||Je===null||qr(Je,Le,jn,!1)}function sm(i,r,a){var l=He;He|=2;var f=yv(),m=_v();(Je!==i||Le!==r)&&(Bc=null,io(i,r)),r=!1;var E=dt;e:do try{if(Ge!==0&&Oe!==null){var A=Oe,R=wn;switch(Ge){case 8:im(),E=6;break e;case 3:case 2:case 9:case 6:zn.current===null&&(r=!0);var z=Ge;if(Ge=0,wn=null,ro(i,A,R,z),a&&Ja){E=0;break e}break;default:z=Ge,Ge=0,wn=null,ro(i,A,R,z)}}Rw(),E=dt;break}catch(Q){gv(i,Q)}while(!0);return r&&i.shellSuspendCounter++,Yi=Qs=null,He=l,$.H=f,$.A=m,Oe===null&&(Je=null,Le=0,lc()),E}function Rw(){for(;Oe!==null;)vv(Oe)}function Iw(i,r){var a=He;He|=2;var l=yv(),f=_v();Je!==i||Le!==r?(Bc=null,Uc=dn()+500,io(i,r)):Ja=pr(i,r);e:do try{if(Ge!==0&&Oe!==null){r=Oe;var m=wn;t:switch(Ge){case 1:Ge=0,wn=null,ro(i,r,m,1);break;case 2:case 9:if(Oy(m)){Ge=0,wn=null,Ev(r);break}r=function(){Ge!==2&&Ge!==9||Je!==i||(Ge=7),Ti(i)},m.then(r,r);break e;case 3:Ge=7;break e;case 4:Ge=5;break e;case 7:Oy(m)?(Ge=0,wn=null,Ev(r)):(Ge=0,wn=null,ro(i,r,m,7));break;case 5:var E=null;switch(Oe.tag){case 26:E=Oe.memoizedState;case 5:case 27:var A=Oe;if(!E||t0(E)){Ge=0,wn=null;var R=A.sibling;if(R!==null)Oe=R;else{var z=A.return;z!==null?(Oe=z,jc(z)):Oe=null}break t}}Ge=0,wn=null,ro(i,r,m,5);break;case 6:Ge=0,wn=null,ro(i,r,m,6);break;case 8:im(),dt=6;break e;default:throw Error(s(462))}}Cw();break}catch(Q){gv(i,Q)}while(!0);return Yi=Qs=null,$.H=l,$.A=f,He=a,Oe!==null?0:(Je=null,Le=0,lc(),dt)}function Cw(){for(;Oe!==null&&!Mf();)vv(Oe)}function vv(i){var r=Y_(i.alternate,i,er);i.memoizedProps=i.pendingProps,r===null?jc(i):Oe=r}function Ev(i){var r=i,a=r.alternate;switch(r.tag){case 15:case 0:r=z_(a,r,r.pendingProps,r.type,void 0,Le);break;case 11:r=z_(a,r,r.pendingProps,r.type.render,r.ref,Le);break;case 5:Ed(r);default:$_(a,r),r=Oe=Ty(r,er),r=Y_(a,r,er)}i.memoizedProps=i.pendingProps,r===null?jc(i):Oe=r}function ro(i,r,a,l){Yi=Qs=null,Ed(r),Qa=null,Ml=0;var f=r.return;try{if(yw(i,f,r,a,Le)){dt=1,Nc(i,kn(a,i.current)),Oe=null;return}}catch(m){if(f!==null)throw Oe=f,m;dt=1,Nc(i,kn(a,i.current)),Oe=null;return}r.flags&32768?(je||l===1?i=!0:Ja||(Le&536870912)!==0?i=!1:(Br=i=!0,(l===2||l===9||l===3||l===6)&&(l=zn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Tv(r,i)):jc(r)}function jc(i){var r=i;do{if((r.flags&32768)!==0){Tv(r,Br);return}i=r.return;var a=vw(r.alternate,r,er);if(a!==null){Oe=a;return}if(r=r.sibling,r!==null){Oe=r;return}Oe=r=i}while(r!==null);dt===0&&(dt=5)}function Tv(i,r){do{var a=Ew(i.alternate,i);if(a!==null){a.flags&=32767,Oe=a;return}if(a=i.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(i=i.sibling,i!==null)){Oe=i;return}Oe=i=a}while(i!==null);dt=6,Oe=null}function Av(i,r,a,l,f,m,E,A,R){i.cancelPendingCommit=null;do Fc();while(Ht!==0);if((He&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(m=r.lanes|r.childLanes,m|=Qf,Gu(i,a,m,E,A,R),i===Je&&(Oe=Je=null,Le=0),to=r,Fr=i,no=a,em=m,tm=f,fv=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,Nw(Vi,function(){return Iv(),null})):(i.callbackNode=null,i.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=$.T,$.T=null,f=ae.p,ae.p=2,E=He,He|=4;try{Tw(i,r,a)}finally{He=E,ae.p=f,$.T=l}}Ht=1,bv(),Sv(),wv()}}function bv(){if(Ht===1){Ht=0;var i=Fr,r=to,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=$.T,$.T=null;var l=ae.p;ae.p=2;var f=He;He|=4;try{sv(r,i);var m=ym,E=hy(i.containerInfo),A=m.focusedElem,R=m.selectionRange;if(E!==A&&A&&A.ownerDocument&&cy(A.ownerDocument.documentElement,A)){if(R!==null&&Hf(A)){var z=R.start,Q=R.end;if(Q===void 0&&(Q=z),"selectionStart"in A)A.selectionStart=z,A.selectionEnd=Math.min(Q,A.value.length);else{var W=A.ownerDocument||document,q=W&&W.defaultView||window;if(q.getSelection){var H=q.getSelection(),Te=A.textContent.length,ye=Math.min(R.start,Te),Xe=R.end===void 0?ye:Math.min(R.end,Te);!H.extend&&ye>Xe&&(E=Xe,Xe=ye,ye=E);var V=uy(A,ye),N=uy(A,Xe);if(V&&N&&(H.rangeCount!==1||H.anchorNode!==V.node||H.anchorOffset!==V.offset||H.focusNode!==N.node||H.focusOffset!==N.offset)){var L=W.createRange();L.setStart(V.node,V.offset),H.removeAllRanges(),ye>Xe?(H.addRange(L),H.extend(N.node,N.offset)):(L.setEnd(N.node,N.offset),H.addRange(L))}}}}for(W=[],H=A;H=H.parentNode;)H.nodeType===1&&W.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<W.length;A++){var X=W[A];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}eh=!!gm,ym=gm=null}finally{He=f,ae.p=l,$.T=a}}i.current=r,Ht=2}}function Sv(){if(Ht===2){Ht=0;var i=Fr,r=to,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=$.T,$.T=null;var l=ae.p;ae.p=2;var f=He;He|=4;try{tv(i,r.alternate,r)}finally{He=f,ae.p=l,$.T=a}}Ht=3}}function wv(){if(Ht===4||Ht===3){Ht=0,Xo();var i=Fr,r=to,a=no,l=fv;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Ht=5:(Ht=0,to=Fr=null,Rv(i,i.pendingLanes));var f=i.pendingLanes;if(f===0&&(jr=null),el(a),r=r.stateNode,Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(dr,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=$.T,f=ae.p,ae.p=2,$.T=null;try{for(var m=i.onRecoverableError,E=0;E<l.length;E++){var A=l[E];m(A.value,{componentStack:A.stack})}}finally{$.T=r,ae.p=f}}(no&3)!==0&&Fc(),Ti(i),f=i.pendingLanes,(a&4194090)!==0&&(f&42)!==0?i===nm?Fl++:(Fl=0,nm=i):Fl=0,ql(0)}}function Rv(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,Al(r)))}function Fc(i){return bv(),Sv(),wv(),Iv()}function Iv(){if(Ht!==5)return!1;var i=Fr,r=em;em=0;var a=el(no),l=$.T,f=ae.p;try{ae.p=32>a?32:a,$.T=null,a=tm,tm=null;var m=Fr,E=no;if(Ht=0,to=Fr=null,no=0,(He&6)!==0)throw Error(s(331));var A=He;if(He|=4,cv(m.current),ov(m,m.current,E,a),He=A,ql(0,!1),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(dr,m)}catch{}return!0}finally{ae.p=f,$.T=l,Rv(i,r)}}function Cv(i,r,a){r=kn(a,r),r=Pd(i.stateNode,r,2),i=Nr(i,r,2),i!==null&&(mt(i,2),Ti(i))}function We(i,r,a){if(i.tag===3)Cv(i,i,a);else for(;r!==null;){if(r.tag===3){Cv(r,i,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(jr===null||!jr.has(l))){i=kn(a,i),a=N_(2),l=Nr(r,a,2),l!==null&&(M_(a,l,r,i),mt(l,2),Ti(l));break}}r=r.return}}function am(i,r,a){var l=i.pingCache;if(l===null){l=i.pingCache=new Sw;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(Xd=!0,f.add(a),i=Dw.bind(null,i,r,a),r.then(i,i))}function Dw(i,r,a){var l=i.pingCache;l!==null&&l.delete(r),i.pingedLanes|=i.suspendedLanes&a,i.warmLanes&=~a,Je===i&&(Le&a)===a&&(dt===4||dt===3&&(Le&62914560)===Le&&300>dn()-Jd?(He&2)===0&&io(i,0):Wd|=a,eo===Le&&(eo=0)),Ti(i)}function Dv(i,r){r===0&&(r=gr()),i=Ba(i,r),i!==null&&(mt(i,r),Ti(i))}function xw(i){var r=i.memoizedState,a=0;r!==null&&(a=r.retryLane),Dv(i,a)}function Ow(i,r){var a=0;switch(i.tag){case 13:var l=i.stateNode,f=i.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=i.stateNode;break;case 22:l=i.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),Dv(i,a)}function Nw(i,r){return Es(i,r)}var qc=null,so=null,om=!1,Hc=!1,lm=!1,na=0;function Ti(i){i!==so&&i.next===null&&(so===null?qc=so=i:so=so.next=i),Hc=!0,om||(om=!0,Pw())}function ql(i,r){if(!lm&&Hc){lm=!0;do for(var a=!1,l=qc;l!==null;){if(i!==0){var f=l.pendingLanes;if(f===0)var m=0;else{var E=l.suspendedLanes,A=l.pingedLanes;m=(1<<31-an(42|i)+1)-1,m&=f&~(E&~A),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,Mv(l,m))}else m=Le,m=Nn(l,l===Je?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||pr(l,m)||(a=!0,Mv(l,m));l=l.next}while(a);lm=!1}}function Mw(){xv()}function xv(){Hc=om=!1;var i=0;na!==0&&(Fw()&&(i=na),na=0);for(var r=dn(),a=null,l=qc;l!==null;){var f=l.next,m=Ov(l,r);m===0?(l.next=null,a===null?qc=f:a.next=f,f===null&&(so=a)):(a=l,(i!==0||(m&3)!==0)&&(Hc=!0)),l=f}ql(i)}function Ov(i,r){for(var a=i.suspendedLanes,l=i.pingedLanes,f=i.expirationTimes,m=i.pendingLanes&-62914561;0<m;){var E=31-an(m),A=1<<E,R=f[E];R===-1?((A&a)===0||(A&l)!==0)&&(f[E]=Aa(A,r)):R<=r&&(i.expiredLanes|=A),m&=~A}if(r=Je,a=Le,a=Nn(i,i===r?a:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),l=i.callbackNode,a===0||i===r&&(Ge===2||Ge===9)||i.cancelPendingCommit!==null)return l!==null&&l!==null&&Ta(l),i.callbackNode=null,i.callbackPriority=0;if((a&3)===0||pr(i,a)){if(r=a&-a,r===i.callbackPriority)return r;switch(l!==null&&Ta(l),el(a)){case 2:case 8:a=Vt;break;case 32:a=Vi;break;case 268435456:a=Wo;break;default:a=Vi}return l=Nv.bind(null,i),a=Es(a,l),i.callbackPriority=r,i.callbackNode=a,r}return l!==null&&l!==null&&Ta(l),i.callbackPriority=2,i.callbackNode=null,2}function Nv(i,r){if(Ht!==0&&Ht!==5)return i.callbackNode=null,i.callbackPriority=0,null;var a=i.callbackNode;if(Fc()&&i.callbackNode!==a)return null;var l=Le;return l=Nn(i,i===Je?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),l===0?null:(mv(i,l,r),Ov(i,dn()),i.callbackNode!=null&&i.callbackNode===a?Nv.bind(null,i):null)}function Mv(i,r){if(Fc())return null;mv(i,r,!0)}function Pw(){Hw(function(){(He&6)!==0?Es(It,Mw):xv()})}function um(){return na===0&&(na=Zo()),na}function Pv(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Xn(""+i)}function Vv(i,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,i.id&&a.setAttribute("form",i.id),r.parentNode.insertBefore(a,r),i=new FormData(i),a.parentNode.removeChild(a),i}function Vw(i,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var m=Pv((f[Ft]||null).action),E=l.submitter;E&&(r=(r=E[Ft]||null)?Pv(r.formAction):E.getAttribute("formAction"),r!==null&&(m=r,E=null));var A=new Vs("action","action",null,l,f);i.push({event:A,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(na!==0){var R=E?Vv(f,E):new FormData(f);Dd(a,{pending:!0,data:R,method:f.method,action:m},null,R)}}else typeof m=="function"&&(A.preventDefault(),R=E?Vv(f,E):new FormData(f),Dd(a,{pending:!0,data:R,method:f.method,action:m},m,R))},currentTarget:f}]})}}for(var cm=0;cm<$f.length;cm++){var hm=$f[cm],kw=hm.toLowerCase(),Lw=hm[0].toUpperCase()+hm.slice(1);ei(kw,"on"+Lw)}ei(my,"onAnimationEnd"),ei(py,"onAnimationIteration"),ei(gy,"onAnimationStart"),ei("dblclick","onDoubleClick"),ei("focusin","onFocus"),ei("focusout","onBlur"),ei(ew,"onTransitionRun"),ei(tw,"onTransitionStart"),ei(nw,"onTransitionCancel"),ei(yy,"onTransitionEnd"),di("onMouseEnter",["mouseout","mouseover"]),di("onMouseLeave",["mouseout","mouseover"]),di("onPointerEnter",["pointerout","pointerover"]),di("onPointerLeave",["pointerout","pointerover"]),fi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fi("onBeforeInput",["compositionend","keypress","textInput","paste"]),fi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Uw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Hl));function kv(i,r){r=(r&4)!==0;for(var a=0;a<i.length;a++){var l=i[a],f=l.event;l=l.listeners;e:{var m=void 0;if(r)for(var E=l.length-1;0<=E;E--){var A=l[E],R=A.instance,z=A.currentTarget;if(A=A.listener,R!==m&&f.isPropagationStopped())break e;m=A,f.currentTarget=z;try{m(f)}catch(Q){Oc(Q)}f.currentTarget=null,m=R}else for(E=0;E<l.length;E++){if(A=l[E],R=A.instance,z=A.currentTarget,A=A.listener,R!==m&&f.isPropagationStopped())break e;m=A,f.currentTarget=z;try{m(f)}catch(Q){Oc(Q)}f.currentTarget=null,m=R}}}}function Ne(i,r){var a=r[As];a===void 0&&(a=r[As]=new Set);var l=i+"__bubble";a.has(l)||(Lv(r,i,2,!1),a.add(l))}function fm(i,r,a){var l=0;r&&(l|=4),Lv(a,i,l,r)}var Gc="_reactListening"+Math.random().toString(36).slice(2);function dm(i){if(!i[Gc]){i[Gc]=!0,Yu.forEach(function(a){a!=="selectionchange"&&(Uw.has(a)||fm(a,!1,i),fm(a,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[Gc]||(r[Gc]=!0,fm("selectionchange",!1,r))}}function Lv(i,r,a,l){switch(o0(r)){case 2:var f=hR;break;case 8:f=fR;break;default:f=Im}a=f.bind(null,r,a,i),f=void 0,!ji||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?i.addEventListener(r,a,{capture:!0,passive:f}):i.addEventListener(r,a,!0):f!==void 0?i.addEventListener(r,a,{passive:f}):i.addEventListener(r,a,!1)}function mm(i,r,a,l,f){var m=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var A=l.stateNode.containerInfo;if(A===f)break;if(E===4)for(E=l.return;E!==null;){var R=E.tag;if((R===3||R===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;A!==null;){if(E=ci(A),E===null)return;if(R=E.tag,R===5||R===6||R===26||R===27){l=m=E;continue e}A=A.parentNode}}l=l.return}Ns(function(){var z=m,Q=ol(a),W=[];e:{var q=_y.get(i);if(q!==void 0){var H=Vs,Te=i;switch(i){case"keypress":if(Ms(a)===0)break e;case"keydown":case"keyup":H=Va;break;case"focusin":Te="focus",H=Na;break;case"focusout":Te="blur",H=Na;break;case"beforeblur":case"afterblur":H=Na;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=zs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Ju;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=Cr;break;case my:case py:case gy:H=ul;break;case yy:H=y;break;case"scroll":case"scrollend":H=Ls;break;case"wheel":H=S;break;case"copy":case"cut":case"paste":H=tc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=fl;break;case"toggle":case"beforetoggle":H=G}var ye=(r&4)!==0,Xe=!ye&&(i==="scroll"||i==="scrollend"),V=ye?q!==null?q+"Capture":null:q;ye=[];for(var N=z,L;N!==null;){var X=N;if(L=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||L===null||V===null||(X=Rr(N,V),X!=null&&ye.push(Gl(N,X,L))),Xe)break;N=N.return}0<ye.length&&(q=new H(q,Te,null,a,Q),W.push({event:q,listeners:ye}))}}if((r&7)===0){e:{if(q=i==="mouseover"||i==="pointerover",H=i==="mouseout"||i==="pointerout",q&&a!==al&&(Te=a.relatedTarget||a.fromElement)&&(ci(Te)||Te[Li]))break e;if((H||q)&&(q=Q.window===Q?Q:(q=Q.ownerDocument)?q.defaultView||q.parentWindow:window,H?(Te=a.relatedTarget||a.toElement,H=z,Te=Te?ci(Te):null,Te!==null&&(Xe=u(Te),ye=Te.tag,Te!==Xe||ye!==5&&ye!==27&&ye!==6)&&(Te=null)):(H=null,Te=z),H!==Te)){if(ye=zs,X="onMouseLeave",V="onMouseEnter",N="mouse",(i==="pointerout"||i==="pointerover")&&(ye=fl,X="onPointerLeave",V="onPointerEnter",N="pointer"),Xe=H==null?q:Er(H),L=Te==null?q:Er(Te),q=new ye(X,N+"leave",H,a,Q),q.target=Xe,q.relatedTarget=L,X=null,ci(Q)===z&&(ye=new ye(V,N+"enter",Te,a,Q),ye.target=L,ye.relatedTarget=Xe,X=ye),Xe=X,H&&Te)t:{for(ye=H,V=Te,N=0,L=ye;L;L=ao(L))N++;for(L=0,X=V;X;X=ao(X))L++;for(;0<N-L;)ye=ao(ye),N--;for(;0<L-N;)V=ao(V),L--;for(;N--;){if(ye===V||V!==null&&ye===V.alternate)break t;ye=ao(ye),V=ao(V)}ye=null}else ye=null;H!==null&&Uv(W,q,H,ye,!1),Te!==null&&Xe!==null&&Uv(W,Xe,Te,ye,!0)}}e:{if(q=z?Er(z):window,H=q.nodeName&&q.nodeName.toLowerCase(),H==="select"||H==="input"&&q.type==="file")var ce=iy;else if(ty(q))if(ry)ce=WS;else{ce=QS;var xe=$S}else H=q.nodeName,!H||H.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?z&&Da(z.elementType)&&(ce=iy):ce=XS;if(ce&&(ce=ce(i,z))){ny(W,ce,a,Q);break e}xe&&xe(i,q,z),i==="focusout"&&z&&q.type==="number"&&z.memoizedProps.value!=null&&il(q,"number",q.value)}switch(xe=z?Er(z):window,i){case"focusin":(ty(xe)||xe.contentEditable==="true")&&(ka=xe,Gf=z,yl=null);break;case"focusout":yl=Gf=ka=null;break;case"mousedown":Yf=!0;break;case"contextmenu":case"mouseup":case"dragend":Yf=!1,fy(W,a,Q);break;case"selectionchange":if(JS)break;case"keydown":case"keyup":fy(W,a,Q)}var fe;if(Se)e:{switch(i){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else Jn?Wn(i,a)&&(_e="onCompositionEnd"):i==="keydown"&&a.keyCode===229&&(_e="onCompositionStart");_e&&(yt&&a.locale!=="ko"&&(Jn||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&Jn&&(fe=Zu()):(Vn=Q,Ze="value"in Vn?Vn.value:Vn.textContent,Jn=!0)),xe=Yc(z,_e),0<xe.length&&(_e=new hl(_e,i,null,a,Q),W.push({event:_e,listeners:xe}),fe?_e.data=fe:(fe=Zn(a),fe!==null&&(_e.data=fe)))),(fe=qe?dl(i,a):GS(i,a))&&(_e=Yc(z,"onBeforeInput"),0<_e.length&&(xe=new hl("onBeforeInput","beforeinput",null,a,Q),W.push({event:xe,listeners:_e}),xe.data=fe)),Vw(W,i,z,a,Q)}kv(W,r)})}function Gl(i,r,a){return{instance:i,listener:r,currentTarget:a}}function Yc(i,r){for(var a=r+"Capture",l=[];i!==null;){var f=i,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=Rr(i,a),f!=null&&l.unshift(Gl(i,f,m)),f=Rr(i,r),f!=null&&l.push(Gl(i,f,m))),i.tag===3)return l;i=i.return}return[]}function ao(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Uv(i,r,a,l,f){for(var m=r._reactName,E=[];a!==null&&a!==l;){var A=a,R=A.alternate,z=A.stateNode;if(A=A.tag,R!==null&&R===l)break;A!==5&&A!==26&&A!==27||z===null||(R=z,f?(z=Rr(a,m),z!=null&&E.unshift(Gl(a,z,R))):f||(z=Rr(a,m),z!=null&&E.push(Gl(a,z,R)))),a=a.return}E.length!==0&&i.push({event:r,listeners:E})}var Bw=/\r\n?/g,zw=/\u0000|\uFFFD/g;function Bv(i){return(typeof i=="string"?i:""+i).replace(Bw,`
`).replace(zw,"")}function zv(i,r){return r=Bv(r),Bv(i)===r}function Kc(){}function Qe(i,r,a,l,f,m){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||Pn(i,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&Pn(i,""+l);break;case"className":Is(i,"class",l);break;case"tabIndex":Is(i,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Is(i,a,l);break;case"style":sl(i,l,m);break;case"data":if(r!=="object"){Is(i,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){i.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){i.removeAttribute(a);break}l=Xn(""+l),i.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){i.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(r!=="input"&&Qe(i,r,"name",f.name,f,null),Qe(i,r,"formEncType",f.formEncType,f,null),Qe(i,r,"formMethod",f.formMethod,f,null),Qe(i,r,"formTarget",f.formTarget,f,null)):(Qe(i,r,"encType",f.encType,f,null),Qe(i,r,"method",f.method,f,null),Qe(i,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){i.removeAttribute(a);break}l=Xn(""+l),i.setAttribute(a,l);break;case"onClick":l!=null&&(i.onclick=Kc);break;case"onScroll":l!=null&&Ne("scroll",i);break;case"onScrollEnd":l!=null&&Ne("scrollend",i);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=a}}break;case"multiple":i.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":i.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){i.removeAttribute("xlink:href");break}a=Xn(""+l),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,""+l):i.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,""):i.removeAttribute(a);break;case"capture":case"download":l===!0?i.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,l):i.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?i.setAttribute(a,l):i.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?i.removeAttribute(a):i.setAttribute(a,l);break;case"popover":Ne("beforetoggle",i),Ne("toggle",i),Rs(i,"popover",l);break;case"xlinkActuate":Mn(i,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Mn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Mn(i,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Mn(i,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Mn(i,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Mn(i,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Mn(i,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Mn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Mn(i,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Rs(i,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Qu.get(a)||a,Rs(i,a,l))}}function pm(i,r,a,l,f,m){switch(a){case"style":sl(i,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=a}}break;case"children":typeof l=="string"?Pn(i,l):(typeof l=="number"||typeof l=="bigint")&&Pn(i,""+l);break;case"onScroll":l!=null&&Ne("scroll",i);break;case"onScrollEnd":l!=null&&Ne("scrollend",i);break;case"onClick":l!=null&&(i.onclick=Kc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ss.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),m=i[Ft]||null,m=m!=null?m[a]:null,typeof m=="function"&&i.removeEventListener(r,m,f),typeof l=="function")){typeof m!="function"&&m!==null&&(a in i?i[a]=null:i.hasAttribute(a)&&i.removeAttribute(a)),i.addEventListener(r,l,f);break e}a in i?i[a]=l:l===!0?i.setAttribute(a,""):Rs(i,a,l)}}}function Gt(i,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ne("error",i),Ne("load",i);var l=!1,f=!1,m;for(m in a)if(a.hasOwnProperty(m)){var E=a[m];if(E!=null)switch(m){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Qe(i,r,m,E,a,null)}}f&&Qe(i,r,"srcSet",a.srcSet,a,null),l&&Qe(i,r,"src",a.src,a,null);return;case"input":Ne("invalid",i);var A=m=E=f=null,R=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var Q=a[l];if(Q!=null)switch(l){case"name":f=Q;break;case"type":E=Q;break;case"checked":R=Q;break;case"defaultChecked":z=Q;break;case"value":m=Q;break;case"defaultValue":A=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,r));break;default:Qe(i,r,l,Q,a,null)}}nl(i,m,A,R,z,E,f,!1),br(i);return;case"select":Ne("invalid",i),l=E=m=null;for(f in a)if(a.hasOwnProperty(f)&&(A=a[f],A!=null))switch(f){case"value":m=A;break;case"defaultValue":E=A;break;case"multiple":l=A;default:Qe(i,r,f,A,a,null)}r=m,a=E,i.multiple=!!l,r!=null?Sr(i,!!l,r,!1):a!=null&&Sr(i,!!l,a,!0);return;case"textarea":Ne("invalid",i),m=f=l=null;for(E in a)if(a.hasOwnProperty(E)&&(A=a[E],A!=null))switch(E){case"value":l=A;break;case"defaultValue":f=A;break;case"children":m=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(91));break;default:Qe(i,r,E,A,a,null)}$u(i,l,f,m),br(i);return;case"option":for(R in a)if(a.hasOwnProperty(R)&&(l=a[R],l!=null))switch(R){case"selected":i.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Qe(i,r,R,l,a,null)}return;case"dialog":Ne("beforetoggle",i),Ne("toggle",i),Ne("cancel",i),Ne("close",i);break;case"iframe":case"object":Ne("load",i);break;case"video":case"audio":for(l=0;l<Hl.length;l++)Ne(Hl[l],i);break;case"image":Ne("error",i),Ne("load",i);break;case"details":Ne("toggle",i);break;case"embed":case"source":case"link":Ne("error",i),Ne("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Qe(i,r,z,l,a,null)}return;default:if(Da(r)){for(Q in a)a.hasOwnProperty(Q)&&(l=a[Q],l!==void 0&&pm(i,r,Q,l,a,void 0));return}}for(A in a)a.hasOwnProperty(A)&&(l=a[A],l!=null&&Qe(i,r,A,l,a,null))}function jw(i,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,E=null,A=null,R=null,z=null,Q=null;for(H in a){var W=a[H];if(a.hasOwnProperty(H)&&W!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":R=W;default:l.hasOwnProperty(H)||Qe(i,r,H,null,l,W)}}for(var q in l){var H=l[q];if(W=a[q],l.hasOwnProperty(q)&&(H!=null||W!=null))switch(q){case"type":m=H;break;case"name":f=H;break;case"checked":z=H;break;case"defaultChecked":Q=H;break;case"value":E=H;break;case"defaultValue":A=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,r));break;default:H!==W&&Qe(i,r,q,H,l,W)}}tl(i,E,A,R,z,Q,m,f);return;case"select":H=E=A=q=null;for(m in a)if(R=a[m],a.hasOwnProperty(m)&&R!=null)switch(m){case"value":break;case"multiple":H=R;default:l.hasOwnProperty(m)||Qe(i,r,m,null,l,R)}for(f in l)if(m=l[f],R=a[f],l.hasOwnProperty(f)&&(m!=null||R!=null))switch(f){case"value":q=m;break;case"defaultValue":A=m;break;case"multiple":E=m;default:m!==R&&Qe(i,r,f,m,l,R)}r=A,a=E,l=H,q!=null?Sr(i,!!a,q,!1):!!l!=!!a&&(r!=null?Sr(i,!!a,r,!0):Sr(i,!!a,a?[]:"",!1));return;case"textarea":H=q=null;for(A in a)if(f=a[A],a.hasOwnProperty(A)&&f!=null&&!l.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:Qe(i,r,A,null,l,f)}for(E in l)if(f=l[E],m=a[E],l.hasOwnProperty(E)&&(f!=null||m!=null))switch(E){case"value":q=f;break;case"defaultValue":H=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==m&&Qe(i,r,E,f,l,m)}Ku(i,q,H);return;case"option":for(var Te in a)if(q=a[Te],a.hasOwnProperty(Te)&&q!=null&&!l.hasOwnProperty(Te))switch(Te){case"selected":i.selected=!1;break;default:Qe(i,r,Te,null,l,q)}for(R in l)if(q=l[R],H=a[R],l.hasOwnProperty(R)&&q!==H&&(q!=null||H!=null))switch(R){case"selected":i.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:Qe(i,r,R,q,l,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in a)q=a[ye],a.hasOwnProperty(ye)&&q!=null&&!l.hasOwnProperty(ye)&&Qe(i,r,ye,null,l,q);for(z in l)if(q=l[z],H=a[z],l.hasOwnProperty(z)&&q!==H&&(q!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,r));break;default:Qe(i,r,z,q,l,H)}return;default:if(Da(r)){for(var Xe in a)q=a[Xe],a.hasOwnProperty(Xe)&&q!==void 0&&!l.hasOwnProperty(Xe)&&pm(i,r,Xe,void 0,l,q);for(Q in l)q=l[Q],H=a[Q],!l.hasOwnProperty(Q)||q===H||q===void 0&&H===void 0||pm(i,r,Q,q,l,H);return}}for(var V in a)q=a[V],a.hasOwnProperty(V)&&q!=null&&!l.hasOwnProperty(V)&&Qe(i,r,V,null,l,q);for(W in l)q=l[W],H=a[W],!l.hasOwnProperty(W)||q===H||q==null&&H==null||Qe(i,r,W,q,l,H)}var gm=null,ym=null;function $c(i){return i.nodeType===9?i:i.ownerDocument}function jv(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Fv(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function _m(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var vm=null;function Fw(){var i=window.event;return i&&i.type==="popstate"?i===vm?!1:(vm=i,!0):(vm=null,!1)}var qv=typeof setTimeout=="function"?setTimeout:void 0,qw=typeof clearTimeout=="function"?clearTimeout:void 0,Hv=typeof Promise=="function"?Promise:void 0,Hw=typeof queueMicrotask=="function"?queueMicrotask:typeof Hv<"u"?function(i){return Hv.resolve(null).then(i).catch(Gw)}:qv;function Gw(i){setTimeout(function(){throw i})}function Hr(i){return i==="head"}function Gv(i,r){var a=r,l=0,f=0;do{var m=a.nextSibling;if(i.removeChild(a),m&&m.nodeType===8)if(a=m.data,a==="/$"){if(0<l&&8>l){a=l;var E=i.ownerDocument;if(a&1&&Yl(E.documentElement),a&2&&Yl(E.body),a&4)for(a=E.head,Yl(a),E=a.firstChild;E;){var A=E.nextSibling,R=E.nodeName;E[vr]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&E.rel.toLowerCase()==="stylesheet"||a.removeChild(E),E=A}}if(f===0){i.removeChild(m),eu(r);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:l=a.charCodeAt(0)-48;else l=0;a=m}while(a);eu(r)}function Em(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Em(a),Sa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}i.removeChild(a)}}function Yw(i,r,a,l){for(;i.nodeType===1;){var f=a;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(l){if(!i[vr])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(m=i.getAttribute("rel"),m==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(m!==f.rel||i.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||i.getAttribute("title")!==(f.title==null?null:f.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(m=i.getAttribute("src"),(m!==(f.src==null?null:f.src)||i.getAttribute("type")!==(f.type==null?null:f.type)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&i.getAttribute("name")===m)return i}else return i;if(i=ni(i.nextSibling),i===null)break}return null}function Kw(i,r,a){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=ni(i.nextSibling),i===null))return null;return i}function Tm(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function $w(i,r){var a=i.ownerDocument;if(i.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),i._reactRetry=l}}function ni(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return i}var Am=null;function Yv(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var a=i.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return i;r--}else a==="/$"&&r++}i=i.previousSibling}return null}function Kv(i,r,a){switch(r=$c(a),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function Yl(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);Sa(i)}var Fn=new Map,$v=new Set;function Qc(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var tr=ae.d;ae.d={f:Qw,r:Xw,D:Ww,C:Zw,L:Jw,m:eR,X:nR,S:tR,M:iR};function Qw(){var i=tr.f(),r=zc();return i||r}function Xw(i){var r=hi(i);r!==null&&r.tag===5&&r.type==="form"?m_(r):tr.r(i)}var oo=typeof document>"u"?null:document;function Qv(i,r,a){var l=oo;if(l&&typeof r=="string"&&r){var f=kt(r);f='link[rel="'+i+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),$v.has(f)||($v.add(f),i={rel:i,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),Gt(r,"link",i),gt(r),l.head.appendChild(r)))}}function Ww(i){tr.D(i),Qv("dns-prefetch",i,null)}function Zw(i,r){tr.C(i,r),Qv("preconnect",i,r)}function Jw(i,r,a){tr.L(i,r,a);var l=oo;if(l&&i&&r){var f='link[rel="preload"][as="'+kt(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+kt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+kt(a.imageSizes)+'"]')):f+='[href="'+kt(i)+'"]';var m=f;switch(r){case"style":m=lo(i);break;case"script":m=uo(i)}Fn.has(m)||(i=_({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:i,as:r},a),Fn.set(m,i),l.querySelector(f)!==null||r==="style"&&l.querySelector(Kl(m))||r==="script"&&l.querySelector($l(m))||(r=l.createElement("link"),Gt(r,"link",i),gt(r),l.head.appendChild(r)))}}function eR(i,r){tr.m(i,r);var a=oo;if(a&&i){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+kt(l)+'"][href="'+kt(i)+'"]',m=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=uo(i)}if(!Fn.has(m)&&(i=_({rel:"modulepreload",href:i},r),Fn.set(m,i),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector($l(m)))return}l=a.createElement("link"),Gt(l,"link",i),gt(l),a.head.appendChild(l)}}}function tR(i,r,a){tr.S(i,r,a);var l=oo;if(l&&i){var f=Tr(l).hoistableStyles,m=lo(i);r=r||"default";var E=f.get(m);if(!E){var A={loading:0,preload:null};if(E=l.querySelector(Kl(m)))A.loading=5;else{i=_({rel:"stylesheet",href:i,"data-precedence":r},a),(a=Fn.get(m))&&bm(i,a);var R=E=l.createElement("link");gt(R),Gt(R,"link",i),R._p=new Promise(function(z,Q){R.onload=z,R.onerror=Q}),R.addEventListener("load",function(){A.loading|=1}),R.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Xc(E,r,l)}E={type:"stylesheet",instance:E,count:1,state:A},f.set(m,E)}}}function nR(i,r){tr.X(i,r);var a=oo;if(a&&i){var l=Tr(a).hoistableScripts,f=uo(i),m=l.get(f);m||(m=a.querySelector($l(f)),m||(i=_({src:i,async:!0},r),(r=Fn.get(f))&&Sm(i,r),m=a.createElement("script"),gt(m),Gt(m,"link",i),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function iR(i,r){tr.M(i,r);var a=oo;if(a&&i){var l=Tr(a).hoistableScripts,f=uo(i),m=l.get(f);m||(m=a.querySelector($l(f)),m||(i=_({src:i,async:!0,type:"module"},r),(r=Fn.get(f))&&Sm(i,r),m=a.createElement("script"),gt(m),Gt(m,"link",i),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function Xv(i,r,a,l){var f=(f=Ee.current)?Qc(f):null;if(!f)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=lo(a.href),a=Tr(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){i=lo(a.href);var m=Tr(f).hoistableStyles,E=m.get(i);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(i,E),(m=f.querySelector(Kl(i)))&&!m._p&&(E.instance=m,E.state.loading=5),Fn.has(i)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Fn.set(i,a),m||rR(f,i,a,E.state))),r&&l===null)throw Error(s(528,""));return E}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=uo(a),a=Tr(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function lo(i){return'href="'+kt(i)+'"'}function Kl(i){return'link[rel="stylesheet"]['+i+"]"}function Wv(i){return _({},i,{"data-precedence":i.precedence,precedence:null})}function rR(i,r,a,l){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=i.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Gt(r,"link",a),gt(r),i.head.appendChild(r))}function uo(i){return'[src="'+kt(i)+'"]'}function $l(i){return"script[async]"+i}function Zv(i,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=i.querySelector('style[data-href~="'+kt(a.href)+'"]');if(l)return r.instance=l,gt(l),l;var f=_({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(i.ownerDocument||i).createElement("style"),gt(l),Gt(l,"style",f),Xc(l,a.precedence,i),r.instance=l;case"stylesheet":f=lo(a.href);var m=i.querySelector(Kl(f));if(m)return r.state.loading|=4,r.instance=m,gt(m),m;l=Wv(a),(f=Fn.get(f))&&bm(l,f),m=(i.ownerDocument||i).createElement("link"),gt(m);var E=m;return E._p=new Promise(function(A,R){E.onload=A,E.onerror=R}),Gt(m,"link",l),r.state.loading|=4,Xc(m,a.precedence,i),r.instance=m;case"script":return m=uo(a.src),(f=i.querySelector($l(m)))?(r.instance=f,gt(f),f):(l=a,(f=Fn.get(m))&&(l=_({},a),Sm(l,f)),i=i.ownerDocument||i,f=i.createElement("script"),gt(f),Gt(f,"link",l),i.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Xc(l,a.precedence,i));return r.instance}function Xc(i,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,m=f,E=0;E<l.length;E++){var A=l[E];if(A.dataset.precedence===r)m=A;else if(m!==f)break}m?m.parentNode.insertBefore(i,m.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(i,r.firstChild))}function bm(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function Sm(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var Wc=null;function Jv(i,r,a){if(Wc===null){var l=new Map,f=Wc=new Map;f.set(a,l)}else f=Wc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(i))return l;for(l.set(i,null),a=a.getElementsByTagName(i),f=0;f<a.length;f++){var m=a[f];if(!(m[vr]||m[pt]||i==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var E=m.getAttribute(r)||"";E=i+E;var A=l.get(E);A?A.push(m):l.set(E,[m])}}return l}function e0(i,r,a){i=i.ownerDocument||i,i.head.insertBefore(a,r==="title"?i.querySelector("head > title"):null)}function sR(i,r,a){if(a===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function t0(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Ql=null;function aR(){}function oR(i,r,a){if(Ql===null)throw Error(s(475));var l=Ql;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=lo(a.href),m=i.querySelector(Kl(f));if(m){i=m._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(l.count++,l=Zc.bind(l),i.then(l,l)),r.state.loading|=4,r.instance=m,gt(m);return}m=i.ownerDocument||i,a=Wv(a),(f=Fn.get(f))&&bm(a,f),m=m.createElement("link"),gt(m);var E=m;E._p=new Promise(function(A,R){E.onload=A,E.onerror=R}),Gt(m,"link",a),r.instance=m}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,i),(i=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=Zc.bind(l),i.addEventListener("load",r),i.addEventListener("error",r))}}function lR(){if(Ql===null)throw Error(s(475));var i=Ql;return i.stylesheets&&i.count===0&&wm(i,i.stylesheets),0<i.count?function(r){var a=setTimeout(function(){if(i.stylesheets&&wm(i,i.stylesheets),i.unsuspend){var l=i.unsuspend;i.unsuspend=null,l()}},6e4);return i.unsuspend=r,function(){i.unsuspend=null,clearTimeout(a)}}:null}function Zc(){if(this.count--,this.count===0){if(this.stylesheets)wm(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Jc=null;function wm(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Jc=new Map,r.forEach(uR,i),Jc=null,Zc.call(i))}function uR(i,r){if(!(r.state.loading&4)){var a=Jc.get(i);if(a)var l=a.get(null);else{a=new Map,Jc.set(i,a);for(var f=i.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var E=f[m];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),l=E)}l&&a.set(null,l)}f=r.instance,E=f.getAttribute("data-precedence"),m=a.get(E)||l,m===l&&a.set(null,f),a.set(E,f),this.count++,l=Zc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),m?m.parentNode.insertBefore(f,m.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(f,i.firstChild)),r.state.loading|=4}}var Xl={$$typeof:re,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function cR(i,r,a,l,f,m,E,A){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ba(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ba(0),this.hiddenUpdates=ba(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function n0(i,r,a,l,f,m,E,A,R,z,Q,W){return i=new cR(i,r,a,E,A,R,z,W),r=1,m===!0&&(r|=24),m=An(3,null,null,r),i.current=m,m.stateNode=i,r=ad(),r.refCount++,i.pooledCache=r,r.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:r},cd(m),i}function i0(i){return i?(i=za,i):za}function r0(i,r,a,l,f,m){f=i0(f),l.context===null?l.context=f:l.pendingContext=f,l=Or(r),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=Nr(i,l,r),a!==null&&(In(a,i,r),Rl(a,i,r))}function s0(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var a=i.retryLane;i.retryLane=a!==0&&a<r?a:r}}function Rm(i,r){s0(i,r),(i=i.alternate)&&s0(i,r)}function a0(i){if(i.tag===13){var r=Ba(i,67108864);r!==null&&In(r,i,67108864),Rm(i,67108864)}}var eh=!0;function hR(i,r,a,l){var f=$.T;$.T=null;var m=ae.p;try{ae.p=2,Im(i,r,a,l)}finally{ae.p=m,$.T=f}}function fR(i,r,a,l){var f=$.T;$.T=null;var m=ae.p;try{ae.p=8,Im(i,r,a,l)}finally{ae.p=m,$.T=f}}function Im(i,r,a,l){if(eh){var f=Cm(l);if(f===null)mm(i,r,l,th,a),l0(i,l);else if(mR(f,i,r,a,l))l.stopPropagation();else if(l0(i,l),r&4&&-1<dR.indexOf(i)){for(;f!==null;){var m=hi(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var E=Kn(m.pendingLanes);if(E!==0){var A=m;for(A.pendingLanes|=2,A.entangledLanes|=2;E;){var R=1<<31-an(E);A.entanglements[1]|=R,E&=~R}Ti(m),(He&6)===0&&(Uc=dn()+500,ql(0))}}break;case 13:A=Ba(m,2),A!==null&&In(A,m,2),zc(),Rm(m,2)}if(m=Cm(l),m===null&&mm(i,r,l,th,a),m===f)break;f=m}f!==null&&l.stopPropagation()}else mm(i,r,l,null,a)}}function Cm(i){return i=ol(i),Dm(i)}var th=null;function Dm(i){if(th=null,i=ci(i),i!==null){var r=u(i);if(r===null)i=null;else{var a=r.tag;if(a===13){if(i=c(r),i!==null)return i;i=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return th=i,null}function o0(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Fu()){case It:return 2;case Vt:return 8;case Vi:case Pf:return 32;case Wo:return 268435456;default:return 32}default:return 32}}var xm=!1,Gr=null,Yr=null,Kr=null,Wl=new Map,Zl=new Map,$r=[],dR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function l0(i,r){switch(i){case"focusin":case"focusout":Gr=null;break;case"dragenter":case"dragleave":Yr=null;break;case"mouseover":case"mouseout":Kr=null;break;case"pointerover":case"pointerout":Wl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zl.delete(r.pointerId)}}function Jl(i,r,a,l,f,m){return i===null||i.nativeEvent!==m?(i={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[f]},r!==null&&(r=hi(r),r!==null&&a0(r)),i):(i.eventSystemFlags|=l,r=i.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),i)}function mR(i,r,a,l,f){switch(r){case"focusin":return Gr=Jl(Gr,i,r,a,l,f),!0;case"dragenter":return Yr=Jl(Yr,i,r,a,l,f),!0;case"mouseover":return Kr=Jl(Kr,i,r,a,l,f),!0;case"pointerover":var m=f.pointerId;return Wl.set(m,Jl(Wl.get(m)||null,i,r,a,l,f)),!0;case"gotpointercapture":return m=f.pointerId,Zl.set(m,Jl(Zl.get(m)||null,i,r,a,l,f)),!0}return!1}function u0(i){var r=ci(i.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=c(a),r!==null){i.blockedOn=r,Lf(i.priority,function(){if(a.tag===13){var l=Rn();l=Jo(l);var f=Ba(a,l);f!==null&&In(f,a,l),Rm(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){i.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}i.blockedOn=null}function nh(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var a=Cm(i.nativeEvent);if(a===null){a=i.nativeEvent;var l=new a.constructor(a.type,a);al=l,a.target.dispatchEvent(l),al=null}else return r=hi(a),r!==null&&a0(r),i.blockedOn=a,!1;r.shift()}return!0}function c0(i,r,a){nh(i)&&a.delete(r)}function pR(){xm=!1,Gr!==null&&nh(Gr)&&(Gr=null),Yr!==null&&nh(Yr)&&(Yr=null),Kr!==null&&nh(Kr)&&(Kr=null),Wl.forEach(c0),Zl.forEach(c0)}function ih(i,r){i.blockedOn===r&&(i.blockedOn=null,xm||(xm=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,pR)))}var rh=null;function h0(i){rh!==i&&(rh=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){rh===i&&(rh=null);for(var r=0;r<i.length;r+=3){var a=i[r],l=i[r+1],f=i[r+2];if(typeof l!="function"){if(Dm(l||a)===null)continue;break}var m=hi(a);m!==null&&(i.splice(r,3),r-=3,Dd(m,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function eu(i){function r(R){return ih(R,i)}Gr!==null&&ih(Gr,i),Yr!==null&&ih(Yr,i),Kr!==null&&ih(Kr,i),Wl.forEach(r),Zl.forEach(r);for(var a=0;a<$r.length;a++){var l=$r[a];l.blockedOn===i&&(l.blockedOn=null)}for(;0<$r.length&&(a=$r[0],a.blockedOn===null);)u0(a),a.blockedOn===null&&$r.shift();if(a=(i.ownerDocument||i).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],m=a[l+1],E=f[Ft]||null;if(typeof m=="function")E||h0(a);else if(E){var A=null;if(m&&m.hasAttribute("formAction")){if(f=m,E=m[Ft]||null)A=E.formAction;else if(Dm(f)!==null)continue}else A=E.action;typeof A=="function"?a[l+1]=A:(a.splice(l,3),l-=3),h0(a)}}}function Om(i){this._internalRoot=i}sh.prototype.render=Om.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=Rn();r0(a,l,i,r,null,null)},sh.prototype.unmount=Om.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;r0(i.current,2,null,i,null,null),zc(),r[Li]=null}};function sh(i){this._internalRoot=i}sh.prototype.unstable_scheduleHydration=function(i){if(i){var r=ki();i={blockedOn:null,target:i,priority:r};for(var a=0;a<$r.length&&r!==0&&r<$r[a].priority;a++);$r.splice(a,0,i),a===0&&u0(i)}};var f0=e.version;if(f0!=="19.1.1")throw Error(s(527,f0,"19.1.1"));ae.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=p(r),i=i!==null?g(i):null,i=i===null?null:i.stateNode,i};var gR={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ah=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ah.isDisabled&&ah.supportsFiber)try{dr=ah.inject(gR),Xt=ah}catch{}}return nu.createRoot=function(i,r){if(!o(i))throw Error(s(299));var a=!1,l="",f=C_,m=D_,E=x_,A=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(m=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(A=r.unstable_transitionCallbacks)),r=n0(i,1,!1,null,null,a,l,f,m,E,A,null),i[Li]=r.current,dm(i),new Om(r)},nu.hydrateRoot=function(i,r,a){if(!o(i))throw Error(s(299));var l=!1,f="",m=C_,E=D_,A=x_,R=null,z=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(R=a.unstable_transitionCallbacks),a.formState!==void 0&&(z=a.formState)),r=n0(i,1,!0,r,a??null,l,f,m,E,A,R,z),r.context=i0(null),a=r.current,l=Rn(),l=Jo(l),f=Or(l),f.callback=null,Nr(a,f,l),a=l,r.current.lanes=a,mt(r,a),Ti(r),i[Li]=r.current,dm(i),new sh(r)},nu.version="19.1.1",nu}var A0;function wR(){if(A0)return Pm.exports;A0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Pm.exports=SR(),Pm.exports}var RR=wR();const IR=af(RR);var Um={exports:{}},Bm,b0;function CR(){if(b0)return Bm;b0=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Bm=t,Bm}var zm,S0;function DR(){if(S0)return zm;S0=1;var t=CR();function e(){}function n(){}return n.resetWarningCache=e,zm=function(){function s(c,d,p,g,_,T){if(T!==t){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}s.isRequired=s;function o(){return s}var u={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:o,element:s,elementType:s,instanceOf:o,node:s,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:n,resetWarningCache:e};return u.PropTypes=u,u},zm}var w0;function xR(){return w0||(w0=1,Um.exports=DR()()),Um.exports}var OR=xR();const nt=af(OR);/**
 * react-router v7.12.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var R0="popstate";function NR(t={}){function e(s,o){let{pathname:u,search:c,hash:d}=s.location;return lp("",{pathname:u,search:c,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:gu(o)}return PR(e,n,null,t)}function at(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Gn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function MR(){return Math.random().toString(36).substring(2,10)}function I0(t,e){return{usr:t.state,key:t.key,idx:e}}function lp(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Lo(e):e,state:n,key:e&&e.key||s||MR()}}function gu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Lo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function PR(t,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,c=o.history,d="POP",p=null,g=_();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function _(){return(c.state||{idx:null}).idx}function T(){d="POP";let F=_(),ne=F==null?null:F-g;g=F,p&&p({action:d,location:Y.location,delta:ne})}function b(F,ne){d="PUSH";let K=lp(Y.location,F,ne);g=_()+1;let re=I0(K,g),Ce=Y.createHref(K);try{c.pushState(re,"",Ce)}catch(oe){if(oe instanceof DOMException&&oe.name==="DataCloneError")throw oe;o.location.assign(Ce)}u&&p&&p({action:d,location:Y.location,delta:1})}function D(F,ne){d="REPLACE";let K=lp(Y.location,F,ne);g=_();let re=I0(K,g),Ce=Y.createHref(K);c.replaceState(re,"",Ce),u&&p&&p({action:d,location:Y.location,delta:0})}function j(F){return VR(F)}let Y={get action(){return d},get location(){return t(o,c)},listen(F){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(R0,T),p=F,()=>{o.removeEventListener(R0,T),p=null}},createHref(F){return e(o,F)},createURL:j,encodeLocation(F){let ne=j(F);return{pathname:ne.pathname,search:ne.search,hash:ne.hash}},push:b,replace:D,go(F){return c.go(F)}};return Y}function VR(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),at(n,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:gu(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function xT(t,e,n="/"){return kR(t,e,n,!1)}function kR(t,e,n,s){let o=typeof e=="string"?Lo(e):e,u=sr(o.pathname||"/",n);if(u==null)return null;let c=OT(t);LR(c);let d=null;for(let p=0;d==null&&p<c.length;++p){let g=$R(u);d=YR(c[p],g,s)}return d}function OT(t,e=[],n=[],s="",o=!1){let u=(c,d,p=o,g)=>{let _={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(_.relativePath.startsWith("/")){if(!_.relativePath.startsWith(s)&&p)return;at(_.relativePath.startsWith(s),`Absolute route path "${_.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_.relativePath=_.relativePath.slice(s.length)}let T=rr([s,_.relativePath]),b=n.concat(_);c.children&&c.children.length>0&&(at(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),OT(c.children,e,b,T,p)),!(c.path==null&&!c.index)&&e.push({path:T,score:HR(T,c.index),routesMeta:b})};return t.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))u(c,d);else for(let p of NT(c.path))u(c,d,!0,p)}),e}function NT(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let c=NT(s.join("/")),d=[];return d.push(...c.map(p=>p===""?u:[u,p].join("/"))),o&&d.push(...c),d.map(p=>t.startsWith("/")&&p===""?"/":p)}function LR(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:GR(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var UR=/^:[\w-]+$/,BR=3,zR=2,jR=1,FR=10,qR=-2,C0=t=>t==="*";function HR(t,e){let n=t.split("/"),s=n.length;return n.some(C0)&&(s+=qR),e&&(s+=zR),n.filter(o=>!C0(o)).reduce((o,u)=>o+(UR.test(u)?BR:u===""?jR:FR),s)}function GR(t,e){return t.length===e.length&&t.slice(0,-1).every((s,o)=>s===e[o])?t[t.length-1]-e[e.length-1]:0}function YR(t,e,n=!1){let{routesMeta:s}=t,o={},u="/",c=[];for(let d=0;d<s.length;++d){let p=s[d],g=d===s.length-1,_=u==="/"?e:e.slice(u.length)||"/",T=Ih({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},_),b=p.route;if(!T&&g&&n&&!s[s.length-1].route.index&&(T=Ih({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!T)return null;Object.assign(o,T.params),c.push({params:o,pathname:rr([u,T.pathname]),pathnameBase:ZR(rr([u,T.pathnameBase])),route:b}),T.pathnameBase!=="/"&&(u=rr([u,T.pathnameBase]))}return c}function Ih(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=KR(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let u=o[0],c=u.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:s.reduce((g,{paramName:_,isOptional:T},b)=>{if(_==="*"){let j=d[b]||"";c=u.slice(0,u.length-j.length).replace(/(.)\/+$/,"$1")}const D=d[b];return T&&!D?g[_]=void 0:g[_]=(D||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:c,pattern:t}}function KR(t,e=!1,n=!0){Gn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,p)=>(s.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function $R(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Gn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function sr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}var MT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,QR=t=>MT.test(t);function XR(t,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof t=="string"?Lo(t):t,u;if(n)if(QR(n))u=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),Gn(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${n}`)}n.startsWith("/")?u=D0(n.substring(1),"/"):u=D0(n,e)}else u=e;return{pathname:u,search:JR(s),hash:eI(o)}}function D0(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function jm(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function WR(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Hp(t){let e=WR(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Gp(t,e,n,s=!1){let o;typeof t=="string"?o=Lo(t):(o={...t},at(!o.pathname||!o.pathname.includes("?"),jm("?","pathname","search",o)),at(!o.pathname||!o.pathname.includes("#"),jm("#","pathname","hash",o)),at(!o.search||!o.search.includes("#"),jm("#","search","hash",o)));let u=t===""||o.pathname==="",c=u?"/":o.pathname,d;if(c==null)d=n;else{let T=e.length-1;if(!s&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),T-=1;o.pathname=b.join("/")}d=T>=0?e[T]:"/"}let p=XR(o,d),g=c&&c!=="/"&&c.endsWith("/"),_=(u||c===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||_)&&(p.pathname+="/"),p}var rr=t=>t.join("/").replace(/\/\/+/g,"/"),ZR=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),JR=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,eI=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,tI=class{constructor(t,e,n,s=!1){this.status=t,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function nI(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function iI(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var PT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function VT(t,e){let n=t;if(typeof n!="string"||!MT.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(PT)try{let u=new URL(window.location.href),c=n.startsWith("//")?new URL(u.protocol+n):new URL(n),d=sr(c.pathname,e);c.origin===u.origin&&d!=null?n=d+c.search+c.hash:o=!0}catch{Gn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var kT=["POST","PUT","PATCH","DELETE"];new Set(kT);var rI=["GET",...kT];new Set(rI);var Uo=B.createContext(null);Uo.displayName="DataRouter";var of=B.createContext(null);of.displayName="DataRouterState";var sI=B.createContext(!1),LT=B.createContext({isTransitioning:!1});LT.displayName="ViewTransition";var aI=B.createContext(new Map);aI.displayName="Fetchers";var oI=B.createContext(null);oI.displayName="Await";var xn=B.createContext(null);xn.displayName="Navigation";var xu=B.createContext(null);xu.displayName="Location";var Pi=B.createContext({outlet:null,matches:[],isDataRoute:!1});Pi.displayName="Route";var Yp=B.createContext(null);Yp.displayName="RouteError";var UT="REACT_ROUTER_ERROR",lI="REDIRECT",uI="ROUTE_ERROR_RESPONSE";function cI(t){if(t.startsWith(`${UT}:${lI}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function hI(t){if(t.startsWith(`${UT}:${uI}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new tI(e.status,e.statusText,e.data)}catch{}}function fI(t,{relative:e}={}){at(Bo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=B.useContext(xn),{hash:o,pathname:u,search:c}=Ou(t,{relative:e}),d=u;return n!=="/"&&(d=u==="/"?n:rr([n,u])),s.createHref({pathname:d,search:c,hash:o})}function Bo(){return B.useContext(xu)!=null}function fr(){return at(Bo(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(xu).location}var BT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function zT(t){B.useContext(xn).static||B.useLayoutEffect(t)}function Kp(){let{isDataRoute:t}=B.useContext(Pi);return t?wI():dI()}function dI(){at(Bo(),"useNavigate() may be used only in the context of a <Router> component.");let t=B.useContext(Uo),{basename:e,navigator:n}=B.useContext(xn),{matches:s}=B.useContext(Pi),{pathname:o}=fr(),u=JSON.stringify(Hp(s)),c=B.useRef(!1);return zT(()=>{c.current=!0}),B.useCallback((p,g={})=>{if(Gn(c.current,BT),!c.current)return;if(typeof p=="number"){n.go(p);return}let _=Gp(p,JSON.parse(u),o,g.relative==="path");t==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:rr([e,_.pathname])),(g.replace?n.replace:n.push)(_,g.state,g)},[e,n,u,o,t])}B.createContext(null);function Ou(t,{relative:e}={}){let{matches:n}=B.useContext(Pi),{pathname:s}=fr(),o=JSON.stringify(Hp(n));return B.useMemo(()=>Gp(t,JSON.parse(o),s,e==="path"),[t,o,s,e])}function mI(t,e){return jT(t,e)}function jT(t,e,n,s,o){at(Bo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=B.useContext(xn),{matches:c}=B.useContext(Pi),d=c[c.length-1],p=d?d.params:{},g=d?d.pathname:"/",_=d?d.pathnameBase:"/",T=d&&d.route;{let K=T&&T.path||"";qT(g,!T||K.endsWith("*")||K.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${K}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${K}"> to <Route path="${K==="/"?"*":`${K}/*`}">.`)}let b=fr(),D;if(e){let K=typeof e=="string"?Lo(e):e;at(_==="/"||K.pathname?.startsWith(_),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${K.pathname}" was given in the \`location\` prop.`),D=K}else D=b;let j=D.pathname||"/",Y=j;if(_!=="/"){let K=_.replace(/^\//,"").split("/");Y="/"+j.replace(/^\//,"").split("/").slice(K.length).join("/")}let F=xT(t,{pathname:Y});Gn(T||F!=null,`No routes matched location "${D.pathname}${D.search}${D.hash}" `),Gn(F==null||F[F.length-1].route.element!==void 0||F[F.length-1].route.Component!==void 0||F[F.length-1].route.lazy!==void 0,`Matched leaf route at location "${D.pathname}${D.search}${D.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ne=vI(F&&F.map(K=>Object.assign({},K,{params:Object.assign({},p,K.params),pathname:rr([_,u.encodeLocation?u.encodeLocation(K.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:K.pathname]),pathnameBase:K.pathnameBase==="/"?_:rr([_,u.encodeLocation?u.encodeLocation(K.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:K.pathnameBase])})),c,n,s,o);return e&&ne?B.createElement(xu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...D},navigationType:"POP"}},ne):ne}function pI(){let t=SI(),e=nI(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=B.createElement(B.Fragment,null,B.createElement("p",null," Hey developer "),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:u},"ErrorBoundary")," or"," ",B.createElement("code",{style:u},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),n?B.createElement("pre",{style:o},n):null,c)}var gI=B.createElement(pI,null),FT=class extends B.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=hI(t.digest);n&&(t=n)}let e=t!==void 0?B.createElement(Pi.Provider,{value:this.props.routeContext},B.createElement(Yp.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?B.createElement(yI,{error:t},e):e}};FT.contextType=sI;var Fm=new WeakMap;function yI({children:t,error:e}){let{basename:n}=B.useContext(xn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=cI(e.digest);if(s){let o=Fm.get(e);if(o)throw o;let u=VT(s.location,n);if(PT&&!Fm.get(e))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw Fm.set(e,c),c}return B.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return t}function _I({routeContext:t,match:e,children:n}){let s=B.useContext(Uo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),B.createElement(Pi.Provider,{value:t},n)}function vI(t,e=[],n=null,s=null,o=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let u=t,c=n?.errors;if(c!=null){let _=u.findIndex(T=>T.route.id&&c?.[T.route.id]!==void 0);at(_>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),u=u.slice(0,Math.min(u.length,_+1))}let d=!1,p=-1;if(n)for(let _=0;_<u.length;_++){let T=u[_];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(p=_),T.route.id){let{loaderData:b,errors:D}=n,j=T.route.loader&&!b.hasOwnProperty(T.route.id)&&(!D||D[T.route.id]===void 0);if(T.route.lazy||j){d=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let g=n&&s?(_,T)=>{s(_,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:iI(n.matches),errorInfo:T})}:void 0;return u.reduceRight((_,T,b)=>{let D,j=!1,Y=null,F=null;n&&(D=c&&T.route.id?c[T.route.id]:void 0,Y=T.route.errorElement||gI,d&&(p<0&&b===0?(qT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,F=null):p===b&&(j=!0,F=T.route.hydrateFallbackElement||null)));let ne=e.concat(u.slice(0,b+1)),K=()=>{let re;return D?re=Y:j?re=F:T.route.Component?re=B.createElement(T.route.Component,null):T.route.element?re=T.route.element:re=_,B.createElement(_I,{match:T,routeContext:{outlet:_,matches:ne,isDataRoute:n!=null},children:re})};return n&&(T.route.ErrorBoundary||T.route.errorElement||b===0)?B.createElement(FT,{location:n.location,revalidation:n.revalidation,component:Y,error:D,children:K(),routeContext:{outlet:null,matches:ne,isDataRoute:!0},onError:g}):K()},null)}function $p(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function EI(t){let e=B.useContext(Uo);return at(e,$p(t)),e}function TI(t){let e=B.useContext(of);return at(e,$p(t)),e}function AI(t){let e=B.useContext(Pi);return at(e,$p(t)),e}function Qp(t){let e=AI(t),n=e.matches[e.matches.length-1];return at(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function bI(){return Qp("useRouteId")}function SI(){let t=B.useContext(Yp),e=TI("useRouteError"),n=Qp("useRouteError");return t!==void 0?t:e.errors?.[n]}function wI(){let{router:t}=EI("useNavigate"),e=Qp("useNavigate"),n=B.useRef(!1);return zT(()=>{n.current=!0}),B.useCallback(async(o,u={})=>{Gn(n.current,BT),n.current&&(typeof o=="number"?await t.navigate(o):await t.navigate(o,{fromRouteId:e,...u}))},[t,e])}var x0={};function qT(t,e,n){!e&&!x0[t]&&(x0[t]=!0,Gn(!1,n))}B.memo(RI);function RI({routes:t,future:e,state:n,onError:s}){return jT(t,void 0,n,s,e)}function II({to:t,replace:e,state:n,relative:s}){at(Bo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=B.useContext(xn);Gn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=B.useContext(Pi),{pathname:c}=fr(),d=Kp(),p=Gp(t,Hp(u),c,s==="path"),g=JSON.stringify(p);return B.useEffect(()=>{d(JSON.parse(g),{replace:e,state:n,relative:s})},[d,g,s,e,n]),null}function up(t){at(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function CI({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:c}){at(!Bo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=t.replace(/^\/*/,"/"),p=B.useMemo(()=>({basename:d,navigator:o,static:u,unstable_useTransitions:c,future:{}}),[d,o,u,c]);typeof n=="string"&&(n=Lo(n));let{pathname:g="/",search:_="",hash:T="",state:b=null,key:D="default"}=n,j=B.useMemo(()=>{let Y=sr(g,d);return Y==null?null:{location:{pathname:Y,search:_,hash:T,state:b,key:D},navigationType:s}},[d,g,_,T,b,D,s]);return Gn(j!=null,`<Router basename="${d}"> is not able to match the URL "${g}${_}${T}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:B.createElement(xn.Provider,{value:p},B.createElement(xu.Provider,{children:e,value:j}))}function DI({children:t,location:e}){return mI(cp(t),e)}function cp(t,e=[]){let n=[];return B.Children.forEach(t,(s,o)=>{if(!B.isValidElement(s))return;let u=[...e,o];if(s.type===B.Fragment){n.push.apply(n,cp(s.props.children,u));return}at(s.type===up,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),at(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=cp(s.props.children,u)),n.push(c)}),n}var mh="get",ph="application/x-www-form-urlencoded";function lf(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function xI(t){return lf(t)&&t.tagName.toLowerCase()==="button"}function OI(t){return lf(t)&&t.tagName.toLowerCase()==="form"}function NI(t){return lf(t)&&t.tagName.toLowerCase()==="input"}function MI(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function PI(t,e){return t.button===0&&(!e||e==="_self")&&!MI(t)}var oh=null;function VI(){if(oh===null)try{new FormData(document.createElement("form"),0),oh=!1}catch{oh=!0}return oh}var kI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function qm(t){return t!=null&&!kI.has(t)?(Gn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ph}"`),null):t}function LI(t,e){let n,s,o,u,c;if(OI(t)){let d=t.getAttribute("action");s=d?sr(d,e):null,n=t.getAttribute("method")||mh,o=qm(t.getAttribute("enctype"))||ph,u=new FormData(t)}else if(xI(t)||NI(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=t.getAttribute("formaction")||d.getAttribute("action");if(s=p?sr(p,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||mh,o=qm(t.getAttribute("formenctype"))||qm(d.getAttribute("enctype"))||ph,u=new FormData(d,t),!VI()){let{name:g,type:_,value:T}=t;if(_==="image"){let b=g?`${g}.`:"";u.append(`${b}x`,"0"),u.append(`${b}y`,"0")}else g&&u.append(g,T)}}else{if(lf(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=mh,s=null,o=ph,c=t}return u&&o==="text/plain"&&(c=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Xp(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function UI(t,e,n,s){let o=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:e&&sr(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function BI(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function zI(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function jI(t,e,n){let s=await Promise.all(t.map(async o=>{let u=e.routes[o.route.id];if(u){let c=await BI(u,n);return c.links?c.links():[]}return[]}));return GI(s.flat(1).filter(zI).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function O0(t,e,n,s,o,u){let c=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,d=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,g)=>c(p,g)||d(p,g)):u==="data"?e.filter((p,g)=>{let _=s.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(c(p,g)||d(p,g))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function FI(t,e,{includeHydrateFallback:n}={}){return qI(t.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function qI(t){return[...new Set(t)]}function HI(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function GI(t,e){let n=new Set;return new Set(e),t.reduce((s,o)=>{let u=JSON.stringify(HI(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function HT(){let t=B.useContext(Uo);return Xp(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function YI(){let t=B.useContext(of);return Xp(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Wp=B.createContext(void 0);Wp.displayName="FrameworkContext";function GT(){let t=B.useContext(Wp);return Xp(t,"You must render this element inside a <HydratedRouter> element"),t}function KI(t,e){let n=B.useContext(Wp),[s,o]=B.useState(!1),[u,c]=B.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:g,onMouseLeave:_,onTouchStart:T}=e,b=B.useRef(null);B.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let Y=ne=>{ne.forEach(K=>{c(K.isIntersecting)})},F=new IntersectionObserver(Y,{threshold:.5});return b.current&&F.observe(b.current),()=>{F.disconnect()}}},[t]),B.useEffect(()=>{if(s){let Y=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(Y)}}},[s]);let D=()=>{o(!0)},j=()=>{o(!1),c(!1)};return n?t!=="intent"?[u,b,{}]:[u,b,{onFocus:iu(d,D),onBlur:iu(p,j),onMouseEnter:iu(g,D),onMouseLeave:iu(_,j),onTouchStart:iu(T,D)}]:[!1,b,{}]}function iu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function $I({page:t,...e}){let{router:n}=HT(),s=B.useMemo(()=>xT(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?B.createElement(XI,{page:t,matches:s,...e}):null}function QI(t){let{manifest:e,routeModules:n}=GT(),[s,o]=B.useState([]);return B.useEffect(()=>{let u=!1;return jI(t,e,n).then(c=>{u||o(c)}),()=>{u=!0}},[t,e,n]),s}function XI({page:t,matches:e,...n}){let s=fr(),{future:o,manifest:u,routeModules:c}=GT(),{basename:d}=HT(),{loaderData:p,matches:g}=YI(),_=B.useMemo(()=>O0(t,e,g,u,s,"data"),[t,e,g,u,s]),T=B.useMemo(()=>O0(t,e,g,u,s,"assets"),[t,e,g,u,s]),b=B.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let Y=new Set,F=!1;if(e.forEach(K=>{let re=u.routes[K.route.id];!re||!re.hasLoader||(!_.some(Ce=>Ce.route.id===K.route.id)&&K.route.id in p&&c[K.route.id]?.shouldRevalidate||re.hasClientLoader?F=!0:Y.add(K.route.id))}),Y.size===0)return[];let ne=UI(t,d,o.unstable_trailingSlashAwareDataRequests,"data");return F&&Y.size>0&&ne.searchParams.set("_routes",e.filter(K=>Y.has(K.route.id)).map(K=>K.route.id).join(",")),[ne.pathname+ne.search]},[d,o.unstable_trailingSlashAwareDataRequests,p,s,u,_,e,t,c]),D=B.useMemo(()=>FI(T,u),[T,u]),j=QI(T);return B.createElement(B.Fragment,null,b.map(Y=>B.createElement("link",{key:Y,rel:"prefetch",as:"fetch",href:Y,...n})),D.map(Y=>B.createElement("link",{key:Y,rel:"modulepreload",href:Y,...n})),j.map(({key:Y,link:F})=>B.createElement("link",{key:Y,nonce:n.nonce,...F})))}function WI(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var ZI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ZI&&(window.__reactRouterVersion="7.12.0")}catch{}function JI({basename:t,children:e,unstable_useTransitions:n,window:s}){let o=B.useRef();o.current==null&&(o.current=NR({window:s,v5Compat:!0}));let u=o.current,[c,d]=B.useState({action:u.action,location:u.location}),p=B.useCallback(g=>{n===!1?d(g):B.startTransition(()=>d(g))},[n]);return B.useLayoutEffect(()=>u.listen(p),[u,p]),B.createElement(CI,{basename:t,children:e,location:c.location,navigationType:c.action,navigator:u,unstable_useTransitions:n})}var YT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,KT=B.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:c,state:d,target:p,to:g,preventScrollReset:_,viewTransition:T,unstable_defaultShouldRevalidate:b,...D},j){let{basename:Y,unstable_useTransitions:F}=B.useContext(xn),ne=typeof g=="string"&&YT.test(g),K=VT(g,Y);g=K.to;let re=fI(g,{relative:o}),[Ce,oe,Re]=KI(s,D),x=iC(g,{replace:c,state:d,target:p,preventScrollReset:_,relative:o,viewTransition:T,unstable_defaultShouldRevalidate:b,unstable_useTransitions:F});function w(P){e&&e(P),P.defaultPrevented||x(P)}let I=B.createElement("a",{...D,...Re,href:K.absoluteURL||re,onClick:K.isExternal||u?e:w,ref:WI(j,oe),target:p,"data-discover":!ne&&n==="render"?"true":void 0});return Ce&&!ne?B.createElement(B.Fragment,null,I,B.createElement($I,{page:re})):I});KT.displayName="Link";var eC=B.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:c,viewTransition:d,children:p,...g},_){let T=Ou(c,{relative:g.relative}),b=fr(),D=B.useContext(of),{navigator:j,basename:Y}=B.useContext(xn),F=D!=null&&lC(T)&&d===!0,ne=j.encodeLocation?j.encodeLocation(T).pathname:T.pathname,K=b.pathname,re=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;n||(K=K.toLowerCase(),re=re?re.toLowerCase():null,ne=ne.toLowerCase()),re&&Y&&(re=sr(re,Y)||re);const Ce=ne!=="/"&&ne.endsWith("/")?ne.length-1:ne.length;let oe=K===ne||!o&&K.startsWith(ne)&&K.charAt(Ce)==="/",Re=re!=null&&(re===ne||!o&&re.startsWith(ne)&&re.charAt(ne.length)==="/"),x={isActive:oe,isPending:Re,isTransitioning:F},w=oe?e:void 0,I;typeof s=="function"?I=s(x):I=[s,oe?"active":null,Re?"pending":null,F?"transitioning":null].filter(Boolean).join(" ");let P=typeof u=="function"?u(x):u;return B.createElement(KT,{...g,"aria-current":w,className:I,ref:_,style:P,to:c,viewTransition:d},typeof p=="function"?p(x):p)});eC.displayName="NavLink";var tC=B.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:c=mh,action:d,onSubmit:p,relative:g,preventScrollReset:_,viewTransition:T,unstable_defaultShouldRevalidate:b,...D},j)=>{let{unstable_useTransitions:Y}=B.useContext(xn),F=aC(),ne=oC(d,{relative:g}),K=c.toLowerCase()==="get"?"get":"post",re=typeof d=="string"&&YT.test(d),Ce=oe=>{if(p&&p(oe),oe.defaultPrevented)return;oe.preventDefault();let Re=oe.nativeEvent.submitter,x=Re?.getAttribute("formmethod")||c,w=()=>F(Re||oe.currentTarget,{fetcherKey:e,method:x,navigate:n,replace:o,state:u,relative:g,preventScrollReset:_,viewTransition:T,unstable_defaultShouldRevalidate:b});Y&&n!==!1?B.startTransition(()=>w()):w()};return B.createElement("form",{ref:j,method:K,action:ne,onSubmit:s?p:Ce,...D,"data-discover":!re&&t==="render"?"true":void 0})});tC.displayName="Form";function nC(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $T(t){let e=B.useContext(Uo);return at(e,nC(t)),e}function iC(t,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:c,unstable_defaultShouldRevalidate:d,unstable_useTransitions:p}={}){let g=Kp(),_=fr(),T=Ou(t,{relative:u});return B.useCallback(b=>{if(PI(b,e)){b.preventDefault();let D=n!==void 0?n:gu(_)===gu(T),j=()=>g(t,{replace:D,state:s,preventScrollReset:o,relative:u,viewTransition:c,unstable_defaultShouldRevalidate:d});p?B.startTransition(()=>j()):j()}},[_,g,T,n,s,e,t,o,u,c,d,p])}var rC=0,sC=()=>`__${String(++rC)}__`;function aC(){let{router:t}=$T("useSubmit"),{basename:e}=B.useContext(xn),n=bI(),s=t.fetch,o=t.navigate;return B.useCallback(async(u,c={})=>{let{action:d,method:p,encType:g,formData:_,body:T}=LI(u,e);if(c.navigate===!1){let b=c.fetcherKey||sC();await s(b,n,c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:_,body:T,formMethod:c.method||p,formEncType:c.encType||g,flushSync:c.flushSync})}else await o(c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:_,body:T,formMethod:c.method||p,formEncType:c.encType||g,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[s,o,e,n])}function oC(t,{relative:e}={}){let{basename:n}=B.useContext(xn),s=B.useContext(Pi);at(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Ou(t||".",{relative:e})},c=fr();if(t==null){u.search=c.search;let d=new URLSearchParams(u.search),p=d.getAll("index");if(p.some(_=>_==="")){d.delete("index"),p.filter(T=>T).forEach(T=>d.append("index",T));let _=d.toString();u.search=_?`?${_}`:""}}return(!t||t===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:rr([n,u.pathname])),gu(u)}function lC(t,{relative:e}={}){let n=B.useContext(LT);at(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=$T("useViewTransitionState"),o=Ou(t,{relative:e});if(!n.isTransitioning)return!1;let u=sr(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=sr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Ih(o.pathname,c)!=null||Ih(o.pathname,u)!=null}var uC=DT();const cC=af(uC),hC=()=>{};var N0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let o=t.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},fC=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const o=t[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=t[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=t[n++],c=t[n++],d=t[n++],p=((o&7)<<18|(u&63)<<12|(c&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=t[n++],c=t[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|c&63)}}return e.join("")},XT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<t.length;o+=3){const u=t[o],c=o+1<t.length,d=c?t[o+1]:0,p=o+2<t.length,g=p?t[o+2]:0,_=u>>2,T=(u&3)<<4|d>>4;let b=(d&15)<<2|g>>6,D=g&63;p||(D=64,c||(b=64)),s.push(n[_],n[T],n[b],n[D])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(QT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):fC(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<t.length;){const u=n[t.charAt(o++)],d=o<t.length?n[t.charAt(o)]:0;++o;const g=o<t.length?n[t.charAt(o)]:64;++o;const T=o<t.length?n[t.charAt(o)]:64;if(++o,u==null||d==null||g==null||T==null)throw new dC;const b=u<<2|d>>4;if(s.push(b),g!==64){const D=d<<4&240|g>>2;if(s.push(D),T!==64){const j=g<<6&192|T;s.push(j)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class dC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const mC=function(t){const e=QT(t);return XT.encodeByteArray(e,!0)},Ch=function(t){return mC(t).replace(/\./g,"")},WT=function(t){try{return XT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC=()=>pC().__FIREBASE_DEFAULTS__,yC=()=>{if(typeof process>"u"||typeof N0>"u")return;const t=N0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},_C=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&WT(t[1]);return e&&JSON.parse(e)},uf=()=>{try{return hC()||gC()||yC()||_C()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},ZT=t=>uf()?.emulatorHosts?.[t],vC=t=>{const e=ZT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},JT=()=>uf()?.config,eA=t=>uf()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zo(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function tA(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=t.iat||0,u=t.sub||t.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Ch(JSON.stringify(n)),Ch(JSON.stringify(c)),""].join(".")}const cu={};function AC(){const t={prod:[],emulator:[]};for(const e of Object.keys(cu))cu[e]?t.emulator.push(e):t.prod.push(e);return t}function bC(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let M0=!1;function nA(t,e){if(typeof window>"u"||typeof document>"u"||!zo(window.location.host)||cu[t]===e||cu[t]||M0)return;cu[t]=e;function n(b){return`__firebase__banner__${b}`}const s="__firebase__banner",u=AC().prod.length>0;function c(){const b=document.getElementById(s);b&&b.remove()}function d(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function p(b,D){b.setAttribute("width","24"),b.setAttribute("id",D),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function g(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{M0=!0,c()},b}function _(b,D){b.setAttribute("id",D),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function T(){const b=bC(s),D=n("text"),j=document.getElementById(D)||document.createElement("span"),Y=n("learnmore"),F=document.getElementById(Y)||document.createElement("a"),ne=n("preprendIcon"),K=document.getElementById(ne)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const re=b.element;d(re),_(F,Y);const Ce=g();p(K,ne),re.append(K,j,F,Ce),document.body.appendChild(re)}u?(j.innerText="Preview backend disconnected.",K.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(K.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace."),j.setAttribute("id",D)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function SC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function wC(){const t=uf()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function RC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function iA(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function IC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function CC(){const t=rn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function DC(){return!wC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function rA(){try{return typeof indexedDB=="object"}catch{return!1}}function sA(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}function xC(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC="FirebaseError";class oi extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=OC,Object.setPrototypeOf(this,oi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ma.prototype.create)}}class ma{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],c=u?NC(u,s):"Error",d=`${this.serviceName}: ${c} (${o}).`;return new oi(o,d,s)}}function NC(t,e){return t.replace(MC,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const MC=/\{\$([^}]+)}/g;function PC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function us(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=t[o],c=e[o];if(P0(u)&&P0(c)){if(!us(u,c))return!1}else if(u!==c)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function P0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nu(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function VC(t,e){const n=new kC(t,e);return n.subscribe.bind(n)}class kC{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");LC(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Hm),o.error===void 0&&(o.error=Hm),o.complete===void 0&&(o.complete=Hm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function LC(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Hm(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC=1e3,BC=2,zC=14400*1e3,jC=.5;function V0(t,e=UC,n=BC){const s=e*Math.pow(n,t),o=Math.round(jC*s*(Math.random()-.5)*2);return Math.min(zC,s+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(t){return t&&t._delegate?t._delegate:t}class ai{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new EC;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(HC(e))try{this.getOrInitializeService({instanceIdentifier:ia})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=ia){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ia){return this.instances.has(e)}getOptions(e=ia){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);s===d&&c.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:qC(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ia){return this.component?this.component.multipleInstances?e:ia:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function qC(t){return t===ia?void 0:t}function HC(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new FC(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Pe||(Pe={}));const YC={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},KC=Pe.INFO,$C={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},QC=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),o=$C[e];if(o)console[o](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class cf{constructor(e){this.name=e,this._logLevel=KC,this._logHandler=QC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?YC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const XC=(t,e)=>e.some(n=>t instanceof n);let k0,L0;function WC(){return k0||(k0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ZC(){return L0||(L0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const aA=new WeakMap,hp=new WeakMap,oA=new WeakMap,Gm=new WeakMap,Zp=new WeakMap;function JC(t){const e=new Promise((n,s)=>{const o=()=>{t.removeEventListener("success",u),t.removeEventListener("error",c)},u=()=>{n(is(t.result)),o()},c=()=>{s(t.error),o()};t.addEventListener("success",u),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&aA.set(n,t)}).catch(()=>{}),Zp.set(e,t),e}function e2(t){if(hp.has(t))return;const e=new Promise((n,s)=>{const o=()=>{t.removeEventListener("complete",u),t.removeEventListener("error",c),t.removeEventListener("abort",c)},u=()=>{n(),o()},c=()=>{s(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",u),t.addEventListener("error",c),t.addEventListener("abort",c)});hp.set(t,e)}let fp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return hp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||oA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return is(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function t2(t){fp=t(fp)}function n2(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Ym(this),e,...n);return oA.set(s,e.sort?e.sort():[e]),is(s)}:ZC().includes(t)?function(...e){return t.apply(Ym(this),e),is(aA.get(this))}:function(...e){return is(t.apply(Ym(this),e))}}function i2(t){return typeof t=="function"?n2(t):(t instanceof IDBTransaction&&e2(t),XC(t,WC())?new Proxy(t,fp):t)}function is(t){if(t instanceof IDBRequest)return JC(t);if(Gm.has(t))return Gm.get(t);const e=i2(t);return e!==t&&(Gm.set(t,e),Zp.set(e,t)),e}const Ym=t=>Zp.get(t);function lA(t,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const c=indexedDB.open(t,e),d=is(c);return s&&c.addEventListener("upgradeneeded",p=>{s(is(c.result),p.oldVersion,p.newVersion,is(c.transaction),p)}),n&&c.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),d.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const r2=["get","getKey","getAll","getAllKeys","count"],s2=["put","add","delete","clear"],Km=new Map;function U0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Km.get(e))return Km.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=s2.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||r2.includes(n)))return;const u=async function(c,...d){const p=this.transaction(c,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(d.shift())),(await Promise.all([g[n](...d),o&&p.done]))[0]};return Km.set(e,u),u}t2(t=>({...t,get:(e,n,s)=>U0(e,n)||t.get(e,n,s),has:(e,n)=>!!U0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(o2(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function o2(t){return t.getComponent()?.type==="VERSION"}const dp="@firebase/app",B0="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ar=new cf("@firebase/app"),l2="@firebase/app-compat",u2="@firebase/analytics-compat",c2="@firebase/analytics",h2="@firebase/app-check-compat",f2="@firebase/app-check",d2="@firebase/auth",m2="@firebase/auth-compat",p2="@firebase/database",g2="@firebase/data-connect",y2="@firebase/database-compat",_2="@firebase/functions",v2="@firebase/functions-compat",E2="@firebase/installations",T2="@firebase/installations-compat",A2="@firebase/messaging",b2="@firebase/messaging-compat",S2="@firebase/performance",w2="@firebase/performance-compat",R2="@firebase/remote-config",I2="@firebase/remote-config-compat",C2="@firebase/storage",D2="@firebase/storage-compat",x2="@firebase/firestore",O2="@firebase/ai",N2="@firebase/firestore-compat",M2="firebase",P2="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mp="[DEFAULT]",V2={[dp]:"fire-core",[l2]:"fire-core-compat",[c2]:"fire-analytics",[u2]:"fire-analytics-compat",[f2]:"fire-app-check",[h2]:"fire-app-check-compat",[d2]:"fire-auth",[m2]:"fire-auth-compat",[p2]:"fire-rtdb",[g2]:"fire-data-connect",[y2]:"fire-rtdb-compat",[_2]:"fire-fn",[v2]:"fire-fn-compat",[E2]:"fire-iid",[T2]:"fire-iid-compat",[A2]:"fire-fcm",[b2]:"fire-fcm-compat",[S2]:"fire-perf",[w2]:"fire-perf-compat",[R2]:"fire-rc",[I2]:"fire-rc-compat",[C2]:"fire-gcs",[D2]:"fire-gcs-compat",[x2]:"fire-fst",[N2]:"fire-fst-compat",[O2]:"fire-vertex","fire-js":"fire-js",[M2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dh=new Map,k2=new Map,pp=new Map;function z0(t,e){try{t.container.addComponent(e)}catch(n){ar.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Oi(t){const e=t.name;if(pp.has(e))return ar.debug(`There were multiple attempts to register component ${e}.`),!1;pp.set(e,t);for(const n of Dh.values())z0(n,t);for(const n of k2.values())z0(n,t);return!0}function pa(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ii(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},rs=new ma("app","Firebase",L2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ai("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw rs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jo=P2;function uA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:mp,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw rs.create("bad-app-name",{appName:String(o)});if(n||(n=JT()),!n)throw rs.create("no-options");const u=Dh.get(o);if(u){if(us(n,u.options)&&us(s,u.config))return u;throw rs.create("duplicate-app",{appName:o})}const c=new GC(o);for(const p of pp.values())c.addComponent(p);const d=new U2(n,s,c);return Dh.set(o,d),d}function Jp(t=mp){const e=Dh.get(t);if(!e&&t===mp&&JT())return uA();if(!e)throw rs.create("no-app",{appName:t});return e}function Hn(t,e,n){let s=V2[t]??t;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const c=[`Unable to register library "${s}" with version "${e}":`];o&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&c.push("and"),u&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ar.warn(c.join(" "));return}Oi(new ai(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2="firebase-heartbeat-database",z2=1,yu="firebase-heartbeat-store";let $m=null;function cA(){return $m||($m=lA(B2,z2,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(yu)}catch(n){console.warn(n)}}}}).catch(t=>{throw rs.create("idb-open",{originalErrorMessage:t.message})})),$m}async function j2(t){try{const n=(await cA()).transaction(yu),s=await n.objectStore(yu).get(hA(t));return await n.done,s}catch(e){if(e instanceof oi)ar.warn(e.message);else{const n=rs.create("idb-get",{originalErrorMessage:e?.message});ar.warn(n.message)}}}async function j0(t,e){try{const s=(await cA()).transaction(yu,"readwrite");await s.objectStore(yu).put(e,hA(t)),await s.done}catch(n){if(n instanceof oi)ar.warn(n.message);else{const s=rs.create("idb-set",{originalErrorMessage:n?.message});ar.warn(s.message)}}}function hA(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2=1024,q2=30;class H2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Y2(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=F0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>q2){const o=K2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ar.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=F0(),{heartbeatsToSend:n,unsentEntries:s}=G2(this._heartbeatsCache.heartbeats),o=Ch(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return ar.warn(e),""}}}function F0(){return new Date().toISOString().substring(0,10)}function G2(t,e=F2){const n=[];let s=t.slice();for(const o of t){const u=n.find(c=>c.agent===o.agent);if(u){if(u.dates.push(o.date),q0(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),q0(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Y2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return rA()?sA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await j2(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return j0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return j0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function q0(t){return Ch(JSON.stringify({version:2,heartbeats:t})).length}function K2(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $2(t){Oi(new ai("platform-logger",e=>new a2(e),"PRIVATE")),Oi(new ai("heartbeat",e=>new H2(e),"PRIVATE")),Hn(dp,B0,t),Hn(dp,B0,"esm2020"),Hn("fire-js","")}$2("");function fA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Q2=fA,dA=new ma("auth","Firebase",fA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xh=new cf("@firebase/auth");function X2(t,...e){xh.logLevel<=Pe.WARN&&xh.warn(`Auth (${jo}): ${t}`,...e)}function gh(t,...e){xh.logLevel<=Pe.ERROR&&xh.error(`Auth (${jo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function or(t,...e){throw eg(t,...e)}function bi(t,...e){return eg(t,...e)}function mA(t,e,n){const s={...Q2(),[e]:n};return new ma("auth","Firebase",s).create(e,{appName:t.name})}function ss(t){return mA(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function eg(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return dA.create(t,...e)}function Ae(t,e,...n){if(!t)throw eg(e,...n)}function nr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw gh(e),new Error(e)}function lr(t,e){t||nr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gp(){return typeof self<"u"&&self.location?.href||""}function W2(){return H0()==="http:"||H0()==="https:"}function H0(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(W2()||iA()||"connection"in navigator)?navigator.onLine:!0}function J2(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e,n){this.shortDelay=e,this.longDelay=n,lr(n>e,"Short delay should be less than long delay!"),this.isMobile=SC()||IC()}get(){return Z2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tg(t,e){lr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;nr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;nr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;nr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],nD=new Mu(3e4,6e4);function hf(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ga(t,e,n,s,o={}){return gA(t,o,async()=>{let u={},c={};s&&(e==="GET"?c=s:u={body:JSON.stringify(s)});const d=Nu({key:t.config.apiKey,...c}).slice(1),p=await t._getAdditionalHeaders();p["Content-Type"]="application/json",t.languageCode&&(p["X-Firebase-Locale"]=t.languageCode);const g={method:e,headers:p,...u};return RC()||(g.referrerPolicy="no-referrer"),t.emulatorConfig&&zo(t.emulatorConfig.host)&&(g.credentials="include"),pA.fetch()(await _A(t,t.config.apiHost,n,d),g)})}async function gA(t,e,n){t._canInitEmulator=!1;const s={...eD,...e};try{const o=new iD(t),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const c=await u.json();if("needConfirmation"in c)throw lh(t,"account-exists-with-different-credential",c);if(u.ok&&!("errorMessage"in c))return c;{const d=u.ok?c.errorMessage:c.error.message,[p,g]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw lh(t,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw lh(t,"email-already-in-use",c);if(p==="USER_DISABLED")throw lh(t,"user-disabled",c);const _=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw mA(t,_,g);or(t,_)}}catch(o){if(o instanceof oi)throw o;or(t,"network-request-failed",{message:String(o)})}}async function yA(t,e,n,s,o={}){const u=await ga(t,e,n,s,o);return"mfaPendingCredential"in u&&or(t,"multi-factor-auth-required",{_serverResponse:u}),u}async function _A(t,e,n,s){const o=`${e}${n}?${s}`,u=t,c=u.config.emulator?tg(t.config,o):`${t.config.apiScheme}://${o}`;return tD.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(c).toString():c}class iD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(bi(this.auth,"network-request-failed")),nD.get())})}}function lh(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=bi(t,e,s);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rD(t,e){return ga(t,"POST","/v1/accounts:delete",e)}async function Oh(t,e){return ga(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function sD(t,e=!1){const n=Pt(t),s=await n.getIdToken(e),o=ng(s);Ae(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,c=u?.sign_in_provider;return{claims:o,token:s,authTime:hu(Qm(o.auth_time)),issuedAtTime:hu(Qm(o.iat)),expirationTime:hu(Qm(o.exp)),signInProvider:c||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Qm(t){return Number(t)*1e3}function ng(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return gh("JWT malformed, contained fewer than 3 sections"),null;try{const o=WT(n);return o?JSON.parse(o):(gh("Failed to decode base64 JWT payload"),null)}catch(o){return gh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function G0(t){const e=ng(t);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Io(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof oi&&aD(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function aD({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=hu(this.lastLoginAt),this.creationTime=hu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nh(t){const e=t.auth,n=await t.getIdToken(),s=await Io(t,Oh(e,{idToken:n}));Ae(s?.users.length,e,"internal-error");const o=s.users[0];t._notifyReloadListener(o);const u=o.providerUserInfo?.length?vA(o.providerUserInfo):[],c=uD(t.providerData,u),d=t.isAnonymous,p=!(t.email&&o.passwordHash)&&!c?.length,g=d?p:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new yp(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(t,_)}async function lD(t){const e=Pt(t);await Nh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function uD(t,e){return[...t.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function vA(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cD(t,e){const n=await gA(t,{},async()=>{const s=Nu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=t.config,c=await _A(t,o,"/v1/token",`key=${u}`),d=await t._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:d,body:s};return t.emulatorConfig&&zo(t.emulatorConfig.host)&&(p.credentials="include"),pA.fetch()(c,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function hD(t,e){return ga(t,"POST","/v2/accounts:revokeToken",hf(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):G0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const n=G0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await cD(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,c=new Eo;return s&&(Ae(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),o&&(Ae(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),u&&(Ae(typeof u=="number","internal-error",{appName:e}),c.expirationTime=u),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Eo,this.toJSON())}_performRefresh(){return nr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xr(t,e){Ae(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ri{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new oD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new yp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Io(this,this.stsTokenManager.getToken(this.auth,e));return Ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return sD(this,e)}reload(){return lD(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ri({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Nh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ii(this.auth.app))return Promise.reject(ss(this.auth));const e=await this.getIdToken();return await Io(this,rD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,c=n.photoURL??void 0,d=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,_=n.lastLoginAt??void 0,{uid:T,emailVerified:b,isAnonymous:D,providerData:j,stsTokenManager:Y}=n;Ae(T&&Y,e,"internal-error");const F=Eo.fromJSON(this.name,Y);Ae(typeof T=="string",e,"internal-error"),Xr(s,e.name),Xr(o,e.name),Ae(typeof b=="boolean",e,"internal-error"),Ae(typeof D=="boolean",e,"internal-error"),Xr(u,e.name),Xr(c,e.name),Xr(d,e.name),Xr(p,e.name),Xr(g,e.name),Xr(_,e.name);const ne=new ri({uid:T,auth:e,email:o,emailVerified:b,displayName:s,isAnonymous:D,photoURL:c,phoneNumber:u,tenantId:d,stsTokenManager:F,createdAt:g,lastLoginAt:_});return j&&Array.isArray(j)&&(ne.providerData=j.map(K=>({...K}))),p&&(ne._redirectEventId=p),ne}static async _fromIdTokenResponse(e,n,s=!1){const o=new Eo;o.updateFromServerResponse(n);const u=new ri({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Nh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Ae(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?vA(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!u?.length,d=new Eo;d.updateFromIdToken(s);const p=new ri({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:c}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new yp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0=new Map;function ir(t){lr(t instanceof Function,"Expected a class definition");let e=Y0.get(t);return e?(lr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Y0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}EA.type="NONE";const K0=EA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yh(t,e,n){return`firebase:${t}:${e}:${n}`}class To{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=yh(this.userKey,o.apiKey,u),this.fullPersistenceKey=yh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Oh(this.auth,{idToken:e}).catch(()=>{});return n?ri._fromGetAccountInfoResponse(this.auth,n,e):null}return ri._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new To(ir(K0),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||ir(K0);const c=yh(s,e.config.apiKey,e.name);let d=null;for(const g of n)try{const _=await g._get(c);if(_){let T;if(typeof _=="string"){const b=await Oh(e,{idToken:_}).catch(()=>{});if(!b)break;T=await ri._fromGetAccountInfoResponse(e,b,_)}else T=ri._fromJSON(e,_);g!==u&&(d=T),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new To(u,e,s):(u=p[0],d&&await u._set(c,d.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(c)}catch{}})),new To(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(SA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(TA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(RA(e))return"Blackberry";if(IA(e))return"Webos";if(AA(e))return"Safari";if((e.includes("chrome/")||bA(e))&&!e.includes("edge/"))return"Chrome";if(wA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if(s?.length===2)return s[1]}return"Other"}function TA(t=rn()){return/firefox\//i.test(t)}function AA(t=rn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function bA(t=rn()){return/crios\//i.test(t)}function SA(t=rn()){return/iemobile/i.test(t)}function wA(t=rn()){return/android/i.test(t)}function RA(t=rn()){return/blackberry/i.test(t)}function IA(t=rn()){return/webos/i.test(t)}function ig(t=rn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function fD(t=rn()){return ig(t)&&!!window.navigator?.standalone}function dD(){return CC()&&document.documentMode===10}function CA(t=rn()){return ig(t)||wA(t)||IA(t)||RA(t)||/windows phone/i.test(t)||SA(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DA(t,e=[]){let n;switch(t){case"Browser":n=$0(rn());break;case"Worker":n=`${$0(rn())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${jo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((c,d)=>{try{const p=e(u);c(p)}catch(p){d(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pD(t,e={}){return ga(t,"GET","/v2/passwordPolicy",hf(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gD=6;class yD{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??gD,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Q0(this),this.idTokenSubscription=new Q0(this),this.beforeStateQueue=new mD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=dA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ir(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await To.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Oh(this,{idToken:e}),s=await ri._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ii(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,c=s?._redirectEventId,d=await this.tryRedirectSignIn(e);(!u||u===c)&&d?.user&&(s=d.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Nh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=J2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ii(this.app))return Promise.reject(ss(this));const n=e?Pt(e):null;return n&&Ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ii(this.app)?Promise.reject(ss(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ii(this.app)?Promise.reject(ss(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ir(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await pD(this),n=new yD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ma("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await hD(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ir(e)||this._popupRedirectResolver;Ae(n,this,"argument-error"),this.redirectPersistenceManager=await To.create(this,[ir(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(d,this,"internal-error"),d.then(()=>{c||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{c=!0,p()}}else{const p=e.addObserver(n);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=DA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(ii(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&X2(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ff(t){return Pt(t)}class Q0{constructor(e){this.auth=e,this.observer=null,this.addObserver=VC(n=>this.observer=n)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function vD(t){rg=t}function ED(t){return rg.loadJS(t)}function TD(){return rg.gapiScript}function AD(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bD(t,e){const n=pa(t,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(us(u,e??{}))return o;or(o,"already-initialized")}return n.initialize({options:e})}function SD(t,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(ir);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e?.popupRedirectResolver)}function wD(t,e,n){const s=ff(t);Ae(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=xA(e),{host:c,port:d}=RD(e),p=d===null?"":`:${d}`,g={url:`${u}//${c}${p}/`},_=Object.freeze({host:c,port:d,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ae(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ae(us(g,s.config.emulator)&&us(_,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=_,s.settings.appVerificationDisabledForTesting=!0,zo(c)?(tA(`${u}//${c}${p}`),nA("Auth",!0)):ID()}function xA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function RD(t){const e=xA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:X0(s.substr(u.length+1))}}else{const[u,c]=s.split(":");return{host:u,port:X0(c)}}}function X0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function ID(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return nr("not implemented")}_getIdTokenResponse(e){return nr("not implemented")}_linkToIdToken(e,n){return nr("not implemented")}_getReauthenticationResolver(e){return nr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ao(t,e){return yA(t,"POST","/v1/accounts:signInWithIdp",hf(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CD="http://localhost";class la extends OA{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new la(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):or("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const c=new la(s,o);return c.idToken=u.idToken||void 0,c.accessToken=u.accessToken||void 0,c.secret=u.secret,c.nonce=u.nonce,c.pendingToken=u.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return Ao(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Ao(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ao(e,n)}buildRequest(){const e={requestUri:CD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Nu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu extends NA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr extends Pu{constructor(){super("facebook.com")}static credential(e){return la._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wr.credentialFromTaggedObject(e)}static credentialFromError(e){return Wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wr.credential(e.oauthAccessToken)}catch{return null}}}Wr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Wr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr extends Pu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return la._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Zr.credentialFromTaggedObject(e)}static credentialFromError(e){return Zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Zr.credential(n,s)}catch{return null}}}Zr.GOOGLE_SIGN_IN_METHOD="google.com";Zr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr extends Pu{constructor(){super("github.com")}static credential(e){return la._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Jr.credentialFromTaggedObject(e)}static credentialFromError(e){return Jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Jr.credential(e.oauthAccessToken)}catch{return null}}}Jr.GITHUB_SIGN_IN_METHOD="github.com";Jr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es extends Pu{constructor(){super("twitter.com")}static credential(e,n){return la._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return es.credential(n,s)}catch{return null}}}es.TWITTER_SIGN_IN_METHOD="twitter.com";es.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DD(t,e){return yA(t,"POST","/v1/accounts:signUp",hf(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await ri._fromIdTokenResponse(e,s,o),c=W0(s);return new cs({user:u,providerId:c,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=W0(s);return new cs({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function W0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xD(t){if(ii(t.app))return Promise.reject(ss(t));const e=ff(t);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new cs({user:e.currentUser,providerId:null,operationType:"signIn"});const n=await DD(e,{returnSecureToken:!0}),s=await cs._fromIdTokenResponse(e,"signIn",n,!0);return await e._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh extends oi{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Mh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Mh(e,n,s,o)}}function MA(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Mh._fromErrorAndOperation(t,u,e,s):u})}async function OD(t,e,n=!1){const s=await Io(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return cs._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ND(t,e,n=!1){const{auth:s}=t;if(ii(s.app))return Promise.reject(ss(s));const o="reauthenticate";try{const u=await Io(t,MA(s,o,e,t),n);Ae(u.idToken,s,"internal-error");const c=ng(u.idToken);Ae(c,s,"internal-error");const{sub:d}=c;return Ae(t.uid===d,s,"user-mismatch"),cs._forOperation(t,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&or(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MD(t,e,n=!1){if(ii(t.app))return Promise.reject(ss(t));const s="signIn",o=await MA(t,s,e),u=await cs._fromIdTokenResponse(t,s,o);return n||await t._updateCurrentUser(u.user),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PD(t,e){return ga(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VD(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=Pt(t),u={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},c=await Io(s,PD(s.auth,u));s.displayName=c.displayName||null,s.photoURL=c.photoUrl||null;const d=s.providerData.find(({providerId:p})=>p==="password");d&&(d.displayName=s.displayName,d.photoURL=s.photoURL),await s._updateTokensIfNecessary(c)}function kD(t,e,n,s){return Pt(t).onIdTokenChanged(e,n,s)}function LD(t,e,n){return Pt(t).beforeAuthStateChanged(e,n)}function PA(t,e,n,s){return Pt(t).onAuthStateChanged(e,n,s)}const Ph="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ph,"1"),this.storage.removeItem(Ph),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UD=1e3,BD=10;class kA extends VA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=CA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,d,p)=>{this.notifyListeners(c,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(s);!n&&this.localCache[s]===c||this.notifyListeners(s,c)},u=this.storage.getItem(s);dD()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,BD):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},UD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}kA.type="LOCAL";const zD=kA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA extends VA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}LA.type="SESSION";const UA=LA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jD(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new df(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,c=this.handlersMap[o];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const d=Array.from(c).map(async g=>g(n.origin,u)),p=await jD(d);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}df.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sg(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,c;return new Promise((d,p)=>{const g=sg("",20);o.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},s);c={messageChannel:o,onMessage(T){const b=T;if(b.data.eventId===g)switch(b.data.status){case"ack":clearTimeout(_),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),d(b.data.response);break;default:clearTimeout(_),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Si(){return window}function qD(t){Si().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BA(){return typeof Si().WorkerGlobalScope<"u"&&typeof Si().importScripts=="function"}async function HD(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function GD(){return navigator?.serviceWorker?.controller||null}function YD(){return BA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zA="firebaseLocalStorageDb",KD=1,Vh="firebaseLocalStorage",jA="fbase_key";class Vu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function mf(t,e){return t.transaction([Vh],e?"readwrite":"readonly").objectStore(Vh)}function $D(){const t=indexedDB.deleteDatabase(zA);return new Vu(t).toPromise()}function _p(){const t=indexedDB.open(zA,KD);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(Vh,{keyPath:jA})}catch(o){n(o)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(Vh)?e(s):(s.close(),await $D(),e(await _p()))})})}async function Z0(t,e,n){const s=mf(t,!0).put({[jA]:e,value:n});return new Vu(s).toPromise()}async function QD(t,e){const n=mf(t,!1).get(e),s=await new Vu(n).toPromise();return s===void 0?null:s.value}function J0(t,e){const n=mf(t,!0).delete(e);return new Vu(n).toPromise()}const XD=800,WD=3;class FA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _p(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>WD)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return BA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=df._getInstance(YD()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await HD(),!this.activeServiceWorker)return;this.sender=new FD(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||GD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _p();return await Z0(e,Ph,"1"),await J0(e,Ph),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Z0(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>QD(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>J0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=mf(o,!1).getAll();return new Vu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),XD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}FA.type="LOCAL";const ZD=FA;new Mu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JD(t,e){return e?ir(e):(Ae(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag extends OA{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ao(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ao(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ao(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function ex(t){return MD(t.auth,new ag(t),t.bypassAuthState)}function tx(t){const{auth:e,user:n}=t;return Ae(n,e,"internal-error"),ND(n,new ag(t),t.bypassAuthState)}async function nx(t){const{auth:e,user:n}=t;return Ae(n,e,"internal-error"),OD(n,new ag(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:c,type:d}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ex;case"linkViaPopup":case"linkViaRedirect":return nx;case"reauthViaPopup":case"reauthViaRedirect":return tx;default:or(this.auth,"internal-error")}}resolve(e){lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ix=new Mu(2e3,1e4);class yo extends qA{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,yo.currentPopupAction&&yo.currentPopupAction.cancel(),yo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){lr(this.filter.length===1,"Popup operations only handle one event");const e=sg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(bi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(bi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,yo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(bi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ix.get())};e()}}yo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rx="pendingRedirect",_h=new Map;class sx extends qA{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=_h.get(this.auth._key());if(!e){try{const s=await ax(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}_h.set(this.auth._key(),e)}return this.bypassAuthState||_h.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ax(t,e){const n=ux(e),s=lx(t);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function ox(t,e){_h.set(t._key(),e)}function lx(t){return ir(t._redirectPersistence)}function ux(t){return yh(rx,t.config.apiKey,t.name)}async function cx(t,e,n=!1){if(ii(t.app))return Promise.reject(ss(t));const s=ff(t),o=JD(s,e),c=await new sx(s,o,n).execute();return c&&!n&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hx=600*1e3;class fx{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!dx(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!HA(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(bi(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=hx&&this.cachedEventUids.clear(),this.cachedEventUids.has(eE(e))}saveEventToCache(e){this.cachedEventUids.add(eE(e)),this.lastProcessedEventTime=Date.now()}}function eE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function HA({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function dx(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return HA(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mx(t,e={}){return ga(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gx=/^https?/;async function yx(t){if(t.config.emulator)return;const{authorizedDomains:e}=await mx(t);for(const n of e)try{if(_x(n))return}catch{}or(t,"unauthorized-domain")}function _x(t){const e=gp(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===s}if(!gx.test(n))return!1;if(px.test(t))return s===t;const o=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vx=new Mu(3e4,6e4);function tE(){const t=Si().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Ex(t){return new Promise((e,n)=>{function s(){tE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{tE(),n(bi(t,"network-request-failed"))},timeout:vx.get()})}if(Si().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Si().gapi?.load)s();else{const o=AD("iframefcb");return Si()[o]=()=>{gapi.load?s():n(bi(t,"network-request-failed"))},ED(`${TD()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw vh=null,e})}let vh=null;function Tx(t){return vh=vh||Ex(t),vh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ax=new Mu(5e3,15e3),bx="__/auth/iframe",Sx="emulator/auth/iframe",wx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Rx=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ix(t){const e=t.config;Ae(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?tg(e,Sx):`https://${t.config.authDomain}/${bx}`,s={apiKey:e.apiKey,appName:t.name,v:jo},o=Rx.get(t.config.apiHost);o&&(s.eid=o);const u=t._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Nu(s).slice(1)}`}async function Cx(t){const e=await Tx(t),n=Si().gapi;return Ae(n,t,"internal-error"),e.open({where:document.body,url:Ix(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wx,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const c=bi(t,"network-request-failed"),d=Si().setTimeout(()=>{u(c)},Ax.get());function p(){Si().clearTimeout(d),o(s)}s.ping(p).then(p,()=>{u(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},xx=500,Ox=600,Nx="_blank",Mx="http://localhost";class nE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Px(t,e,n,s=xx,o=Ox){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const p={...Dx,width:s.toString(),height:o.toString(),top:u,left:c},g=rn().toLowerCase();n&&(d=bA(g)?Nx:n),TA(g)&&(e=e||Mx,p.scrollbars="yes");const _=Object.entries(p).reduce((b,[D,j])=>`${b}${D}=${j},`,"");if(fD(g)&&d!=="_self")return Vx(e||"",d),new nE(null);const T=window.open(e||"",d,_);Ae(T,t,"popup-blocked");try{T.focus()}catch{}return new nE(T)}function Vx(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kx="__/auth/handler",Lx="emulator/auth/handler",Ux=encodeURIComponent("fac");async function iE(t,e,n,s,o,u){Ae(t.config.authDomain,t,"auth-domain-config-required"),Ae(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:jo,eventId:o};if(e instanceof NA){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",PC(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,T]of Object.entries({}))c[_]=T}if(e instanceof Pu){const _=e.getScopes().filter(T=>T!=="");_.length>0&&(c.scopes=_.join(","))}t.tenantId&&(c.tid=t.tenantId);const d=c;for(const _ of Object.keys(d))d[_]===void 0&&delete d[_];const p=await t._getAppCheckToken(),g=p?`#${Ux}=${encodeURIComponent(p)}`:"";return`${Bx(t)}?${Nu(d).slice(1)}${g}`}function Bx({config:t}){return t.emulator?tg(t,Lx):`https://${t.authDomain}/${kx}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xm="webStorageSupport";class zx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=UA,this._completeRedirectFn=cx,this._overrideRedirectResult=ox}async _openPopup(e,n,s,o){lr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await iE(e,n,s,gp(),o);return Px(e,u,sg())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await iE(e,n,s,gp(),o);return qD(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(lr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await Cx(e),s=new fx(e);return n.register("authEvent",o=>(Ae(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Xm,{type:Xm},o=>{const u=o?.[0]?.[Xm];u!==void 0&&n(!!u),or(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=yx(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return CA()||AA()||ig()}}const jx=zx;var rE="@firebase/auth",sE="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qx(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Hx(t){Oi(new ai("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=s.options;Ae(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:c,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:DA(t)},g=new _D(s,o,u,p);return SD(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Oi(new ai("auth-internal",e=>{const n=ff(e.getProvider("auth").getImmediate());return(s=>new Fx(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Hn(rE,sE,qx(t)),Hn(rE,sE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gx=300,Yx=eA("authIdTokenMaxAge")||Gx;let aE=null;const Kx=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>Yx)return;const o=n?.token;aE!==o&&(aE=o,await fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function $x(t=Jp()){const e=pa(t,"auth");if(e.isInitialized())return e.getImmediate();const n=bD(t,{popupRedirectResolver:jx,persistence:[ZD,zD,UA]}),s=eA("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const c=Kx(u.toString());LD(n,c,()=>c(n.currentUser)),kD(n,d=>c(d))}}const o=ZT("auth");return o&&wD(n,`http://${o}`),n}function Qx(){return document.getElementsByTagName("head")?.[0]??document}vD({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=o=>{const u=bi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",Qx().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Hx("Browser");var oE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var as,GA;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,w){function I(){}I.prototype=w.prototype,x.F=w.prototype,x.prototype=new I,x.prototype.constructor=x,x.D=function(P,M,k){for(var C=Array(arguments.length-2),ht=2;ht<arguments.length;ht++)C[ht-2]=arguments[ht];return w.prototype[M].apply(P,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,w,I){I||(I=0);const P=Array(16);if(typeof w=="string")for(var M=0;M<16;++M)P[M]=w.charCodeAt(I++)|w.charCodeAt(I++)<<8|w.charCodeAt(I++)<<16|w.charCodeAt(I++)<<24;else for(M=0;M<16;++M)P[M]=w[I++]|w[I++]<<8|w[I++]<<16|w[I++]<<24;w=x.g[0],I=x.g[1],M=x.g[2];let k=x.g[3],C;C=w+(k^I&(M^k))+P[0]+3614090360&4294967295,w=I+(C<<7&4294967295|C>>>25),C=k+(M^w&(I^M))+P[1]+3905402710&4294967295,k=w+(C<<12&4294967295|C>>>20),C=M+(I^k&(w^I))+P[2]+606105819&4294967295,M=k+(C<<17&4294967295|C>>>15),C=I+(w^M&(k^w))+P[3]+3250441966&4294967295,I=M+(C<<22&4294967295|C>>>10),C=w+(k^I&(M^k))+P[4]+4118548399&4294967295,w=I+(C<<7&4294967295|C>>>25),C=k+(M^w&(I^M))+P[5]+1200080426&4294967295,k=w+(C<<12&4294967295|C>>>20),C=M+(I^k&(w^I))+P[6]+2821735955&4294967295,M=k+(C<<17&4294967295|C>>>15),C=I+(w^M&(k^w))+P[7]+4249261313&4294967295,I=M+(C<<22&4294967295|C>>>10),C=w+(k^I&(M^k))+P[8]+1770035416&4294967295,w=I+(C<<7&4294967295|C>>>25),C=k+(M^w&(I^M))+P[9]+2336552879&4294967295,k=w+(C<<12&4294967295|C>>>20),C=M+(I^k&(w^I))+P[10]+4294925233&4294967295,M=k+(C<<17&4294967295|C>>>15),C=I+(w^M&(k^w))+P[11]+2304563134&4294967295,I=M+(C<<22&4294967295|C>>>10),C=w+(k^I&(M^k))+P[12]+1804603682&4294967295,w=I+(C<<7&4294967295|C>>>25),C=k+(M^w&(I^M))+P[13]+4254626195&4294967295,k=w+(C<<12&4294967295|C>>>20),C=M+(I^k&(w^I))+P[14]+2792965006&4294967295,M=k+(C<<17&4294967295|C>>>15),C=I+(w^M&(k^w))+P[15]+1236535329&4294967295,I=M+(C<<22&4294967295|C>>>10),C=w+(M^k&(I^M))+P[1]+4129170786&4294967295,w=I+(C<<5&4294967295|C>>>27),C=k+(I^M&(w^I))+P[6]+3225465664&4294967295,k=w+(C<<9&4294967295|C>>>23),C=M+(w^I&(k^w))+P[11]+643717713&4294967295,M=k+(C<<14&4294967295|C>>>18),C=I+(k^w&(M^k))+P[0]+3921069994&4294967295,I=M+(C<<20&4294967295|C>>>12),C=w+(M^k&(I^M))+P[5]+3593408605&4294967295,w=I+(C<<5&4294967295|C>>>27),C=k+(I^M&(w^I))+P[10]+38016083&4294967295,k=w+(C<<9&4294967295|C>>>23),C=M+(w^I&(k^w))+P[15]+3634488961&4294967295,M=k+(C<<14&4294967295|C>>>18),C=I+(k^w&(M^k))+P[4]+3889429448&4294967295,I=M+(C<<20&4294967295|C>>>12),C=w+(M^k&(I^M))+P[9]+568446438&4294967295,w=I+(C<<5&4294967295|C>>>27),C=k+(I^M&(w^I))+P[14]+3275163606&4294967295,k=w+(C<<9&4294967295|C>>>23),C=M+(w^I&(k^w))+P[3]+4107603335&4294967295,M=k+(C<<14&4294967295|C>>>18),C=I+(k^w&(M^k))+P[8]+1163531501&4294967295,I=M+(C<<20&4294967295|C>>>12),C=w+(M^k&(I^M))+P[13]+2850285829&4294967295,w=I+(C<<5&4294967295|C>>>27),C=k+(I^M&(w^I))+P[2]+4243563512&4294967295,k=w+(C<<9&4294967295|C>>>23),C=M+(w^I&(k^w))+P[7]+1735328473&4294967295,M=k+(C<<14&4294967295|C>>>18),C=I+(k^w&(M^k))+P[12]+2368359562&4294967295,I=M+(C<<20&4294967295|C>>>12),C=w+(I^M^k)+P[5]+4294588738&4294967295,w=I+(C<<4&4294967295|C>>>28),C=k+(w^I^M)+P[8]+2272392833&4294967295,k=w+(C<<11&4294967295|C>>>21),C=M+(k^w^I)+P[11]+1839030562&4294967295,M=k+(C<<16&4294967295|C>>>16),C=I+(M^k^w)+P[14]+4259657740&4294967295,I=M+(C<<23&4294967295|C>>>9),C=w+(I^M^k)+P[1]+2763975236&4294967295,w=I+(C<<4&4294967295|C>>>28),C=k+(w^I^M)+P[4]+1272893353&4294967295,k=w+(C<<11&4294967295|C>>>21),C=M+(k^w^I)+P[7]+4139469664&4294967295,M=k+(C<<16&4294967295|C>>>16),C=I+(M^k^w)+P[10]+3200236656&4294967295,I=M+(C<<23&4294967295|C>>>9),C=w+(I^M^k)+P[13]+681279174&4294967295,w=I+(C<<4&4294967295|C>>>28),C=k+(w^I^M)+P[0]+3936430074&4294967295,k=w+(C<<11&4294967295|C>>>21),C=M+(k^w^I)+P[3]+3572445317&4294967295,M=k+(C<<16&4294967295|C>>>16),C=I+(M^k^w)+P[6]+76029189&4294967295,I=M+(C<<23&4294967295|C>>>9),C=w+(I^M^k)+P[9]+3654602809&4294967295,w=I+(C<<4&4294967295|C>>>28),C=k+(w^I^M)+P[12]+3873151461&4294967295,k=w+(C<<11&4294967295|C>>>21),C=M+(k^w^I)+P[15]+530742520&4294967295,M=k+(C<<16&4294967295|C>>>16),C=I+(M^k^w)+P[2]+3299628645&4294967295,I=M+(C<<23&4294967295|C>>>9),C=w+(M^(I|~k))+P[0]+4096336452&4294967295,w=I+(C<<6&4294967295|C>>>26),C=k+(I^(w|~M))+P[7]+1126891415&4294967295,k=w+(C<<10&4294967295|C>>>22),C=M+(w^(k|~I))+P[14]+2878612391&4294967295,M=k+(C<<15&4294967295|C>>>17),C=I+(k^(M|~w))+P[5]+4237533241&4294967295,I=M+(C<<21&4294967295|C>>>11),C=w+(M^(I|~k))+P[12]+1700485571&4294967295,w=I+(C<<6&4294967295|C>>>26),C=k+(I^(w|~M))+P[3]+2399980690&4294967295,k=w+(C<<10&4294967295|C>>>22),C=M+(w^(k|~I))+P[10]+4293915773&4294967295,M=k+(C<<15&4294967295|C>>>17),C=I+(k^(M|~w))+P[1]+2240044497&4294967295,I=M+(C<<21&4294967295|C>>>11),C=w+(M^(I|~k))+P[8]+1873313359&4294967295,w=I+(C<<6&4294967295|C>>>26),C=k+(I^(w|~M))+P[15]+4264355552&4294967295,k=w+(C<<10&4294967295|C>>>22),C=M+(w^(k|~I))+P[6]+2734768916&4294967295,M=k+(C<<15&4294967295|C>>>17),C=I+(k^(M|~w))+P[13]+1309151649&4294967295,I=M+(C<<21&4294967295|C>>>11),C=w+(M^(I|~k))+P[4]+4149444226&4294967295,w=I+(C<<6&4294967295|C>>>26),C=k+(I^(w|~M))+P[11]+3174756917&4294967295,k=w+(C<<10&4294967295|C>>>22),C=M+(w^(k|~I))+P[2]+718787259&4294967295,M=k+(C<<15&4294967295|C>>>17),C=I+(k^(M|~w))+P[9]+3951481745&4294967295,x.g[0]=x.g[0]+w&4294967295,x.g[1]=x.g[1]+(M+(C<<21&4294967295|C>>>11))&4294967295,x.g[2]=x.g[2]+M&4294967295,x.g[3]=x.g[3]+k&4294967295}s.prototype.v=function(x,w){w===void 0&&(w=x.length);const I=w-this.blockSize,P=this.C;let M=this.h,k=0;for(;k<w;){if(M==0)for(;k<=I;)o(this,x,k),k+=this.blockSize;if(typeof x=="string"){for(;k<w;)if(P[M++]=x.charCodeAt(k++),M==this.blockSize){o(this,P),M=0;break}}else for(;k<w;)if(P[M++]=x[k++],M==this.blockSize){o(this,P),M=0;break}}this.h=M,this.o+=w},s.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var w=1;w<x.length-8;++w)x[w]=0;w=this.o*8;for(var I=x.length-8;I<x.length;++I)x[I]=w&255,w/=256;for(this.v(x),x=Array(16),w=0,I=0;I<4;++I)for(let P=0;P<32;P+=8)x[w++]=this.g[I]>>>P&255;return x};function u(x,w){var I=d;return Object.prototype.hasOwnProperty.call(I,x)?I[x]:I[x]=w(x)}function c(x,w){this.h=w;const I=[];let P=!0;for(let M=x.length-1;M>=0;M--){const k=x[M]|0;P&&k==w||(I[M]=k,P=!1)}this.g=I}var d={};function p(x){return-128<=x&&x<128?u(x,function(w){return new c([w|0],w<0?-1:0)}):new c([x|0],x<0?-1:0)}function g(x){if(isNaN(x)||!isFinite(x))return T;if(x<0)return F(g(-x));const w=[];let I=1;for(let P=0;x>=I;P++)w[P]=x/I|0,I*=4294967296;return new c(w,0)}function _(x,w){if(x.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(x.charAt(0)=="-")return F(_(x.substring(1),w));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=g(Math.pow(w,8));let P=T;for(let k=0;k<x.length;k+=8){var M=Math.min(8,x.length-k);const C=parseInt(x.substring(k,k+M),w);M<8?(M=g(Math.pow(w,M)),P=P.j(M).add(g(C))):(P=P.j(I),P=P.add(g(C)))}return P}var T=p(0),b=p(1),D=p(16777216);t=c.prototype,t.m=function(){if(Y(this))return-F(this).m();let x=0,w=1;for(let I=0;I<this.g.length;I++){const P=this.i(I);x+=(P>=0?P:4294967296+P)*w,w*=4294967296}return x},t.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(j(this))return"0";if(Y(this))return"-"+F(this).toString(x);const w=g(Math.pow(x,6));var I=this;let P="";for(;;){const M=Ce(I,w).g;I=ne(I,M.j(w));let k=((I.g.length>0?I.g[0]:I.h)>>>0).toString(x);if(I=M,j(I))return k+P;for(;k.length<6;)k="0"+k;P=k+P}},t.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function j(x){if(x.h!=0)return!1;for(let w=0;w<x.g.length;w++)if(x.g[w]!=0)return!1;return!0}function Y(x){return x.h==-1}t.l=function(x){return x=ne(this,x),Y(x)?-1:j(x)?0:1};function F(x){const w=x.g.length,I=[];for(let P=0;P<w;P++)I[P]=~x.g[P];return new c(I,~x.h).add(b)}t.abs=function(){return Y(this)?F(this):this},t.add=function(x){const w=Math.max(this.g.length,x.g.length),I=[];let P=0;for(let M=0;M<=w;M++){let k=P+(this.i(M)&65535)+(x.i(M)&65535),C=(k>>>16)+(this.i(M)>>>16)+(x.i(M)>>>16);P=C>>>16,k&=65535,C&=65535,I[M]=C<<16|k}return new c(I,I[I.length-1]&-2147483648?-1:0)};function ne(x,w){return x.add(F(w))}t.j=function(x){if(j(this)||j(x))return T;if(Y(this))return Y(x)?F(this).j(F(x)):F(F(this).j(x));if(Y(x))return F(this.j(F(x)));if(this.l(D)<0&&x.l(D)<0)return g(this.m()*x.m());const w=this.g.length+x.g.length,I=[];for(var P=0;P<2*w;P++)I[P]=0;for(P=0;P<this.g.length;P++)for(let M=0;M<x.g.length;M++){const k=this.i(P)>>>16,C=this.i(P)&65535,ht=x.i(M)>>>16,it=x.i(M)&65535;I[2*P+2*M]+=C*it,K(I,2*P+2*M),I[2*P+2*M+1]+=k*it,K(I,2*P+2*M+1),I[2*P+2*M+1]+=C*ht,K(I,2*P+2*M+1),I[2*P+2*M+2]+=k*ht,K(I,2*P+2*M+2)}for(x=0;x<w;x++)I[x]=I[2*x+1]<<16|I[2*x];for(x=w;x<2*w;x++)I[x]=0;return new c(I,0)};function K(x,w){for(;(x[w]&65535)!=x[w];)x[w+1]+=x[w]>>>16,x[w]&=65535,w++}function re(x,w){this.g=x,this.h=w}function Ce(x,w){if(j(w))throw Error("division by zero");if(j(x))return new re(T,T);if(Y(x))return w=Ce(F(x),w),new re(F(w.g),F(w.h));if(Y(w))return w=Ce(x,F(w)),new re(F(w.g),w.h);if(x.g.length>30){if(Y(x)||Y(w))throw Error("slowDivide_ only works with positive integers.");for(var I=b,P=w;P.l(x)<=0;)I=oe(I),P=oe(P);var M=Re(I,1),k=Re(P,1);for(P=Re(P,2),I=Re(I,2);!j(P);){var C=k.add(P);C.l(x)<=0&&(M=M.add(I),k=C),P=Re(P,1),I=Re(I,1)}return w=ne(x,M.j(w)),new re(M,w)}for(M=T;x.l(w)>=0;){for(I=Math.max(1,Math.floor(x.m()/w.m())),P=Math.ceil(Math.log(I)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),k=g(I),C=k.j(w);Y(C)||C.l(x)>0;)I-=P,k=g(I),C=k.j(w);j(k)&&(k=b),M=M.add(k),x=ne(x,C)}return new re(M,x)}t.B=function(x){return Ce(this,x).h},t.and=function(x){const w=Math.max(this.g.length,x.g.length),I=[];for(let P=0;P<w;P++)I[P]=this.i(P)&x.i(P);return new c(I,this.h&x.h)},t.or=function(x){const w=Math.max(this.g.length,x.g.length),I=[];for(let P=0;P<w;P++)I[P]=this.i(P)|x.i(P);return new c(I,this.h|x.h)},t.xor=function(x){const w=Math.max(this.g.length,x.g.length),I=[];for(let P=0;P<w;P++)I[P]=this.i(P)^x.i(P);return new c(I,this.h^x.h)};function oe(x){const w=x.g.length+1,I=[];for(let P=0;P<w;P++)I[P]=x.i(P)<<1|x.i(P-1)>>>31;return new c(I,x.h)}function Re(x,w){const I=w>>5;w%=32;const P=x.g.length-I,M=[];for(let k=0;k<P;k++)M[k]=w>0?x.i(k+I)>>>w|x.i(k+I+1)<<32-w:x.i(k+I);return new c(M,x.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,GA=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=_,as=c}).apply(typeof oE<"u"?oE:typeof self<"u"?self:typeof window<"u"?window:{});var uh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var YA,su,KA,Eh,vp,$A,QA,XA;(function(){var t,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof uh=="object"&&uh];for(var y=0;y<h.length;++y){var v=h[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(h,y){if(y)e:{var v=s;h=h.split(".");for(var S=0;S<h.length-1;S++){var U=h[S];if(!(U in v))break e;v=v[U]}h=h[h.length-1],S=v[h],y=y(S),y!=S&&y!=null&&e(v,h,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(y){var v=[],S;for(S in y)Object.prototype.hasOwnProperty.call(y,S)&&v.push([S,y[S]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},c=this||self;function d(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function p(h,y,v){return h.call.apply(h.bind,arguments)}function g(h,y,v){return g=p,g.apply(null,arguments)}function _(h,y){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),h.apply(this,S)}}function T(h,y){function v(){}v.prototype=y.prototype,h.Z=y.prototype,h.prototype=new v,h.prototype.constructor=h,h.Ob=function(S,U,G){for(var ie=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)ie[Se-2]=arguments[Se];return y.prototype[U].apply(S,ie)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function D(h){const y=h.length;if(y>0){const v=Array(y);for(let S=0;S<y;S++)v[S]=h[S];return v}return[]}function j(h,y){for(let S=1;S<arguments.length;S++){const U=arguments[S];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=h.length||0;const G=U.length||0;h.length=v+G;for(let ie=0;ie<G;ie++)h[v+ie]=U[ie]}else h.push(U)}}class Y{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function F(h){c.setTimeout(()=>{throw h},0)}function ne(){var h=x;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class K{constructor(){this.h=this.g=null}add(y,v){const S=re.get();S.set(y,v),this.h?this.h.next=S:this.g=S,this.h=S}}var re=new Y(()=>new Ce,h=>h.reset());class Ce{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,Re=!1,x=new K,w=()=>{const h=Promise.resolve(void 0);oe=()=>{h.then(I)}};function I(){for(var h;h=ne();){try{h.h.call(h.g)}catch(v){F(v)}var y=re;y.j(h),y.h<100&&(y.h++,h.next=y.g,y.g=h)}Re=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const v=()=>{};c.addEventListener("test",v,y),c.removeEventListener("test",v,y)}catch{}return h})();function C(h){return/^[\s\xa0]*$/.test(h)}function ht(h,y){M.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,y)}T(ht,M),ht.prototype.init=function(h,y){const v=this.type=h.type,S=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget,y||(v=="mouseover"?y=h.fromElement:v=="mouseout"&&(y=h.toElement)),this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&ht.Z.h.call(this)},ht.prototype.h=function(){ht.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var it="closure_listenable_"+(Math.random()*1e6|0),$=0;function ae(h,y,v,S,U){this.listener=h,this.proxy=null,this.src=y,this.type=v,this.capture=!!S,this.ha=U,this.key=++$,this.da=this.fa=!1}function pe(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Be(h,y,v){for(const S in h)y.call(v,h[S],S,h)}function O(h,y){for(const v in h)y.call(void 0,h[v],v,h)}function J(h){const y={};for(const v in h)y[v]=h[v];return y}const le="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function se(h,y){let v,S;for(let U=1;U<arguments.length;U++){S=arguments[U];for(v in S)h[v]=S[v];for(let G=0;G<le.length;G++)v=le[G],Object.prototype.hasOwnProperty.call(S,v)&&(h[v]=S[v])}}function de(h){this.src=h,this.g={},this.h=0}de.prototype.add=function(h,y,v,S,U){const G=h.toString();h=this.g[G],h||(h=this.g[G]=[],this.h++);const ie=Ee(h,y,S,U);return ie>-1?(y=h[ie],v||(y.fa=!1)):(y=new ae(y,this.src,G,!!S,U),y.fa=v,h.push(y)),y};function Me(h,y){const v=y.type;if(v in h.g){var S=h.g[v],U=Array.prototype.indexOf.call(S,y,void 0),G;(G=U>=0)&&Array.prototype.splice.call(S,U,1),G&&(pe(y),h.g[v].length==0&&(delete h.g[v],h.h--))}}function Ee(h,y,v,S){for(let U=0;U<h.length;++U){const G=h[U];if(!G.da&&G.listener==y&&G.capture==!!v&&G.ha==S)return U}return-1}var jt="closure_lm_"+(Math.random()*1e6|0),Ye={};function Yn(h,y,v,S,U){if(Array.isArray(y)){for(let G=0;G<y.length;G++)Yn(h,y[G],v,S,U);return null}return v=Fu(v),h&&h[it]?h.J(y,v,d(S)?!!S.capture:!1,U):Qo(h,y,v,!1,S,U)}function Qo(h,y,v,S,U,G){if(!y)throw Error("Invalid event type");const ie=d(U)?!!U.capture:!!U;let Se=Xo(h);if(Se||(h[jt]=Se=new de(h)),v=Se.add(y,v,S,ie,G),v.proxy)return v;if(S=va(),v.proxy=S,S.src=h,S.listener=v,h.addEventListener)k||(U=ie),U===void 0&&(U=!1),h.addEventListener(y.toString(),S,U);else if(h.attachEvent)h.attachEvent(Ta(y.toString()),S);else if(h.addListener&&h.removeListener)h.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function va(){function h(v){return y.call(h.src,h.listener,v)}const y=Mf;return h}function Ea(h,y,v,S,U){if(Array.isArray(y))for(var G=0;G<y.length;G++)Ea(h,y[G],v,S,U);else S=d(S)?!!S.capture:!!S,v=Fu(v),h&&h[it]?(h=h.i,G=String(y).toString(),G in h.g&&(y=h.g[G],v=Ee(y,v,S,U),v>-1&&(pe(y[v]),Array.prototype.splice.call(y,v,1),y.length==0&&(delete h.g[G],h.h--)))):h&&(h=Xo(h))&&(y=h.g[y.toString()],h=-1,y&&(h=Ee(y,v,S,U)),(v=h>-1?y[h]:null)&&Es(v))}function Es(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[it])Me(y.i,h);else{var v=h.type,S=h.proxy;y.removeEventListener?y.removeEventListener(v,S,h.capture):y.detachEvent?y.detachEvent(Ta(v),S):y.addListener&&y.removeListener&&y.removeListener(S),(v=Xo(y))?(Me(v,h),v.h==0&&(v.src=null,y[jt]=null)):pe(h)}}}function Ta(h){return h in Ye?Ye[h]:Ye[h]="on"+h}function Mf(h,y){if(h.da)h=!0;else{y=new ht(y,this);const v=h.listener,S=h.ha||h.src;h.fa&&Es(h),h=v.call(S,y)}return h}function Xo(h){return h=h[jt],h instanceof de?h:null}var dn="__closure_events_fn_"+(Math.random()*1e9>>>0);function Fu(h){return typeof h=="function"?h:(h[dn]||(h[dn]=function(y){return h.handleEvent(y)}),h[dn])}function It(){P.call(this),this.i=new de(this),this.M=this,this.G=null}T(It,P),It.prototype[it]=!0,It.prototype.removeEventListener=function(h,y,v,S){Ea(this,h,y,v,S)};function Vt(h,y){var v,S=h.G;if(S)for(v=[];S;S=S.G)v.push(S);if(h=h.M,S=y.type||y,typeof y=="string")y=new M(y,h);else if(y instanceof M)y.target=y.target||h;else{var U=y;y=new M(S,h),se(y,U)}U=!0;let G,ie;if(v)for(ie=v.length-1;ie>=0;ie--)G=y.g=v[ie],U=Vi(G,S,!0,y)&&U;if(G=y.g=h,U=Vi(G,S,!0,y)&&U,U=Vi(G,S,!1,y)&&U,v)for(ie=0;ie<v.length;ie++)G=y.g=v[ie],U=Vi(G,S,!1,y)&&U}It.prototype.N=function(){if(It.Z.N.call(this),this.i){var h=this.i;for(const y in h.g){const v=h.g[y];for(let S=0;S<v.length;S++)pe(v[S]);delete h.g[y],h.h--}}this.G=null},It.prototype.J=function(h,y,v,S){return this.i.add(String(h),y,!1,v,S)},It.prototype.K=function(h,y,v,S){return this.i.add(String(h),y,!0,v,S)};function Vi(h,y,v,S){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();let U=!0;for(let G=0;G<y.length;++G){const ie=y[G];if(ie&&!ie.da&&ie.capture==v){const Se=ie.listener,tt=ie.ha||ie.src;ie.fa&&Me(h.i,ie),U=Se.call(tt,S)!==!1&&U}}return U&&!S.defaultPrevented}function Pf(h,y){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:c.setTimeout(h,y||0)}function Wo(h){h.g=Pf(()=>{h.g=null,h.i&&(h.i=!1,Wo(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class Vf extends P{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Wo(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ts(h){P.call(this),this.h=h,this.g={}}T(Ts,P);var dr=[];function Xt(h){Be(h.g,function(y,v){this.g.hasOwnProperty(v)&&Es(y)},h),h.g={}}Ts.prototype.N=function(){Ts.Z.N.call(this),Xt(this)},Ts.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var On=c.JSON.stringify,an=c.JSON.parse,kf=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function qu(){}function Hu(){}var li={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function mr(){M.call(this,"d")}T(mr,M);function Kn(){M.call(this,"c")}T(Kn,M);var Nn={},pr=null;function Aa(){return pr=pr||new It}Nn.Ia="serverreachability";function Zo(h){M.call(this,Nn.Ia,h)}T(Zo,M);function gr(h){const y=Aa();Vt(y,new Zo(y))}Nn.STAT_EVENT="statevent";function ba(h,y){M.call(this,Nn.STAT_EVENT,h),this.stat=y}T(ba,M);function mt(h){const y=Aa();Vt(y,new ba(y,h))}Nn.Ja="timingevent";function Gu(h,y){M.call(this,Nn.Ja,h),this.size=y}T(Gu,M);function yr(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},y)}function _r(){this.g=!0}_r.prototype.ua=function(){this.g=!1};function Jo(h,y,v,S,U,G){h.info(function(){if(h.g)if(G){var ie="",Se=G.split("&");for(let qe=0;qe<Se.length;qe++){var tt=Se[qe].split("=");if(tt.length>1){const yt=tt[0];tt=tt[1];const En=yt.split("_");ie=En.length>=2&&En[1]=="type"?ie+(yt+"="+tt+"&"):ie+(yt+"=redacted&")}}}else ie=null;else ie=G;return"XMLHTTP REQ ("+S+") [attempt "+U+"]: "+y+`
`+v+`
`+ie})}function el(h,y,v,S,U,G,ie){h.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+U+"]: "+y+`
`+v+`
`+G+" "+ie})}function ki(h,y,v,S){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+ui(h,v)+(S?" "+S:"")})}function Lf(h,y){h.info(function(){return"TIMEOUT: "+y})}_r.prototype.info=function(){};function ui(h,y){if(!h.g)return y;if(!y)return null;try{const G=JSON.parse(y);if(G){for(h=0;h<G.length;h++)if(Array.isArray(G[h])){var v=G[h];if(!(v.length<2)){var S=v[1];if(Array.isArray(S)&&!(S.length<1)){var U=S[0];if(U!="noop"&&U!="stop"&&U!="close")for(let ie=1;ie<S.length;ie++)S[ie]=""}}}}return On(G)}catch{return y}}var pt={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ft={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Li;function As(){}T(As,qu),As.prototype.g=function(){return new XMLHttpRequest},Li=new As;function bs(h){return encodeURIComponent(String(h))}function Uf(h){var y=1;h=h.split(":");const v=[];for(;y>0&&h.length;)v.push(h.shift()),y--;return h.length&&v.push(h.join(":")),v}function $n(h,y,v,S){this.j=h,this.i=y,this.l=v,this.S=S||1,this.V=new Ts(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new vr}function vr(){this.i=null,this.g="",this.h=!1}var Sa={},ci={};function hi(h,y,v){h.M=1,h.A=Bi(ot(y)),h.u=v,h.R=!0,Er(h,null)}function Er(h,y){h.F=Date.now(),Ss(h),h.B=ot(h.A);var v=h.B,S=h.S;Array.isArray(S)||(S=[String(S)]),Qu(v.i,"t",S),h.C=0,v=h.j.L,h.h=new vr,h.g=Pa(h.j,v?y:null,!h.u),h.P>0&&(h.O=new Vf(g(h.Y,h,h.g),h.P)),y=h.V,v=h.g,S=h.ba;var U="readystatechange";Array.isArray(U)||(U&&(dr[0]=U.toString()),U=dr);for(let G=0;G<U.length;G++){const ie=Yn(v,U[G],S||y.handleEvent,!1,y.h||y);if(!ie)break;y.g[ie.key]=ie}y=h.J?J(h.J):{},h.u?(h.v||(h.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,y)):(h.v="GET",h.g.ea(h.B,h.v,null,y)),gr(),Jo(h.i,h.v,h.B,h.l,h.S,h.u)}$n.prototype.ba=function(h){h=h.target;const y=this.O;y&&Wt(h)==3?y.j():this.Y(h)},$n.prototype.Y=function(h){try{if(h==this.g)e:{const Se=Wt(this.g),tt=this.g.ya(),qe=this.g.ca();if(!(Se<3)&&(Se!=3||this.g&&(this.h.h||this.g.la()||Vs(this.g)))){this.K||Se!=4||tt==7||(tt==8||qe<=0?gr(3):gr(2)),di(this);var y=this.g.ca();this.X=y;var v=Tr(this);if(this.o=y==200,el(this.i,this.v,this.B,this.l,this.S,Se,y),this.o){if(this.U&&!this.L){t:{if(this.g){var S,U=this.g;if((S=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(S)){var G=S;break t}}G=null}if(h=G)ki(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,wa(this,h);else{this.o=!1,this.m=3,mt(12),mi(this),ws(this);break e}}if(this.R){h=!0;let yt;for(;!this.K&&this.C<v.length;)if(yt=Yu(this,v),yt==ci){Se==4&&(this.m=4,mt(14),h=!1),ki(this.i,this.l,null,"[Incomplete Response]");break}else if(yt==Sa){this.m=4,mt(15),ki(this.i,this.l,v,"[Invalid Chunk]"),h=!1;break}else ki(this.i,this.l,yt,null),wa(this,yt);if(gt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Se!=4||v.length!=0||this.h.h||(this.m=1,mt(16),h=!1),this.o=this.o&&h,!h)ki(this.i,this.l,v,"[Invalid Chunked Response]"),mi(this),ws(this);else if(v.length>0&&!this.W){this.W=!0;var ie=this.j;ie.g==this&&ie.aa&&!ie.P&&(ie.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),cl(ie),ie.P=!0,mt(11))}}else ki(this.i,this.l,v,null),wa(this,v);Se==4&&mi(this),this.o&&!this.K&&(Se==4?hl(this.j,this):(this.o=!1,Ss(this)))}else ks(this.g),y==400&&v.indexOf("Unknown SID")>0?(this.m=3,mt(12)):(this.m=0,mt(13)),mi(this),ws(this)}}}catch{}finally{}};function Tr(h){if(!gt(h))return h.g.la();const y=Vs(h.g);if(y==="")return"";let v="";const S=y.length,U=Wt(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return mi(h),ws(h),"";h.h.i=new c.TextDecoder}for(let G=0;G<S;G++)h.h.h=!0,v+=h.h.i.decode(y[G],{stream:!(U&&G==S-1)});return y.length=0,h.h.g+=v,h.C=0,h.h.g}function gt(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Yu(h,y){var v=h.C,S=y.indexOf(`
`,v);return S==-1?ci:(v=Number(y.substring(v,S)),isNaN(v)?Sa:(S+=1,S+v>y.length?ci:(y=y.slice(S,S+v),h.C=S+v,y)))}$n.prototype.cancel=function(){this.K=!0,mi(this)};function Ss(h){h.T=Date.now()+h.H,fi(h,h.H)}function fi(h,y){if(h.D!=null)throw Error("WatchDog timer not null");h.D=yr(g(h.aa,h),y)}function di(h){h.D&&(c.clearTimeout(h.D),h.D=null)}$n.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Lf(this.i,this.B),this.M!=2&&(gr(),mt(17)),mi(this),this.m=2,ws(this)):fi(this,this.T-h)};function ws(h){h.j.I==0||h.K||hl(h.j,h)}function mi(h){di(h);var y=h.O;y&&typeof y.dispose=="function"&&y.dispose(),h.O=null,Xt(h.V),h.g&&(y=h.g,h.g=null,y.abort(),y.dispose())}function wa(h,y){try{var v=h.j;if(v.I!=0&&(v.g==h||Cs(v.h,h))){if(!h.L&&Cs(v.h,h)&&v.I==3){try{var S=v.Ba.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var U=S;if(U[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<h.F)Ma(v),pi(v);else break e;ul(v),mt(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=yr(g(v.Va,v),6e3));Mn(v.h)<=1&&v.ta&&(v.ta=void 0)}else Fi(v,11)}else if((h.L||v.g==h)&&Ma(v),!C(y))for(U=v.Ba.g.parse(y),y=0;y<U.length;y++){let qe=U[y];const yt=qe[0];if(!(yt<=v.K))if(v.K=yt,qe=qe[1],v.I==2)if(qe[0]=="c"){v.M=qe[1],v.ba=qe[2];const En=qe[3];En!=null&&(v.ka=En,v.j.info("VER="+v.ka));const gi=qe[4];gi!=null&&(v.za=gi,v.j.info("SVER="+v.za));const Wn=qe[5];Wn!=null&&typeof Wn=="number"&&Wn>0&&(S=1.5*Wn,v.O=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const Zn=h.g;if(Zn){const Jn=Zn.g?Zn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Jn){var G=S.h;G.g||Jn.indexOf("spdy")==-1&&Jn.indexOf("quic")==-1&&Jn.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Ra(G,G.h),G.h=null))}if(S.G){const dl=Zn.g?Zn.g.getResponseHeader("X-HTTP-Session-Id"):null;dl&&(S.wa=dl,Ke(S.J,S.G,dl))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-h.F,v.j.info("Handshake RTT: "+v.T+"ms")),S=v;var ie=h;if(S.na=rc(S,S.L?S.ba:null,S.W),ie.L){Ui(S.h,ie);var Se=ie,tt=S.O;tt&&(Se.H=tt),Se.D&&(di(Se),Ss(Se)),S.g=ie}else ec(S);v.i.length>0&&zs(v)}else qe[0]!="stop"&&qe[0]!="close"||Fi(v,7);else v.I==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?Fi(v,7):Us(v):qe[0]!="noop"&&v.l&&v.l.qa(qe),v.A=0)}}gr(4)}catch{}}var Bf=class{constructor(h,y){this.g=h,this.map=y}};function Rs(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Is(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Mn(h){return h.h?1:h.g?h.g.size:0}function Cs(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function Ra(h,y){h.g?h.g.add(y):h.h=y}function Ui(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}Rs.prototype.cancel=function(){if(this.i=Ia(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Ia(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const v of h.g.values())y=y.concat(v.G);return y}return D(h.i)}var Ca=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zf(h,y){if(h){h=h.split("&");for(let v=0;v<h.length;v++){const S=h[v].indexOf("=");let U,G=null;S>=0?(U=h[v].substring(0,S),G=h[v].substring(S+1)):U=h[v],y(U,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function Qn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;h instanceof Qn?(this.l=h.l,Ar(this,h.j),this.o=h.o,this.g=h.g,Ds(this,h.u),this.h=h.h,br(this,Xu(h.i)),this.m=h.m):h&&(y=String(h).match(Ca))?(this.l=!1,Ar(this,y[1]||"",!0),this.o=xs(y[2]||""),this.g=xs(y[3]||"",!0),Ds(this,y[4]),this.h=xs(y[5]||"",!0),br(this,y[6]||"",!0),this.m=xs(y[7]||"")):(this.l=!1,this.i=new Pn(null,this.l))}Qn.prototype.toString=function(){const h=[];var y=this.j;y&&h.push(kt(y,nl,!0),":");var v=this.g;return(v||y=="file")&&(h.push("//"),(y=this.o)&&h.push(kt(y,nl,!0),"@"),h.push(bs(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&h.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&h.push("/"),h.push(kt(v,v.charAt(0)=="/"?Sr:il,!0))),(v=this.i.toString())&&h.push("?",v),(v=this.m)&&h.push("#",kt(v,$u)),h.join("")},Qn.prototype.resolve=function(h){const y=ot(this);let v=!!h.j;v?Ar(y,h.j):v=!!h.o,v?y.o=h.o:v=!!h.g,v?y.g=h.g:v=h.u!=null;var S=h.h;if(v)Ds(y,h.u);else if(v=!!h.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var U=y.h.lastIndexOf("/");U!=-1&&(S=y.h.slice(0,U+1)+S)}if(U=S,U==".."||U==".")S="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){S=U.lastIndexOf("/",0)==0,U=U.split("/");const G=[];for(let ie=0;ie<U.length;){const Se=U[ie++];Se=="."?S&&ie==U.length&&G.push(""):Se==".."?((G.length>1||G.length==1&&G[0]!="")&&G.pop(),S&&ie==U.length&&G.push("")):(G.push(Se),S=!0)}S=G.join("/")}else S=U}return v?y.h=S:v=h.i.toString()!=="",v?br(y,Xu(h.i)):v=!!h.m,v&&(y.m=h.m),y};function ot(h){return new Qn(h)}function Ar(h,y,v){h.j=v?xs(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function Ds(h,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);h.u=y}else h.u=null}function br(h,y,v){y instanceof Pn?(h.i=y,al(h.i,h.l)):(v||(y=kt(y,Ku)),h.i=new Pn(y,h.l))}function Ke(h,y,v){h.i.set(y,v)}function Bi(h){return Ke(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function xs(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function kt(h,y,v){return typeof h=="string"?(h=encodeURI(h).replace(y,tl),v&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function tl(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var nl=/[#\/\?@]/g,il=/[#\?:]/g,Sr=/[#\?]/g,Ku=/[#\?@]/g,$u=/#/g;function Pn(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function zi(h){h.g||(h.g=new Map,h.h=0,h.i&&zf(h.i,function(y,v){h.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}t=Pn.prototype,t.add=function(h,y){zi(this),this.i=null,h=Xn(this,h);let v=this.g.get(h);return v||this.g.set(h,v=[]),v.push(y),this.h+=1,this};function rl(h,y){zi(h),y=Xn(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function sl(h,y){return zi(h),y=Xn(h,y),h.g.has(y)}t.forEach=function(h,y){zi(this),this.g.forEach(function(v,S){v.forEach(function(U){h.call(y,U,S,this)},this)},this)};function Da(h,y){zi(h);let v=[];if(typeof y=="string")sl(h,y)&&(v=v.concat(h.g.get(Xn(h,y))));else for(h=Array.from(h.g.values()),y=0;y<h.length;y++)v=v.concat(h[y]);return v}t.set=function(h,y){return zi(this),this.i=null,h=Xn(this,h),sl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},t.get=function(h,y){return h?(h=Da(this,h),h.length>0?String(h[0]):y):y};function Qu(h,y,v){rl(h,y),v.length>0&&(h.i=null,h.g.set(Xn(h,y),D(v)),h.h+=v.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(let S=0;S<y.length;S++){var v=y[S];const U=bs(v);v=Da(this,v);for(let G=0;G<v.length;G++){let ie=U;v[G]!==""&&(ie+="="+bs(v[G])),h.push(ie)}}return this.i=h.join("&")};function Xu(h){const y=new Pn;return y.i=h.i,h.g&&(y.g=new Map(h.g),y.h=h.h),y}function Xn(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function al(h,y){y&&!h.j&&(zi(h),h.i=null,h.g.forEach(function(v,S){const U=S.toLowerCase();S!=U&&(rl(this,S),Qu(this,U,v))},h)),h.j=y}function ol(h,y){const v=new _r;if(c.Image){const S=new Image;S.onload=_(on,v,"TestLoadImage: loaded",!0,y,S),S.onerror=_(on,v,"TestLoadImage: error",!1,y,S),S.onabort=_(on,v,"TestLoadImage: abort",!1,y,S),S.ontimeout=_(on,v,"TestLoadImage: timeout",!1,y,S),c.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=h}else y(!1)}function wr(h,y){const v=new _r,S=new AbortController,U=setTimeout(()=>{S.abort(),on(v,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:S.signal}).then(G=>{clearTimeout(U),G.ok?on(v,"TestPingServer: ok",!0,y):on(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(U),on(v,"TestPingServer: error",!1,y)})}function on(h,y,v,S,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),S(v)}catch{}}function Wu(){this.g=new kf}function Os(h){this.i=h.Sb||null,this.h=h.ab||!1}T(Os,qu),Os.prototype.g=function(){return new Ns(this.i,this.h)};function Ns(h,y){It.call(this),this.H=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Ns,It),t=Ns.prototype,t.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=y,this.readyState=1,ji(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(y.body=h),(this.H||c).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ln(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,ji(this)),this.g&&(this.readyState=3,ji(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Rr(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Rr(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?ln(this):ji(this),this.readyState==3&&Rr(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,ln(this))},t.Na=function(h){this.g&&(this.response=h,ln(this))},t.ga=function(){this.g&&ln(this)};function ln(h){h.readyState=4,h.l=null,h.j=null,h.B=null,ji(h)}t.setRequestHeader=function(h,y){this.A.append(h,y)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,h.push(v[0]+": "+v[1]),v=y.next();return h.join(`\r
`)};function ji(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Ns.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Ir(h){let y="";return Be(h,function(v,S){y+=S,y+=":",y+=v,y+=`\r
`}),y}function Vn(h,y,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=Ir(v),typeof h=="string"?v!=null&&bs(v):Ke(h,y,v))}function Ze(h){It.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(Ze,It);var xa=/^https?$/i,Zu=["POST","PUT"];t=Ze.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,y,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Li.g(),this.g.onreadystatechange=b(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(G){Ms(this,G);return}if(h=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var U in S)v.set(U,S[U]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const G of S.keys())v.set(G,S.get(G));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(G=>G.toLowerCase()=="content-type"),U=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(Zu,y,void 0)>=0)||S||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,ie]of v)this.g.setRequestHeader(G,ie);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(G){Ms(this,G)}};function Ms(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.o=5,Ps(h),Ct(h)}function Ps(h){h.A||(h.A=!0,Vt(h,"complete"),Vt(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Vt(this,"complete"),Vt(this,"abort"),Ct(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ct(this,!0)),Ze.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?ll(this):this.Xa())},t.Xa=function(){ll(this)};function ll(h){if(h.h&&typeof u<"u"){if(h.v&&Wt(h)==4)setTimeout(h.Ca.bind(h),0);else if(Vt(h,"readystatechange"),Wt(h)==4){h.h=!1;try{const G=h.ca();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var S;if(S=G===0){let ie=String(h.D).match(Ca)[1]||null;!ie&&c.self&&c.self.location&&(ie=c.self.location.protocol.slice(0,-1)),S=!xa.test(ie?ie.toLowerCase():"")}v=S}if(v)Vt(h,"complete"),Vt(h,"success");else{h.o=6;try{var U=Wt(h)>2?h.g.statusText:""}catch{U=""}h.l=U+" ["+h.ca()+"]",Ps(h)}}finally{Ct(h)}}}}function Ct(h,y){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const v=h.g;h.g=null,y||Vt(h,"ready");try{v.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Wt(h){return h.g?h.g.readyState:0}t.ca=function(){try{return Wt(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),an(y)}};function Vs(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function ks(h){const y={};h=(h.g&&Wt(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<h.length;S++){if(C(h[S]))continue;var v=Uf(h[S]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const G=y[U]||[];y[U]=G,G.push(v)}O(y,function(S){return S.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ls(h,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[h]||y}function Oa(h){this.za=0,this.i=[],this.j=new _r,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ls("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ls("baseRetryDelayMs",5e3,h),this.Za=Ls("retryDelaySeedMs",1e4,h),this.Ta=Ls("forwardChannelMaxRetries",2,h),this.va=Ls("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Rs(h&&h.concurrentRequestLimit),this.Ba=new Wu,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Oa.prototype,t.ka=8,t.I=1,t.connect=function(h,y,v,S){mt(0),this.W=h,this.H=y||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.J=rc(this,null,this.W),zs(this)};function Us(h){if(Bs(h),h.I==3){var y=h.V++,v=ot(h.J);if(Ke(v,"SID",h.M),Ke(v,"RID",y),Ke(v,"TYPE","terminate"),js(h,v),y=new $n(h,h.j,y),y.M=2,y.A=Bi(ot(v)),v=!1,c.navigator&&c.navigator.sendBeacon)try{v=c.navigator.sendBeacon(y.A.toString(),"")}catch{}!v&&c.Image&&(new Image().src=y.A,v=!0),v||(y.g=Pa(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Ss(y)}ic(h)}function pi(h){h.g&&(cl(h),h.g.cancel(),h.g=null)}function Bs(h){pi(h),h.v&&(c.clearTimeout(h.v),h.v=null),Ma(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function zs(h){if(!Is(h.h)&&!h.m){h.m=!0;var y=h.Ea;oe||w(),Re||(oe(),Re=!0),x.add(y,h),h.D=0}}function jf(h,y){return Mn(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=y.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=yr(g(h.Ea,h,y),nc(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const U=new $n(this,this.j,h);let G=this.o;if(this.U&&(G?(G=J(G),se(G,this.U)):G=this.U),this.u!==null||this.R||(U.J=G,G=null),this.S)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,y>4096){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=Na(this,U,y),v=ot(this.J),Ke(v,"RID",h),Ke(v,"CVER",22),this.G&&Ke(v,"X-HTTP-Session-Id",this.G),js(this,v),G&&(this.R?y="headers="+bs(Ir(G))+"&"+y:this.u&&Vn(v,this.u,G)),Ra(this.h,U),this.Ra&&Ke(v,"TYPE","init"),this.S?(Ke(v,"$req",y),Ke(v,"SID","null"),U.U=!0,hi(U,v,null)):hi(U,v,y),this.I=2}}else this.I==3&&(h?Ju(this,h):this.i.length==0||Is(this.h)||Ju(this))};function Ju(h,y){var v;y?v=y.l:v=h.V++;const S=ot(h.J);Ke(S,"SID",h.M),Ke(S,"RID",v),Ke(S,"AID",h.K),js(h,S),h.u&&h.o&&Vn(S,h.u,h.o),v=new $n(h,h.j,v,h.D+1),h.u===null&&(v.J=h.o),y&&(h.i=y.G.concat(h.i)),y=Na(h,v,1e3),v.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Ra(h.h,v),hi(v,S,y)}function js(h,y){h.H&&Be(h.H,function(v,S){Ke(y,S,v)}),h.l&&Be({},function(v,S){Ke(y,S,v)})}function Na(h,y,v){v=Math.min(h.i.length,v);const S=h.l?g(h.l.Ka,h.l,h):null;e:{var U=h.i;let Se=-1;for(;;){const tt=["count="+v];Se==-1?v>0?(Se=U[0].g,tt.push("ofs="+Se)):Se=0:tt.push("ofs="+Se);let qe=!0;for(let yt=0;yt<v;yt++){var G=U[yt].g;const En=U[yt].map;if(G-=Se,G<0)Se=Math.max(0,U[yt].g-100),qe=!1;else try{G="req"+G+"_"||"";try{var ie=En instanceof Map?En:Object.entries(En);for(const[gi,Wn]of ie){let Zn=Wn;d(Wn)&&(Zn=On(Wn)),tt.push(G+gi+"="+encodeURIComponent(Zn))}}catch(gi){throw tt.push(G+"type="+encodeURIComponent("_badmap")),gi}}catch{S&&S(En)}}if(qe){ie=tt.join("&");break e}}ie=void 0}return h=h.i.splice(0,v),y.G=h,ie}function ec(h){if(!h.g&&!h.v){h.Y=1;var y=h.Da;oe||w(),Re||(oe(),Re=!0),x.add(y,h),h.A=0}}function ul(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=yr(g(h.Da,h),nc(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,tc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=yr(g(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,mt(10),pi(this),tc(this))};function cl(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function tc(h){h.g=new $n(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var y=ot(h.na);Ke(y,"RID","rpc"),Ke(y,"SID",h.M),Ke(y,"AID",h.K),Ke(y,"CI",h.F?"0":"1"),!h.F&&h.ia&&Ke(y,"TO",h.ia),Ke(y,"TYPE","xmlhttp"),js(h,y),h.u&&h.o&&Vn(y,h.u,h.o),h.O&&(h.g.H=h.O);var v=h.g;h=h.ba,v.M=1,v.A=Bi(ot(y)),v.u=null,v.R=!0,Er(v,h)}t.Va=function(){this.C!=null&&(this.C=null,pi(this),ul(this),mt(19))};function Ma(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function hl(h,y){var v=null;if(h.g==y){Ma(h),cl(h),h.g=null;var S=2}else if(Cs(h.h,y))v=y.G,Ui(h.h,y),S=1;else return;if(h.I!=0){if(y.o)if(S==1){v=y.u?y.u.length:0,y=Date.now()-y.F;var U=h.D;S=Aa(),Vt(S,new Gu(S,v)),zs(h)}else ec(h);else if(U=y.m,U==3||U==0&&y.X>0||!(S==1&&jf(h,y)||S==2&&ul(h)))switch(v&&v.length>0&&(y=h.h,y.i=y.i.concat(v)),U){case 1:Fi(h,5);break;case 4:Fi(h,10);break;case 3:Fi(h,6);break;default:Fi(h,2)}}}function nc(h,y){let v=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(v*=2),v*y}function Fi(h,y){if(h.j.info("Error code "+y),y==2){var v=g(h.bb,h),S=h.Ua;const U=!S;S=new Qn(S||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Ar(S,"https"),Bi(S),U?ol(S.toString(),v):wr(S.toString(),v)}else mt(2);h.I=0,h.l&&h.l.pa(y),ic(h),Bs(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),mt(2)):(this.j.info("Failed to ping google.com"),mt(1))};function ic(h){if(h.I=0,h.ja=[],h.l){const y=Ia(h.h);(y.length!=0||h.i.length!=0)&&(j(h.ja,y),j(h.ja,h.i),h.h.i.length=0,D(h.i),h.i.length=0),h.l.oa()}}function rc(h,y,v){var S=v instanceof Qn?ot(v):new Qn(v);if(S.g!="")y&&(S.g=y+"."+S.g),Ds(S,S.u);else{var U=c.location;S=U.protocol,y=y?y+"."+U.hostname:U.hostname,U=+U.port;const G=new Qn(null);S&&Ar(G,S),y&&(G.g=y),U&&Ds(G,U),v&&(G.h=v),S=G}return v=h.G,y=h.wa,v&&y&&Ke(S,v,y),Ke(S,"VER",h.ka),js(h,S),S}function Pa(h,y,v){if(y&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Aa&&!h.ma?new Ze(new Os({ab:v})):new Ze(h.ma),y.Fa(h.L),y}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function sc(){}t=sc.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Va(){}Va.prototype.g=function(h,y){return new un(h,y)};function un(h,y){It.call(this),this.g=new Oa(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(h?h["X-WebChannel-Client-Profile"]=y.sa:h={"X-WebChannel-Client-Profile":y.sa}),this.g.U=h,(h=y&&y.Qb)&&!C(h)&&(this.g.u=h),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!C(y)&&(this.g.G=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new Cr(this)}T(un,It),un.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){Us(this.g)},un.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var v={};v.__data__=h,h=v}else this.v&&(v={},v.__data__=On(h),h=v);y.i.push(new Bf(y.Ya++,h)),y.I==3&&zs(y)},un.prototype.N=function(){this.g.l=null,delete this.j,Us(this.g),delete this.g,un.Z.N.call(this)};function fl(h){mr.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const v in y){h=v;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}T(fl,mr);function ac(){Kn.call(this),this.status=1}T(ac,Kn);function Cr(h){this.g=h}T(Cr,sc),Cr.prototype.ra=function(){Vt(this.g,"a")},Cr.prototype.qa=function(h){Vt(this.g,new fl(h))},Cr.prototype.pa=function(h){Vt(this.g,new ac)},Cr.prototype.oa=function(){Vt(this.g,"b")},Va.prototype.createWebChannel=Va.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,XA=function(){return new Va},QA=function(){return Aa()},$A=Nn,vp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},pt.NO_ERROR=0,pt.TIMEOUT=8,pt.HTTP_ERROR=6,Eh=pt,Ft.COMPLETE="complete",KA=Ft,Hu.EventType=li,li.OPEN="a",li.CLOSE="b",li.ERROR="c",li.MESSAGE="d",It.prototype.listen=It.prototype.J,su=Hu,Ze.prototype.listenOnce=Ze.prototype.K,Ze.prototype.getLastError=Ze.prototype.Ha,Ze.prototype.getLastErrorCode=Ze.prototype.ya,Ze.prototype.getStatus=Ze.prototype.ca,Ze.prototype.getResponseJson=Ze.prototype.La,Ze.prototype.getResponseText=Ze.prototype.la,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Fa,YA=Ze}).apply(typeof uh<"u"?uh:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}tn.UNAUTHENTICATED=new tn(null),tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid"),tn.FIRST_PARTY=new tn("first-party-uid"),tn.MOCK_USER=new tn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fo="12.8.0";function Xx(t){Fo=t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua=new cf("@firebase/firestore");function ho(){return ua.logLevel}function ue(t,...e){if(ua.logLevel<=Pe.DEBUG){const n=e.map(og);ua.debug(`Firestore (${Fo}): ${t}`,...n)}}function ur(t,...e){if(ua.logLevel<=Pe.ERROR){const n=e.map(og);ua.error(`Firestore (${Fo}): ${t}`,...n)}}function Co(t,...e){if(ua.logLevel<=Pe.WARN){const n=e.map(og);ua.warn(`Firestore (${Fo}): ${t}`,...n)}}function og(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,WA(t,s,n)}function WA(t,e,n){let s=`FIRESTORE (${Fo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw ur(s),new Error(s)}function Fe(t,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,t||WA(e,o,s)}function we(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends oi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Wx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(tn.UNAUTHENTICATED)))}shutdown(){}}class Zx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class Jx{constructor(e){this.t=e,this.currentUser=tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Fe(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new os;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new os,e.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},d=p=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>d(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new os)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Fe(typeof s.accessToken=="string",31837,{l:s}),new ZA(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string",2055,{h:e}),new tn(e)}}class eO{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=tn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class tO{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new eO(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(tn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class lE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nO{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ii(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Fe(this.o===void 0,3512);const s=u=>{u.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.m;return this.m=u.token,ue("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new lE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Fe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new lE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iO(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=iO(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ve(t,e){return t<e?-1:t>e?1:0}function Ep(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const o=t.charAt(s),u=e.charAt(s);if(o!==u)return Wm(o)===Wm(u)?Ve(o,u):Wm(o)?1:-1}return Ve(t.length,e.length)}const rO=55296,sO=57343;function Wm(t){const e=t.charCodeAt(0);return e>=rO&&e<=sO}function Do(t,e,n){return t.length===e.length&&t.every(((s,o)=>n(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE="__name__";class Ai{constructor(e,n,s){n===void 0?n=0:n>e.length&&ve(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&ve(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Ai.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ai?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Ai.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ve(e.length,n.length)}static compareSegments(e,n){const s=Ai.isNumericId(e),o=Ai.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Ai.extractNumericId(e).compare(Ai.extractNumericId(n)):Ep(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return as.fromString(e.substring(4,e.length-2))}}class ut extends Ai{construct(e,n,s){return new ut(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new he(ee.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new ut(n)}static emptyPath(){return new ut([])}}const aO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kt extends Ai{construct(e,n,s){return new Kt(e,n,s)}static isValidIdentifier(e){return aO.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===uE}static keyField(){return new Kt([uE])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new he(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let c=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new he(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new he(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else d==="`"?(c=!c,o++):d!=="."||c?(s+=d,o++):(u(),o++)}if(u(),c)throw new he(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kt(n)}static emptyPath(){return new Kt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(ut.fromString(e))}static fromName(e){return new ge(ut.fromString(e).popFirst(5))}static empty(){return new ge(ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ut.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ut.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new ut(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oO(t,e,n){if(!n)throw new he(ee.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function lO(t,e,n,s){if(e===!0&&s===!0)throw new he(ee.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function cE(t){if(!ge.isDocumentKey(t))throw new he(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function JA(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function ug(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ve(12329,{type:typeof t})}function wi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new he(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ug(t);throw new he(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(t,e){const n={typeString:t};return e&&(n.value=e),n}function ku(t,e){if(!JA(t))throw new he(ee.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const c=t[s];if(o&&typeof c!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&c!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new he(ee.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE=-62135596800,fE=1e6;class et{static now(){return et.fromMillis(Date.now())}static fromDate(e){return et.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*fE);return new et(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new he(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new he(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<hE)throw new he(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/fE}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:et._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ku(e,et._jsonSchema))return new et(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-hE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}et._jsonSchemaVersion="firestore/timestamp/1.0",et._jsonSchema={type:wt("string",et._jsonSchemaVersion),seconds:wt("number"),nanoseconds:wt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new et(0,0))}static max(){return new be(new et(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _u=-1;function uO(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,o=be.fromTimestamp(s===1e9?new et(n+1,0):new et(n,s));return new hs(o,ge.empty(),e)}function cO(t){return new hs(t.readTime,t.key,_u)}class hs{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new hs(be.min(),ge.empty(),_u)}static max(){return new hs(be.max(),ge.empty(),_u)}}function hO(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ge.comparator(t.documentKey,e.documentKey),n!==0?n:Ve(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class dO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qo(t){if(t.code!==ee.FAILED_PRECONDITION||t.message!==fO)throw t;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Z(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Z?n:Z.resolve(n)}catch(n){return Z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Z.reject(n)}static resolve(e){return new Z(((n,s)=>{n(e)}))}static reject(e){return new Z(((n,s)=>{s(e)}))}static waitFor(e){return new Z(((n,s)=>{let o=0,u=0,c=!1;e.forEach((d=>{++o,d.next((()=>{++u,c&&u===o&&n()}),(p=>s(p)))})),c=!0,u===o&&n()}))}static or(e){let n=Z.resolve(!1);for(const s of e)n=n.next((o=>o?Z.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new Z(((s,o)=>{const u=e.length,c=new Array(u);let d=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next((_=>{c[g]=_,++d,d===u&&s(c)}),(_=>o(_)))}}))}static doWhile(e,n){return new Z(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function mO(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ho(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}pf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cg=-1;function gf(t){return t==null}function kh(t){return t===0&&1/t==-1/0}function pO(t){return typeof t=="number"&&Number.isInteger(t)&&!kh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb="";function gO(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=dE(e)),e=yO(t.get(n),e);return dE(e)}function yO(t,e){let n=e;const s=t.length;for(let o=0;o<s;o++){const u=t.charAt(o);switch(u){case"\0":n+="";break;case eb:n+="";break;default:n+=u}}return n}function dE(t){return t+eb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function _s(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function tb(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e,n){this.comparator=e,this.root=n||Yt.EMPTY}insert(e,n){return new ct(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Yt.BLACK,null,null))}remove(e){return new ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ch(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ch(this.root,e,this.comparator,!1)}getReverseIterator(){return new ch(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ch(this.root,e,this.comparator,!0)}}class ch{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Yt.RED,this.left=o??Yt.EMPTY,this.right=u??Yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Yt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Yt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ve(27949);return e+(this.isRed()?0:1)}}Yt.EMPTY=null,Yt.RED=!0,Yt.BLACK=!1;Yt.EMPTY=new class{constructor(){this.size=0}get key(){throw ve(57766)}get value(){throw ve(16141)}get color(){throw ve(16727)}get left(){throw ve(29726)}get right(){throw ve(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Yt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new pE(this.data.getIterator())}getIteratorFrom(e){return new pE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Mt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Mt(this.comparator);return n.data=e,n}}class pE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new Cn([])}unionWith(e){let n=new Mt(Kt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Cn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Do(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new nb("Invalid base64 string: "+u):u}})(e);return new Qt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let c=0;c<o.length;++c)u+=String.fromCharCode(o[c]);return u})(e);return new Qt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qt.EMPTY_BYTE_STRING=new Qt("");const _O=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fs(t){if(Fe(!!t,39018),typeof t=="string"){let e=0;const n=_O.exec(t);if(Fe(!!n,46558,{timestamp:t}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Et(t.seconds),nanos:Et(t.nanos)}}function Et(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ds(t){return typeof t=="string"?Qt.fromBase64String(t):Qt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib="server_timestamp",rb="__type__",sb="__previous_value__",ab="__local_write_time__";function hg(t){return(t?.mapValue?.fields||{})[rb]?.stringValue===ib}function yf(t){const e=t.mapValue.fields[sb];return hg(e)?yf(e):e}function vu(t){const e=fs(t.mapValue.fields[ab].timestampValue);return new et(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(e,n,s,o,u,c,d,p,g,_,T){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=_,this.apiKey=T}}const Lh="(default)";class Eu{constructor(e,n){this.projectId=e,this.database=n||Lh}static empty(){return new Eu("","")}get isDefaultDatabase(){return this.database===Lh}isEqual(e){return e instanceof Eu&&e.projectId===this.projectId&&e.database===this.database}}function EO(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new he(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Eu(t.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ob="__type__",TO="__max__",hh={mapValue:{}},lb="__vector__",Uh="value";function ms(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?hg(t)?4:bO(t)?9007199254740991:AO(t)?10:11:ve(28295,{value:t})}function Ni(t,e){if(t===e)return!0;const n=ms(t);if(n!==ms(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return vu(t).isEqual(vu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const c=fs(o.timestampValue),d=fs(u.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(o,u){return ds(o.bytesValue).isEqual(ds(u.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(o,u){return Et(o.geoPointValue.latitude)===Et(u.geoPointValue.latitude)&&Et(o.geoPointValue.longitude)===Et(u.geoPointValue.longitude)})(t,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Et(o.integerValue)===Et(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const c=Et(o.doubleValue),d=Et(u.doubleValue);return c===d?kh(c)===kh(d):isNaN(c)&&isNaN(d)}return!1})(t,e);case 9:return Do(t.arrayValue.values||[],e.arrayValue.values||[],Ni);case 10:case 11:return(function(o,u){const c=o.mapValue.fields||{},d=u.mapValue.fields||{};if(mE(c)!==mE(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!Ni(c[p],d[p])))return!1;return!0})(t,e);default:return ve(52216,{left:t})}}function Tu(t,e){return(t.values||[]).find((n=>Ni(n,e)))!==void 0}function xo(t,e){if(t===e)return 0;const n=ms(t),s=ms(e);if(n!==s)return Ve(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ve(t.booleanValue,e.booleanValue);case 2:return(function(u,c){const d=Et(u.integerValue||u.doubleValue),p=Et(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1})(t,e);case 3:return gE(t.timestampValue,e.timestampValue);case 4:return gE(vu(t),vu(e));case 5:return Ep(t.stringValue,e.stringValue);case 6:return(function(u,c){const d=ds(u),p=ds(c);return d.compareTo(p)})(t.bytesValue,e.bytesValue);case 7:return(function(u,c){const d=u.split("/"),p=c.split("/");for(let g=0;g<d.length&&g<p.length;g++){const _=Ve(d[g],p[g]);if(_!==0)return _}return Ve(d.length,p.length)})(t.referenceValue,e.referenceValue);case 8:return(function(u,c){const d=Ve(Et(u.latitude),Et(c.latitude));return d!==0?d:Ve(Et(u.longitude),Et(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return yE(t.arrayValue,e.arrayValue);case 10:return(function(u,c){const d=u.fields||{},p=c.fields||{},g=d[Uh]?.arrayValue,_=p[Uh]?.arrayValue,T=Ve(g?.values?.length||0,_?.values?.length||0);return T!==0?T:yE(g,_)})(t.mapValue,e.mapValue);case 11:return(function(u,c){if(u===hh.mapValue&&c===hh.mapValue)return 0;if(u===hh.mapValue)return 1;if(c===hh.mapValue)return-1;const d=u.fields||{},p=Object.keys(d),g=c.fields||{},_=Object.keys(g);p.sort(),_.sort();for(let T=0;T<p.length&&T<_.length;++T){const b=Ep(p[T],_[T]);if(b!==0)return b;const D=xo(d[p[T]],g[_[T]]);if(D!==0)return D}return Ve(p.length,_.length)})(t.mapValue,e.mapValue);default:throw ve(23264,{he:n})}}function gE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ve(t,e);const n=fs(t),s=fs(e),o=Ve(n.seconds,s.seconds);return o!==0?o:Ve(n.nanos,s.nanos)}function yE(t,e){const n=t.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=xo(n[o],s[o]);if(u)return u}return Ve(n.length,s.length)}function Oo(t){return Tp(t)}function Tp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const s=fs(n);return`time(${s.seconds},${s.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return ds(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return ge.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Tp(u);return s+"]"})(t.arrayValue):"mapValue"in t?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const c of s)u?u=!1:o+=",",o+=`${c}:${Tp(n.fields[c])}`;return o+"}"})(t.mapValue):ve(61005,{value:t})}function Th(t){switch(ms(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=yf(t);return e?16+Th(e):16;case 5:return 2*t.stringValue.length;case 6:return ds(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Th(u)),0)})(t.arrayValue);case 10:case 11:return(function(s){let o=0;return _s(s.fields,((u,c)=>{o+=u.length+Th(c)})),o})(t.mapValue);default:throw ve(13486,{value:t})}}function Ap(t){return!!t&&"integerValue"in t}function fg(t){return!!t&&"arrayValue"in t}function _E(t){return!!t&&"nullValue"in t}function vE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ah(t){return!!t&&"mapValue"in t}function AO(t){return(t?.mapValue?.fields||{})[ob]?.stringValue===lb}function fu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return _s(t.mapValue.fields,((n,s)=>e.mapValue.fields[n]=fu(s))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=fu(t.arrayValue.values[n]);return e}return{...t}}function bO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===TO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.value=e}static empty(){return new _n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Ah(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=fu(n)}setAll(e){let n=Kt.emptyPath(),s={},o=[];e.forEach(((c,d)=>{if(!n.isImmediateParentOf(d)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=d.popLast()}c?s[d.lastSegment()]=fu(c):o.push(d.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Ah(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ni(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Ah(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){_s(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new _n(fu(this.value))}}function ub(t){const e=[];return _s(t.fields,((n,s)=>{const o=new Kt([n]);if(Ah(s)){const u=ub(s.mapValue).fields;if(u.length===0)e.push(o);else for(const c of u)e.push(o.child(c))}else e.push(o)})),new Cn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e,n,s,o,u,c,d){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=c,this.documentState=d}static newInvalidDocument(e){return new nn(e,0,be.min(),be.min(),be.min(),_n.empty(),0)}static newFoundDocument(e,n,s,o){return new nn(e,1,n,be.min(),s,o,0)}static newNoDocument(e,n){return new nn(e,2,n,be.min(),be.min(),_n.empty(),0)}static newUnknownDocument(e,n){return new nn(e,3,n,be.min(),be.min(),_n.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e,n){this.position=e,this.inclusive=n}}function EE(t,e,n){let s=0;for(let o=0;o<t.position.length;o++){const u=e[o],c=t.position[o];if(u.field.isKeyField()?s=ge.comparator(ge.fromName(c.referenceValue),n.key):s=xo(c,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function TE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ni(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e,n="asc"){this.field=e,this.dir=n}}function SO(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{}class Ot extends cb{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new RO(e,n,s):n==="array-contains"?new DO(e,s):n==="in"?new xO(e,s):n==="not-in"?new OO(e,s):n==="array-contains-any"?new NO(e,s):new Ot(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new IO(e,s):new CO(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(xo(n,this.value)):n!==null&&ms(this.value)===ms(n)&&this.matchesComparison(xo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Mi extends cb{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Mi(e,n)}matches(e){return hb(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function hb(t){return t.op==="and"}function fb(t){return wO(t)&&hb(t)}function wO(t){for(const e of t.filters)if(e instanceof Mi)return!1;return!0}function bp(t){if(t instanceof Ot)return t.field.canonicalString()+t.op.toString()+Oo(t.value);if(fb(t))return t.filters.map((e=>bp(e))).join(",");{const e=t.filters.map((n=>bp(n))).join(",");return`${t.op}(${e})`}}function db(t,e){return t instanceof Ot?(function(s,o){return o instanceof Ot&&s.op===o.op&&s.field.isEqual(o.field)&&Ni(s.value,o.value)})(t,e):t instanceof Mi?(function(s,o){return o instanceof Mi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,c,d)=>u&&db(c,o.filters[d])),!0):!1})(t,e):void ve(19439)}function mb(t){return t instanceof Ot?(function(n){return`${n.field.canonicalString()} ${n.op} ${Oo(n.value)}`})(t):t instanceof Mi?(function(n){return n.op.toString()+" {"+n.getFilters().map(mb).join(" ,")+"}"})(t):"Filter"}class RO extends Ot{constructor(e,n,s){super(e,n,s),this.key=ge.fromName(s.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class IO extends Ot{constructor(e,n){super(e,"in",n),this.keys=pb("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class CO extends Ot{constructor(e,n){super(e,"not-in",n),this.keys=pb("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function pb(t,e){return(e.arrayValue?.values||[]).map((n=>ge.fromName(n.referenceValue)))}class DO extends Ot{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return fg(n)&&Tu(n.arrayValue,this.value)}}class xO extends Ot{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Tu(this.value.arrayValue,n)}}class OO extends Ot{constructor(e,n){super(e,"not-in",n)}matches(e){if(Tu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Tu(this.value.arrayValue,n)}}class NO extends Ot{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!fg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Tu(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(e,n=null,s=[],o=[],u=null,c=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=c,this.endAt=d,this.Te=null}}function AE(t,e=null,n=[],s=[],o=null,u=null,c=null){return new MO(t,e,n,s,o,u,c)}function dg(t){const e=we(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>bp(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),gf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Oo(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Oo(s))).join(",")),e.Te=n}return e.Te}function mg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!SO(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!db(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!TE(t.startAt,e.startAt)&&TE(t.endAt,e.endAt)}function Sp(t){return ge.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(e,n=null,s=[],o=[],u=null,c="F",d=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=c,this.startAt=d,this.endAt=p,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function PO(t,e,n,s,o,u,c,d){return new _f(t,e,n,s,o,u,c,d)}function vf(t){return new _f(t)}function bE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function VO(t){return ge.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function kO(t){return t.collectionGroup!==null}function du(t){const e=we(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Mt(Kt.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(d=d.add(g.field))}))})),d})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new zh(u,s))})),n.has(Kt.keyField().canonicalString())||e.Ie.push(new zh(Kt.keyField(),s))}return e.Ie}function Ri(t){const e=we(t);return e.Ee||(e.Ee=LO(e,du(t))),e.Ee}function LO(t,e){if(t.limitType==="F")return AE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new zh(o.field,u)}));const n=t.endAt?new Bh(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Bh(t.startAt.position,t.startAt.inclusive):null;return AE(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function wp(t,e,n){return new _f(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ef(t,e){return mg(Ri(t),Ri(e))&&t.limitType===e.limitType}function gb(t){return`${dg(Ri(t))}|lt:${t.limitType}`}function fo(t){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>mb(o))).join(", ")}]`),gf(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>Oo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>Oo(o))).join(",")),`Target(${s})`})(Ri(t))}; limitType=${t.limitType})`}function Tf(t,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ge.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(t,e)&&(function(s,o){for(const u of du(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(t,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(t,e)&&(function(s,o){return!(s.startAt&&!(function(c,d,p){const g=EE(c,d,p);return c.inclusive?g<=0:g<0})(s.startAt,du(s),o)||s.endAt&&!(function(c,d,p){const g=EE(c,d,p);return c.inclusive?g>=0:g>0})(s.endAt,du(s),o))})(t,e)}function UO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function yb(t){return(e,n)=>{let s=!1;for(const o of du(t)){const u=BO(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function BO(t,e,n){const s=t.field.isKeyField()?ge.comparator(e.key,n.key):(function(u,c,d){const p=c.data.field(u),g=d.data.field(u);return p!==null&&g!==null?xo(p,g):ve(42886)})(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return ve(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){_s(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return tb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zO=new ct(ge.comparator);function cr(){return zO}const _b=new ct(ge.comparator);function au(...t){let e=_b;for(const n of t)e=e.insert(n.key,n);return e}function vb(t){let e=_b;return t.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function ra(){return mu()}function Eb(){return mu()}function mu(){return new ya((t=>t.toString()),((t,e)=>t.isEqual(e)))}const jO=new ct(ge.comparator),FO=new Mt(ge.comparator);function ke(...t){let e=FO;for(const n of t)e=e.add(n);return e}const qO=new Mt(Ve);function HO(){return qO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:kh(e)?"-0":e}}function Tb(t){return{integerValue:""+t}}function GO(t,e){return pO(e)?Tb(e):pg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(){this._=void 0}}function YO(t,e,n){return t instanceof jh?(function(o,u){const c={fields:{[rb]:{stringValue:ib},[ab]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&hg(u)&&(u=yf(u)),u&&(c.fields[sb]=u),{mapValue:c}})(n,e):t instanceof Au?bb(t,e):t instanceof bu?Sb(t,e):(function(o,u){const c=Ab(o,u),d=SE(c)+SE(o.Ae);return Ap(c)&&Ap(o.Ae)?Tb(d):pg(o.serializer,d)})(t,e)}function KO(t,e,n){return t instanceof Au?bb(t,e):t instanceof bu?Sb(t,e):n}function Ab(t,e){return t instanceof Fh?(function(s){return Ap(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class jh extends Af{}class Au extends Af{constructor(e){super(),this.elements=e}}function bb(t,e){const n=wb(e);for(const s of t.elements)n.some((o=>Ni(o,s)))||n.push(s);return{arrayValue:{values:n}}}class bu extends Af{constructor(e){super(),this.elements=e}}function Sb(t,e){let n=wb(e);for(const s of t.elements)n=n.filter((o=>!Ni(o,s)));return{arrayValue:{values:n}}}class Fh extends Af{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function SE(t){return Et(t.integerValue||t.doubleValue)}function wb(t){return fg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function $O(t,e){return t.field.isEqual(e.field)&&(function(s,o){return s instanceof Au&&o instanceof Au||s instanceof bu&&o instanceof bu?Do(s.elements,o.elements,Ni):s instanceof Fh&&o instanceof Fh?Ni(s.Ae,o.Ae):s instanceof jh&&o instanceof jh})(t.transform,e.transform)}class QO{constructor(e,n){this.version=e,this.transformResults=n}}class Ii{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ii}static exists(e){return new Ii(void 0,e)}static updateTime(e){return new Ii(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function bh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class bf{}function Rb(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Cb(t.key,Ii.none()):new Lu(t.key,t.data,Ii.none());{const n=t.data,s=_n.empty();let o=new Mt(Kt.comparator);for(let u of e.fields)if(!o.has(u)){let c=n.field(u);c===null&&u.length>1&&(u=u.popLast(),c=n.field(u)),c===null?s.delete(u):s.set(u,c),o=o.add(u)}return new vs(t.key,s,new Cn(o.toArray()),Ii.none())}}function XO(t,e,n){t instanceof Lu?(function(o,u,c){const d=o.value.clone(),p=RE(o.fieldTransforms,u,c.transformResults);d.setAll(p),u.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(t,e,n):t instanceof vs?(function(o,u,c){if(!bh(o.precondition,u))return void u.convertToUnknownDocument(c.version);const d=RE(o.fieldTransforms,u,c.transformResults),p=u.data;p.setAll(Ib(o)),p.setAll(d),u.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(t,e,n):(function(o,u,c){u.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function pu(t,e,n,s){return t instanceof Lu?(function(u,c,d,p){if(!bh(u.precondition,c))return d;const g=u.value.clone(),_=IE(u.fieldTransforms,p,c);return g.setAll(_),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(t,e,n,s):t instanceof vs?(function(u,c,d,p){if(!bh(u.precondition,c))return d;const g=IE(u.fieldTransforms,p,c),_=c.data;return _.setAll(Ib(u)),_.setAll(g),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),d===null?null:d.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(t,e,n,s):(function(u,c,d){return bh(u.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(t,e,n)}function WO(t,e){let n=null;for(const s of t.fieldTransforms){const o=e.data.field(s.field),u=Ab(s.transform,o||null);u!=null&&(n===null&&(n=_n.empty()),n.set(s.field,u))}return n||null}function wE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Do(s,o,((u,c)=>$O(u,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Lu extends bf{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class vs extends bf{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Ib(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}})),e}function RE(t,e,n){const s=new Map;Fe(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let o=0;o<n.length;o++){const u=t[o],c=u.transform,d=e.data.field(u.field);s.set(u.field,KO(c,d,n[o]))}return s}function IE(t,e,n){const s=new Map;for(const o of t){const u=o.transform,c=n.data.field(o.field);s.set(o.field,YO(u,c,e))}return s}class Cb extends bf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ZO extends bf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&XO(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=pu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=pu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=Eb();return this.mutations.forEach((o=>{const u=e.get(o.key),c=u.overlayedDocument;let d=this.applyToLocalView(c,u.mutatedFields);d=n.has(o.key)?null:d;const p=Rb(c,d);p!==null&&s.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(be.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ke())}isEqual(e){return this.batchId===e.batchId&&Do(this.mutations,e.mutations,((n,s)=>wE(n,s)))&&Do(this.baseMutations,e.baseMutations,((n,s)=>wE(n,s)))}}class gg{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Fe(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return jO})();const u=e.mutations;for(let c=0;c<u.length;c++)o=o.insert(u[c].key,s[c].version);return new gg(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bt,Ue;function nN(t){switch(t){case ee.OK:return ve(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return ve(15467,{code:t})}}function Db(t){if(t===void 0)return ur("GRPC error has no .code"),ee.UNKNOWN;switch(t){case bt.OK:return ee.OK;case bt.CANCELLED:return ee.CANCELLED;case bt.UNKNOWN:return ee.UNKNOWN;case bt.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case bt.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case bt.INTERNAL:return ee.INTERNAL;case bt.UNAVAILABLE:return ee.UNAVAILABLE;case bt.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case bt.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case bt.NOT_FOUND:return ee.NOT_FOUND;case bt.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case bt.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case bt.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case bt.ABORTED:return ee.ABORTED;case bt.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case bt.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case bt.DATA_LOSS:return ee.DATA_LOSS;default:return ve(39323,{code:t})}}(Ue=bt||(bt={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN=new as([4294967295,4294967295],0);function CE(t){const e=iN().encode(t),n=new GA;return n.update(e),new Uint8Array(n.digest())}function DE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new as([n,s],0),new as([o,u],0)]}class yg{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new ou(`Invalid padding: ${n}`);if(s<0)throw new ou(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new ou(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new ou(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=as.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(as.fromNumber(s)));return o.compare(rN)===1&&(o=new as([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=CE(e),[s,o]=DE(n);for(let u=0;u<this.hashCount;u++){const c=this.ye(s,o,u);if(!this.we(c))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),c=new yg(u,o,n);return s.forEach((d=>c.insert(d))),c}insert(e){if(this.ge===0)return;const n=CE(e),[s,o]=DE(n);for(let u=0;u<this.hashCount;u++){const c=this.ye(s,o,u);this.be(c)}}be(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class ou extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Uu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Sf(be.min(),o,new ct(Ve),cr(),ke())}}class Uu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Uu(s,n,ke(),ke(),ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e,n,s,o){this.Se=e,this.removedTargetIds=n,this.key=s,this.De=o}}class xb{constructor(e,n){this.targetId=e,this.Ce=n}}class Ob{constructor(e,n,s=Qt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class xE{constructor(){this.ve=0,this.Fe=OE(),this.Me=Qt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ke(),n=ke(),s=ke();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:ve(38017,{changeType:u})}})),new Uu(this.Me,this.xe,e,n,s)}Ke(){this.Oe=!1,this.Fe=OE()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Fe(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class sN{constructor(e){this.Ge=e,this.ze=new Map,this.je=cr(),this.He=fh(),this.Je=fh(),this.Ze=new ct(Ve)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:ve(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Sp(u))if(s===0){const c=new ge(u.path);this.et(n,c,nn.newNoDocument(c,be.min()))}else Fe(s===1,20013,{expectedCount:s});else{const c=this._t(n);if(c!==s){const d=this.ut(e),p=d?this.ct(d,e,c):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let c,d;try{c=ds(s).toUint8Array()}catch(p){if(p instanceof nb)return Co("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new yg(c,o,u)}catch(p){return Co(p instanceof ou?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.ge===0?null:d}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${u.path.canonicalString()}`;e.mightContain(d)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,c)=>{const d=this.ot(c);if(d){if(u.current&&Sp(d.target)){const p=new ge(d.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,nn.newNoDocument(p,e))}u.Be&&(n.set(c,u.ke()),u.Ke())}}));let s=ke();this.Je.forEach(((u,c)=>{let d=!0;c.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(s=s.add(u))})),this.je.forEach(((u,c)=>c.setReadTime(e)));const o=new Sf(e,n,this.Ze,this.je,s);return this.je=cr(),this.He=fh(),this.Je=fh(),this.Ze=new ct(Ve),o}Ye(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new xE,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Mt(Ve),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Mt(Ve),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new xE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function fh(){return new ct(ge.comparator)}function OE(){return new ct(ge.comparator)}const aN={asc:"ASCENDING",desc:"DESCENDING"},oN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},lN={and:"AND",or:"OR"};class uN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Rp(t,e){return t.useProto3Json||gf(e)?e:{value:e}}function qh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Nb(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function cN(t,e){return qh(t,e.toTimestamp())}function Ci(t){return Fe(!!t,49232),be.fromTimestamp((function(n){const s=fs(n);return new et(s.seconds,s.nanos)})(t))}function _g(t,e){return Ip(t,e).canonicalString()}function Ip(t,e){const n=(function(o){return new ut(["projects",o.projectId,"databases",o.database])})(t).child("documents");return e===void 0?n:n.child(e)}function Mb(t){const e=ut.fromString(t);return Fe(Ub(e),10190,{key:e.toString()}),e}function Cp(t,e){return _g(t.databaseId,e.path)}function Zm(t,e){const n=Mb(e);if(n.get(1)!==t.databaseId.projectId)throw new he(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new he(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ge(Vb(n))}function Pb(t,e){return _g(t.databaseId,e)}function hN(t){const e=Mb(t);return e.length===4?ut.emptyPath():Vb(e)}function Dp(t){return new ut(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Vb(t){return Fe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function NE(t,e,n){return{name:Cp(t,e),fields:n.value.mapValue.fields}}function fN(t,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:ve(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,_){return g.useProto3Json?(Fe(_===void 0||typeof _=="string",58123),Qt.fromBase64String(_||"")):(Fe(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),Qt.fromUint8Array(_||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(g){const _=g.code===void 0?ee.UNKNOWN:Db(g.code);return new he(_,g.message||"")})(c);n=new Ob(s,o,u,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Zm(t,s.document.name),u=Ci(s.document.updateTime),c=s.document.createTime?Ci(s.document.createTime):be.min(),d=new _n({mapValue:{fields:s.document.fields}}),p=nn.newFoundDocument(o,u,c,d),g=s.targetIds||[],_=s.removedTargetIds||[];n=new Sh(g,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Zm(t,s.document),u=s.readTime?Ci(s.readTime):be.min(),c=nn.newNoDocument(o,u),d=s.removedTargetIds||[];n=new Sh([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Zm(t,s.document),u=s.removedTargetIds||[];n=new Sh([],u,o,null)}else{if(!("filter"in e))return ve(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,c=new tN(o,u),d=s.targetId;n=new xb(d,c)}}return n}function dN(t,e){let n;if(e instanceof Lu)n={update:NE(t,e.key,e.value)};else if(e instanceof Cb)n={delete:Cp(t,e.key)};else if(e instanceof vs)n={update:NE(t,e.key,e.data),updateMask:AN(e.fieldMask)};else{if(!(e instanceof ZO))return ve(16599,{dt:e.type});n={verify:Cp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,c){const d=c.transform;if(d instanceof jh)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Au)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof bu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Fh)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw ve(20930,{transform:c.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:cN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:ve(27497)})(t,e.precondition)),n}function mN(t,e){return t&&t.length>0?(Fe(e!==void 0,14353),t.map((n=>(function(o,u){let c=o.updateTime?Ci(o.updateTime):Ci(u);return c.isEqual(be.min())&&(c=Ci(u)),new QO(c,o.transformResults||[])})(n,e)))):[]}function pN(t,e){return{documents:[Pb(t,e.path)]}}function gN(t,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Pb(t,o);const u=(function(g){if(g.length!==0)return Lb(Mi.create(g,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const c=(function(g){if(g.length!==0)return g.map((_=>(function(b){return{field:mo(b.field),direction:vN(b.dir)}})(_)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const d=Rp(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:o}}function yN(t){let e=hN(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Fe(s===1,65062);const _=n.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let u=[];n.where&&(u=(function(T){const b=kb(T);return b instanceof Mi&&fb(b)?b.getFilters():[b]})(n.where));let c=[];n.orderBy&&(c=(function(T){return T.map((b=>(function(j){return new zh(po(j.field),(function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(j.direction))})(b)))})(n.orderBy));let d=null;n.limit&&(d=(function(T){let b;return b=typeof T=="object"?T.value:T,gf(b)?null:b})(n.limit));let p=null;n.startAt&&(p=(function(T){const b=!!T.before,D=T.values||[];return new Bh(D,b)})(n.startAt));let g=null;return n.endAt&&(g=(function(T){const b=!T.before,D=T.values||[];return new Bh(D,b)})(n.endAt)),PO(e,o,c,u,d,"F",p,g)}function _N(t,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function kb(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=po(n.unaryFilter.field);return Ot.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=po(n.unaryFilter.field);return Ot.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=po(n.unaryFilter.field);return Ot.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=po(n.unaryFilter.field);return Ot.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ve(61313);default:return ve(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Ot.create(po(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ve(58110);default:return ve(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Mi.create(n.compositeFilter.filters.map((s=>kb(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ve(1026)}})(n.compositeFilter.op))})(t):ve(30097,{filter:t})}function vN(t){return aN[t]}function EN(t){return oN[t]}function TN(t){return lN[t]}function mo(t){return{fieldPath:t.canonicalString()}}function po(t){return Kt.fromServerFormat(t.fieldPath)}function Lb(t){return t instanceof Ot?(function(n){if(n.op==="=="){if(vE(n.value))return{unaryFilter:{field:mo(n.field),op:"IS_NAN"}};if(_E(n.value))return{unaryFilter:{field:mo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(vE(n.value))return{unaryFilter:{field:mo(n.field),op:"IS_NOT_NAN"}};if(_E(n.value))return{unaryFilter:{field:mo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:mo(n.field),op:EN(n.op),value:n.value}}})(t):t instanceof Mi?(function(n){const s=n.getFilters().map((o=>Lb(o)));return s.length===1?s[0]:{compositeFilter:{op:TN(n.op),filters:s}}})(t):ve(54877,{filter:t})}function AN(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Ub(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function Bb(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(e,n,s,o,u=be.min(),c=be.min(),d=Qt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new ts(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(e){this.yt=e}}function SN(t){const e=yN({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?wp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(){this.Sn=new RN}addToCollectionParentIndex(e,n){return this.Sn.add(n),Z.resolve()}getCollectionParents(e,n){return Z.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return Z.resolve()}deleteFieldIndex(e,n){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,n){return Z.resolve()}getDocumentsMatchingTarget(e,n){return Z.resolve(null)}getIndexType(e,n){return Z.resolve(0)}getFieldIndexes(e,n){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,n){return Z.resolve(hs.min())}getMinOffsetFromCollectionGroup(e,n){return Z.resolve(hs.min())}updateCollectionGroup(e,n,s){return Z.resolve()}updateIndexEntries(e,n){return Z.resolve()}}class RN{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Mt(ut.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Mt(ut.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},zb=41943040;class yn{static withCacheSize(e){return new yn(e,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yn.DEFAULT_COLLECTION_PERCENTILE=10,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yn.DEFAULT=new yn(zb,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yn.DISABLED=new yn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new No(0)}static ar(){return new No(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE="LruGarbageCollector",IN=1048576;function VE([t,e],[n,s]){const o=Ve(t,n);return o===0?Ve(e,s):o}class CN{constructor(e){this.Pr=e,this.buffer=new Mt(VE),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();VE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class DN{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ue(PE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ho(n)?ue(PE,"Ignoring IndexedDB error during garbage collection: ",n):await qo(n)}await this.Ar(3e5)}))}}class xN{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return Z.resolve(pf.ce);const s=new CN(n);return this.Vr.forEachTarget(e,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(ME)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ME):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let s,o,u,c,d,p,g;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,c=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(s=T,d=Date.now(),this.removeTargets(e,s,n)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(g=Date.now(),ho()<=Pe.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${o} in `+(d-c)+`ms
	Removed ${u} targets in `+(p-d)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-_}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function ON(t,e){return new xN(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(){this.changes=new ya((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,nn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?Z.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&pu(s.mutation,o,Cn.empty(),et.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,ke()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=ke()){const o=ra();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let c=au();return u.forEach(((d,p)=>{c=c.insert(d,p.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const s=ra();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,ke())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((c,d)=>{n.set(c,d)}))}))}computeViews(e,n,s,o){let u=cr();const c=mu(),d=(function(){return mu()})();return n.forEach(((p,g)=>{const _=s.get(g.key);o.has(g.key)&&(_===void 0||_.mutation instanceof vs)?u=u.insert(g.key,g):_!==void 0?(c.set(g.key,_.mutation.getFieldMask()),pu(_.mutation,g,_.mutation.getFieldMask(),et.now())):c.set(g.key,Cn.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((g,_)=>c.set(g,_))),n.forEach(((g,_)=>d.set(g,new MN(_,c.get(g)??null)))),d)))}recalculateAndSaveOverlays(e,n){const s=mu();let o=new ct(((c,d)=>c-d)),u=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const d of c)d.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let _=s.get(p)||Cn.empty();_=d.applyToLocalView(g,_),s.set(p,_);const T=(o.get(d.batchId)||ke()).add(p);o=o.insert(d.batchId,T)}))})).next((()=>{const c=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,_=p.value,T=Eb();_.forEach((b=>{if(!u.has(b)){const D=Rb(n.get(b),s.get(b));D!==null&&T.set(b,D),u=u.add(b)}})),c.push(this.documentOverlayCache.saveOverlays(e,g,T))}return Z.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return VO(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):kO(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const c=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):Z.resolve(ra());let d=_u,p=u;return c.next((g=>Z.forEach(g,((_,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),u.get(_)?Z.resolve():this.remoteDocumentCache.getEntry(e,_).next((b=>{p=p.insert(_,b)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,p,g,ke()))).next((_=>({batchId:d,changes:vb(_)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next((s=>{let o=au();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let c=au();return this.indexManager.getCollectionParents(e,u).next((d=>Z.forEach(d,(p=>{const g=(function(T,b){return new _f(b,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((_=>{_.forEach(((T,b)=>{c=c.insert(T,b)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((c=>(u=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((c=>{u.forEach(((p,g)=>{const _=g.getKey();c.get(_)===null&&(c=c.insert(_,nn.newInvalidDocument(_)))}));let d=au();return c.forEach(((p,g)=>{const _=u.get(p);_!==void 0&&pu(_.mutation,g,Cn.empty(),et.now()),Tf(n,g)&&(d=d.insert(p,g))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return Z.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Ci(o.createTime)}})(n)),Z.resolve()}getNamedQuery(e,n){return Z.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:SN(o.bundledQuery),readTime:Ci(o.readTime)}})(n)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(){this.overlays=new ct(ge.comparator),this.Lr=new Map}getOverlay(e,n){return Z.resolve(this.overlays.get(n))}getOverlays(e,n){const s=ra();return Z.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.bt(e,n,u)})),Z.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Lr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(s)),Z.resolve()}getOverlaysForCollection(e,n,s){const o=ra(),u=n.length+1,c=new ge(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ct(((g,_)=>g-_));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let _=u.get(g.largestBatchId);_===null&&(_=ra(),u=u.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const d=ra(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,_)=>d.set(g,_))),!(d.size()>=o)););return Z.resolve(d)}bt(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const c=this.Lr.get(o.largestBatchId).delete(s.key);this.Lr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new eN(n,s));let u=this.Lr.get(n);u===void 0&&(u=ke(),this.Lr.set(n,u)),this.Lr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(){this.sessionToken=Qt.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(){this.kr=new Mt(zt.Kr),this.qr=new Mt(zt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const s=new zt(e,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Wr(new zt(e,n))}Qr(e,n){e.forEach((s=>this.removeReference(s,n)))}Gr(e){const n=new ge(new ut([])),s=new zt(n,e),o=new zt(n,e+1),u=[];return this.qr.forEachInRange([s,o],(c=>{this.Wr(c),u.push(c.key)})),u}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new ge(new ut([])),s=new zt(n,e),o=new zt(n,e+1);let u=ke();return this.qr.forEachInRange([s,o],(c=>{u=u.add(c.key)})),u}containsKey(e){const n=new zt(e,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class zt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return ge.comparator(e.key,n.key)||Ve(e.Hr,n.Hr)}static Ur(e,n){return Ve(e.Hr,n.Hr)||ge.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Mt(zt.Kr)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new JO(u,n,s,o);this.mutationQueue.push(c);for(const d of o)this.Jr=this.Jr.add(new zt(d.key,u)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return Z.resolve(c)}lookupMutationBatch(e,n){return Z.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Xr(s),u=o<0?0:o;return Z.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?cg:this.Yn-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new zt(n,0),o=new zt(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([s,o],(c=>{const d=this.Zr(c.Hr);u.push(d)})),Z.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Mt(Ve);return n.forEach((o=>{const u=new zt(o,0),c=new zt(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,c],(d=>{s=s.add(d.Hr)}))})),Z.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ge.isDocumentKey(u)||(u=u.child(""));const c=new zt(new ge(u),0);let d=new Mt(Ve);return this.Jr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(d=d.add(p.Hr)),!0)}),c),Z.resolve(this.Yr(d))}Yr(e){const n=[];return e.forEach((s=>{const o=this.Zr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Fe(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return Z.forEach(n.mutations,(o=>{const u=new zt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,n){const s=new zt(n,0),o=this.Jr.firstAfterOrEqual(s);return Z.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(e){this.ti=e,this.docs=(function(){return new ct(ge.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,c=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return Z.resolve(s?s.document.mutableCopy():nn.newInvalidDocument(n))}getEntries(e,n){let s=cr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():nn.newInvalidDocument(o))})),Z.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=cr();const c=n.path,d=new ge(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:_}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||hO(cO(_),s)<=0||(o.has(_.key)||Tf(n,_))&&(u=u.insert(_.key,_.mutableCopy()))}return Z.resolve(u)}getAllFromCollectionGroup(e,n,s,o){ve(9500)}ni(e,n){return Z.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new zN(this)}getSize(e){return Z.resolve(this.size)}}class zN extends NN{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(s)})),Z.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(e){this.persistence=e,this.ri=new ya((n=>dg(n)),mg),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.ii=0,this.si=new vg,this.targetCount=0,this.oi=No._r()}forEachTarget(e,n){return this.ri.forEach(((s,o)=>n(o))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),Z.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new No(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,Z.resolve()}updateTargetData(e,n){return this.lr(n),Z.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.ri.forEach(((c,d)=>{d.sequenceNumber<=n&&s.get(d.targetId)===null&&(this.ri.delete(c),u.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)})),Z.waitFor(u).next((()=>o))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,n){const s=this.ri.get(n)||null;return Z.resolve(s)}addMatchingKeys(e,n,s){return this.si.$r(n,s),Z.resolve()}removeMatchingKeys(e,n,s){this.si.Qr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((c=>{u.push(o.markPotentiallyOrphaned(e,c))})),Z.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),Z.resolve()}getMatchingKeysForTargetId(e,n){const s=this.si.jr(n);return Z.resolve(s)}containsKey(e,n){return Z.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(e,n){this._i={},this.overlays={},this.ai=new pf(0),this.ui=!1,this.ui=!0,this.ci=new LN,this.referenceDelegate=e(this),this.li=new jN(this),this.indexManager=new wN,this.remoteDocumentCache=(function(o){return new BN(o)})((s=>this.referenceDelegate.hi(s))),this.serializer=new bN(n),this.Pi=new VN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new kN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this._i[e.toKey()];return s||(s=new UN(n,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,s){ue("MemoryPersistence","Starting transaction:",e);const o=new FN(this.ai.next());return this.referenceDelegate.Ti(),s(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(e,n){return Z.or(Object.values(this._i).map((s=>()=>s.containsKey(e,n))))}}class FN extends dO{constructor(e){super(),this.currentSequenceNumber=e}}class Eg{constructor(e){this.persistence=e,this.Ri=new vg,this.Ai=null}static Vi(e){return new Eg(e)}get di(){if(this.Ai)return this.Ai;throw ve(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),Z.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),Z.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),Z.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.di,(s=>{const o=ge.fromPath(s);return this.mi(e,o).next((u=>{u||n.removeEntry(o,be.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return Z.or([()=>Z.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Hh{constructor(e,n){this.persistence=e,this.fi=new ya((s=>gO(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=ON(this,n)}static Vi(e,n){return new Hh(e,n)}Ti(){}Ii(e){return Z.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}pr(e){let n=0;return this.mr(e,(s=>{n++})).next((()=>n))}mr(e,n){return Z.forEach(this.fi,((s,o)=>this.wr(e,s,o).next((u=>u?Z.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(e,(c=>this.wr(e,c,n).next((d=>{d||(s++,u.removeEntry(c,be.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),Z.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),Z.resolve()}removeReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),Z.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Th(e.data.value)),n}wr(e,n,s){return Z.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return Z.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Ts=s,this.Is=o}static Es(e,n){let s=ke(),o=ke();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Tg(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return DC()?8:mO(rn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.gs(e,n).next((c=>{u.result=c})).next((()=>{if(!u.result)return this.ps(e,n,o,s).next((c=>{u.result=c}))})).next((()=>{if(u.result)return;const c=new qN;return this.ys(e,n,c).next((d=>{if(u.result=d,this.As)return this.ws(e,n,c,d.size)}))})).next((()=>u.result))}ws(e,n,s,o){return s.documentReadCount<this.Vs?(ho()<=Pe.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",fo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Z.resolve()):(ho()<=Pe.DEBUG&&ue("QueryEngine","Query:",fo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(ho()<=Pe.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",fo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ri(n))):Z.resolve())}gs(e,n){if(bE(n))return Z.resolve(null);let s=Ri(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=wp(n,null,"F"),s=Ri(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const c=ke(...u);return this.fs.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.bs(n,d);return this.Ss(n,g,c,p.readTime)?this.gs(e,wp(n,null,"F")):this.Ds(e,g,n,p)}))))})))))}ps(e,n,s,o){return bE(n)||o.isEqual(be.min())?Z.resolve(null):this.fs.getDocuments(e,s).next((u=>{const c=this.bs(n,u);return this.Ss(n,c,s,o)?Z.resolve(null):(ho()<=Pe.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),fo(n)),this.Ds(e,c,n,uO(o,_u)).next((d=>d)))}))}bs(e,n){let s=new Mt(yb(e));return n.forEach(((o,u)=>{Tf(e,u)&&(s=s.add(u))})),s}Ss(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(e,n,s){return ho()<=Pe.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",fo(n)),this.fs.getDocumentsMatchingQuery(e,n,hs.min(),s)}Ds(e,n,s,o){return this.fs.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((c=>{u=u.insert(c.key,c)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ag="LocalStore",GN=3e8;class YN{constructor(e,n,s,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new ct(Ve),this.Fs=new ya((u=>dg(u)),mg),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new PN(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function KN(t,e,n,s){return new YN(t,e,n,s)}async function Fb(t,e){const n=we(t);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Os(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const c=[],d=[];let p=ke();for(const g of o){c.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}for(const g of u){d.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ns:g,removedBatchIds:c,addedBatchIds:d})))}))}))}function $N(t,e){const n=we(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(d,p,g,_){const T=g.batch,b=T.keys();let D=Z.resolve();return b.forEach((j=>{D=D.next((()=>_.getEntry(p,j))).next((Y=>{const F=g.docVersions.get(j);Fe(F!==null,48541),Y.version.compareTo(F)<0&&(T.applyToRemoteDocument(Y,g),Y.isValidDocument()&&(Y.setReadTime(g.commitVersion),_.addEntry(Y)))}))})),D.next((()=>d.mutationQueue.removeMutationBatch(p,T)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(d){let p=ke();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function qb(t){const e=we(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function QN(t,e){const n=we(t),s=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const c=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const d=[];e.targetChanges.forEach(((_,T)=>{const b=o.get(T);if(!b)return;d.push(n.li.removeMatchingKeys(u,_.removedDocuments,T).next((()=>n.li.addMatchingKeys(u,_.addedDocuments,T))));let D=b.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?D=D.withResumeToken(Qt.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):_.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(_.resumeToken,s)),o=o.insert(T,D),(function(Y,F,ne){return Y.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-Y.snapshotVersion.toMicroseconds()>=GN?!0:ne.addedDocuments.size+ne.modifiedDocuments.size+ne.removedDocuments.size>0})(b,D,_)&&d.push(n.li.updateTargetData(u,D))}));let p=cr(),g=ke();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(u,_))})),d.push(XN(u,c,e.documentUpdates).next((_=>{p=_.Bs,g=_.Ls}))),!s.isEqual(be.min())){const _=n.li.getLastRemoteSnapshotVersion(u).next((T=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,s)));d.push(_)}return Z.waitFor(d).next((()=>c.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.vs=o,u)))}function XN(t,e,n){let s=ke(),o=ke();return n.forEach((u=>s=s.add(u))),e.getEntries(t,s).next((u=>{let c=cr();return n.forEach(((d,p)=>{const g=u.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(be.min())?(e.removeEntry(d,p.readTime),c=c.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),c=c.insert(d,p)):ue(Ag,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)})),{Bs:c,Ls:o}}))}function WN(t,e){const n=we(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=cg),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function ZN(t,e){const n=we(t);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.li.getTargetData(s,e).next((u=>u?(o=u,Z.resolve(o)):n.li.allocateTargetId(s).next((c=>(o=new ts(e,c,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.vs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(e,s.targetId)),s}))}async function xp(t,e,n){const s=we(t),o=s.vs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(c=>s.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!Ho(c))throw c;ue(Ag,`Failed to update sequence numbers for target ${e}: ${c}`)}s.vs=s.vs.remove(e),s.Fs.delete(o.target)}function kE(t,e,n){const s=we(t);let o=be.min(),u=ke();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,g,_){const T=we(p),b=T.Fs.get(_);return b!==void 0?Z.resolve(T.vs.get(b)):T.li.getTargetData(g,_)})(s,c,Ri(e)).next((d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(c,d.targetId).next((p=>{u=p}))})).next((()=>s.Cs.getDocumentsMatchingQuery(c,e,n?o:be.min(),n?u:ke()))).next((d=>(JN(s,UO(e),d),{documents:d,ks:u})))))}function JN(t,e,n){let s=t.Ms.get(e)||be.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),t.Ms.set(e,s)}class LE{constructor(){this.activeTargetIds=HO()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class eM{constructor(){this.vo=new LE,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,s){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new LE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE="ConnectivityMonitor";class BE{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ue(UE,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ue(UE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dh=null;function Op(){return dh===null?dh=(function(){return 268435456+Math.round(2147483648*Math.random())})():dh++,"0x"+dh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jm="RestConnection",nM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class iM{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.$o=this.databaseId.database===Lh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,n,s,o,u){const c=Op(),d=this.Qo(e,n.toUriEncodedString());ue(Jm,`Sending RPC '${e}' ${c}:`,d,s);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(p,o,u);const{host:g}=new URL(d),_=zo(g);return this.zo(e,d,p,s,_).then((T=>(ue(Jm,`Received RPC '${e}' ${c}: `,T),T)),(T=>{throw Co(Jm,`RPC '${e}' ${c} failed with error: `,T,"url: ",d,"request:",s),T}))}jo(e,n,s,o,u,c){return this.Wo(e,n,s,o,u)}Go(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Fo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}Qo(e,n){const s=nM[e];let o=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const en="WebChannelConnection",ru=(t,e,n)=>{t.listen(e,(s=>{try{n(s)}catch(o){setTimeout((()=>{throw o}),0)}}))};class bo extends iM{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!bo.c_){const e=QA();ru(e,$A.STAT_EVENT,(n=>{n.stat===vp.PROXY?ue(en,"STAT_EVENT: detected buffering proxy"):n.stat===vp.NOPROXY&&ue(en,"STAT_EVENT: detected no buffering proxy")})),bo.c_=!0}}zo(e,n,s,o,u){const c=Op();return new Promise(((d,p)=>{const g=new YA;g.setWithCredentials(!0),g.listenOnce(KA.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Eh.NO_ERROR:const T=g.getResponseJson();ue(en,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(T)),d(T);break;case Eh.TIMEOUT:ue(en,`RPC '${e}' ${c} timed out`),p(new he(ee.DEADLINE_EXCEEDED,"Request time out"));break;case Eh.HTTP_ERROR:const b=g.getStatus();if(ue(en,`RPC '${e}' ${c} failed with status:`,b,"response text:",g.getResponseText()),b>0){let D=g.getResponseJson();Array.isArray(D)&&(D=D[0]);const j=D?.error;if(j&&j.status&&j.message){const Y=(function(ne){const K=ne.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(K)>=0?K:ee.UNKNOWN})(j.status);p(new he(Y,j.message))}else p(new he(ee.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new he(ee.UNAVAILABLE,"Connection failed."));break;default:ve(9055,{l_:e,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ue(en,`RPC '${e}' ${c} completed.`)}}));const _=JSON.stringify(o);ue(en,`RPC '${e}' ${c} sending request:`,o),g.send(n,"POST",_,s,15)}))}T_(e,n,s){const o=Op(),u=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=this.createWebChannelTransport(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(d.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Go(d.initMessageHeaders,n,s),d.encodeInitMessageHeaders=!0;const g=u.join("");ue(en,`Creating RPC '${e}' stream ${o}: ${g}`,d);const _=c.createWebChannel(g,d);this.I_(_);let T=!1,b=!1;const D=new rM({Ho:j=>{b?ue(en,`Not sending because RPC '${e}' stream ${o} is closed:`,j):(T||(ue(en,`Opening RPC '${e}' stream ${o} transport.`),_.open(),T=!0),ue(en,`RPC '${e}' stream ${o} sending:`,j),_.send(j))},Jo:()=>_.close()});return ru(_,su.EventType.OPEN,(()=>{b||(ue(en,`RPC '${e}' stream ${o} transport opened.`),D.i_())})),ru(_,su.EventType.CLOSE,(()=>{b||(b=!0,ue(en,`RPC '${e}' stream ${o} transport closed`),D.o_(),this.E_(_))})),ru(_,su.EventType.ERROR,(j=>{b||(b=!0,Co(en,`RPC '${e}' stream ${o} transport errored. Name:`,j.name,"Message:",j.message),D.o_(new he(ee.UNAVAILABLE,"The operation could not be completed")))})),ru(_,su.EventType.MESSAGE,(j=>{if(!b){const Y=j.data[0];Fe(!!Y,16349);const F=Y,ne=F?.error||F[0]?.error;if(ne){ue(en,`RPC '${e}' stream ${o} received error:`,ne);const K=ne.status;let re=(function(Re){const x=bt[Re];if(x!==void 0)return Db(x)})(K),Ce=ne.message;re===void 0&&(re=ee.INTERNAL,Ce="Unknown error status: "+K+" with message "+ne.message),b=!0,D.o_(new he(re,Ce)),_.close()}else ue(en,`RPC '${e}' stream ${o} received:`,Y),D.__(Y)}})),bo.u_(),setTimeout((()=>{D.s_()}),0),D}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,s){super.Go(e,n,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return XA()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sM(t){return new bo(t)}function ep(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wf(t){return new uN(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bo.c_=!1;class Hb{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Ci=e,this.timerId=n,this.R_=s,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE="PersistentStream";class Gb{constructor(e,n,s,o,u,c,d,p){this.Ci=e,this.b_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Hb(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(ur(n.toString()),ur("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new he(ee.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ue(zE,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(ue(zE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class aM extends Gb{constructor(e,n,s,o,u,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,c),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=fN(this.serializer,e),s=(function(u){if(!("targetChange"in u))return be.min();const c=u.targetChange;return c.targetIds&&c.targetIds.length?be.min():c.readTime?Ci(c.readTime):be.min()})(e);return this.listener.J_(n,s)}Z_(e){const n={};n.database=Dp(this.serializer),n.addTarget=(function(u,c){let d;const p=c.target;if(d=Sp(p)?{documents:pN(u,p)}:{query:gN(u,p).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=Nb(u,c.resumeToken);const g=Rp(u,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(be.min())>0){d.readTime=qh(u,c.snapshotVersion.toTimestamp());const g=Rp(u,c.expectedCount);g!==null&&(d.expectedCount=g)}return d})(this.serializer,e);const s=_N(this.serializer,e);s&&(n.labels=s),this.K_(n)}X_(e){const n={};n.database=Dp(this.serializer),n.removeTarget=e,this.K_(n)}}class oM extends Gb{constructor(e,n,s,o,u,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,c),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Fe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Fe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=mN(e.writeResults,e.commitTime),s=Ci(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Dp(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>dN(this.serializer,s)))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{}class uM extends lM{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new he(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,c])=>this.connection.Wo(e,Ip(n,s),o,u,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new he(ee.UNKNOWN,u.toString())}))}jo(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.jo(e,Ip(n,s),o,c,d,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new he(ee.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function cM(t,e,n,s){return new uM(t,e,n,s)}class hM{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ur(n),this.aa=!1):ue("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca="RemoteStore";class fM{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((c=>{s.enqueueAndForget((async()=>{_a(this)&&(ue(ca,"Restarting streams for network reachability change."),await(async function(p){const g=we(p);g.Ea.add(4),await Bu(g),g.Va.set("Unknown"),g.Ea.delete(4),await Rf(g)})(this))}))})),this.Va=new hM(s,o)}}async function Rf(t){if(_a(t))for(const e of t.Ra)await e(!0)}async function Bu(t){for(const e of t.Ra)await e(!1)}function Yb(t,e){const n=we(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Rg(n)?wg(n):Go(n).O_()&&Sg(n,e))}function bg(t,e){const n=we(t),s=Go(n);n.Ia.delete(e),s.O_()&&Kb(n,e),n.Ia.size===0&&(s.O_()?s.L_():_a(n)&&n.Va.set("Unknown"))}function Sg(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Go(t).Z_(e)}function Kb(t,e){t.da.$e(e),Go(t).X_(e)}function wg(t){t.da=new sN({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Go(t).start(),t.Va.ua()}function Rg(t){return _a(t)&&!Go(t).x_()&&t.Ia.size>0}function _a(t){return we(t).Ea.size===0}function $b(t){t.da=void 0}async function dM(t){t.Va.set("Online")}async function mM(t){t.Ia.forEach(((e,n)=>{Sg(t,e)}))}async function pM(t,e){$b(t),Rg(t)?(t.Va.ha(e),wg(t)):t.Va.set("Unknown")}async function gM(t,e,n){if(t.Va.set("Online"),e instanceof Ob&&e.state===2&&e.cause)try{await(async function(o,u){const c=u.cause;for(const d of u.targetIds)o.Ia.has(d)&&(await o.remoteSyncer.rejectListen(d,c),o.Ia.delete(d),o.da.removeTarget(d))})(t,e)}catch(s){ue(ca,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Gh(t,s)}else if(e instanceof Sh?t.da.Xe(e):e instanceof xb?t.da.st(e):t.da.tt(e),!n.isEqual(be.min()))try{const s=await qb(t.localStore);n.compareTo(s)>=0&&await(function(u,c){const d=u.da.Tt(c);return d.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const _=u.Ia.get(g);_&&u.Ia.set(g,_.withResumeToken(p.resumeToken,c))}})),d.targetMismatches.forEach(((p,g)=>{const _=u.Ia.get(p);if(!_)return;u.Ia.set(p,_.withResumeToken(Qt.EMPTY_BYTE_STRING,_.snapshotVersion)),Kb(u,p);const T=new ts(_.target,p,g,_.sequenceNumber);Sg(u,T)})),u.remoteSyncer.applyRemoteEvent(d)})(t,n)}catch(s){ue(ca,"Failed to raise snapshot:",s),await Gh(t,s)}}async function Gh(t,e,n){if(!Ho(e))throw e;t.Ea.add(1),await Bu(t),t.Va.set("Offline"),n||(n=()=>qb(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ue(ca,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Rf(t)}))}function Qb(t,e){return e().catch((n=>Gh(t,n,e)))}async function If(t){const e=we(t),n=ps(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:cg;for(;yM(e);)try{const o=await WN(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,_M(e,o)}catch(o){await Gh(e,o)}Xb(e)&&Wb(e)}function yM(t){return _a(t)&&t.Ta.length<10}function _M(t,e){t.Ta.push(e);const n=ps(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function Xb(t){return _a(t)&&!ps(t).x_()&&t.Ta.length>0}function Wb(t){ps(t).start()}async function vM(t){ps(t).ra()}async function EM(t){const e=ps(t);for(const n of t.Ta)e.ea(n.mutations)}async function TM(t,e,n){const s=t.Ta.shift(),o=gg.from(s,e,n);await Qb(t,(()=>t.remoteSyncer.applySuccessfulWrite(o))),await If(t)}async function AM(t,e){e&&ps(t).Y_&&await(async function(s,o){if((function(c){return nN(c)&&c!==ee.ABORTED})(o.code)){const u=s.Ta.shift();ps(s).B_(),await Qb(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await If(s)}})(t,e),Xb(t)&&Wb(t)}async function jE(t,e){const n=we(t);n.asyncQueue.verifyOperationInProgress(),ue(ca,"RemoteStore received new credentials");const s=_a(n);n.Ea.add(3),await Bu(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Rf(n)}async function bM(t,e){const n=we(t);e?(n.Ea.delete(2),await Rf(n)):e||(n.Ea.add(2),await Bu(n),n.Va.set("Unknown"))}function Go(t){return t.ma||(t.ma=(function(n,s,o){const u=we(n);return u.sa(),new aM(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(t.datastore,t.asyncQueue,{Zo:dM.bind(null,t),Yo:mM.bind(null,t),t_:pM.bind(null,t),J_:gM.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),Rg(t)?wg(t):t.Va.set("Unknown")):(await t.ma.stop(),$b(t))}))),t.ma}function ps(t){return t.fa||(t.fa=(function(n,s,o){const u=we(n);return u.sa(),new oM(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:vM.bind(null,t),t_:AM.bind(null,t),ta:EM.bind(null,t),na:TM.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await If(t)):(await t.fa.stop(),t.Ta.length>0&&(ue(ca,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new os,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const c=Date.now()+s,d=new Ig(e,n,c,o,u);return d.start(s),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cg(t,e){if(ur("AsyncQueue",`${e}: ${t}`),Ho(t))return new he(ee.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{static emptySet(e){return new So(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ge.comparator(n.key,s.key):(n,s)=>ge.comparator(n.key,s.key),this.keyedMap=au(),this.sortedSet=new ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof So)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new So;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(){this.ga=new ct(ge.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ve(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Mo{constructor(e,n,s,o,u,c,d,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const c=[];return n.forEach((d=>{c.push({type:0,doc:d})})),new Mo(e,n,So.emptySet(n),c,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ef(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class wM{constructor(){this.queries=qE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=we(n),u=o.queries;o.queries=qE(),u.forEach(((c,d)=>{for(const p of d.ba)p.onError(s)}))})(this,new he(ee.ABORTED,"Firestore shutting down"))}}function qE(){return new ya((t=>gb(t)),Ef)}async function Zb(t,e){const n=we(t);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.Sa()&&e.Da()&&(s=2):(u=new SM,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(c){const d=Cg(c,`Initialization of query '${fo(e.query)}' failed`);return void e.onError(d)}n.queries.set(o,u),u.ba.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Dg(n)}async function Jb(t,e){const n=we(t),s=e.query;let o=3;const u=n.queries.get(s);if(u){const c=u.ba.indexOf(e);c>=0&&(u.ba.splice(c,1),u.ba.length===0?o=e.Da()?0:1:!u.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function RM(t,e){const n=we(t);let s=!1;for(const o of e){const u=o.query,c=n.queries.get(u);if(c){for(const d of c.ba)d.Fa(o)&&(s=!0);c.wa=o}}s&&Dg(n)}function IM(t,e,n){const s=we(t),o=s.queries.get(e);if(o)for(const u of o.ba)u.onError(n);s.queries.delete(e)}function Dg(t){t.Ca.forEach((e=>{e.next()}))}var Np,HE;(HE=Np||(Np={})).Ma="default",HE.Cache="cache";class e1{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Mo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Mo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Np.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(e){this.key=e}}class n1{constructor(e){this.key=e}}class CM{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ke(),this.mutatedKeys=ke(),this.eu=yb(e),this.tu=new So(this.eu)}get nu(){return this.Za}ru(e,n){const s=n?n.iu:new FE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,c=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((_,T)=>{const b=o.get(_),D=Tf(this.query,T)?T:null,j=!!b&&this.mutatedKeys.has(b.key),Y=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let F=!1;b&&D?b.data.isEqual(D.data)?j!==Y&&(s.track({type:3,doc:D}),F=!0):this.su(b,D)||(s.track({type:2,doc:D}),F=!0,(p&&this.eu(D,p)>0||g&&this.eu(D,g)<0)&&(d=!0)):!b&&D?(s.track({type:0,doc:D}),F=!0):b&&!D&&(s.track({type:1,doc:b}),F=!0,(p||g)&&(d=!0)),F&&(D?(c=c.add(D),u=Y?u.add(_):u.delete(_)):(c=c.delete(_),u=u.delete(_)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),u=u.delete(_.key),s.track({type:1,doc:_})}return{tu:c,iu:s,Ss:d,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((_,T)=>(function(D,j){const Y=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve(20277,{Vt:F})}};return Y(D)-Y(j)})(_.type,T.type)||this.eu(_.doc,T.doc))),this.ou(s),o=o??!1;const d=n&&!o?this._u():[],p=this.Ya.size===0&&this.current&&!o?1:0,g=p!==this.Xa;return this.Xa=p,c.length!==0||g?{snapshot:new Mo(this.query,e.tu,u,c,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new FE,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=ke(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return e.forEach((s=>{this.Ya.has(s)||n.push(new n1(s))})),this.Ya.forEach((s=>{e.has(s)||n.push(new t1(s))})),n}cu(e){this.Za=e.ks,this.Ya=ke();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Mo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const xg="SyncEngine";class DM{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class xM{constructor(e){this.key=e,this.hu=!1}}class OM{constructor(e,n,s,o,u,c){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new ya((d=>gb(d)),Ef),this.Iu=new Map,this.Eu=new Set,this.Ru=new ct(ge.comparator),this.Au=new Map,this.Vu=new vg,this.du={},this.mu=new Map,this.fu=No.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function NM(t,e,n=!0){const s=l1(t);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await i1(s,e,n,!0),o}async function MM(t,e){const n=l1(t);await i1(n,e,!0,!1)}async function i1(t,e,n,s){const o=await ZN(t.localStore,Ri(e)),u=o.targetId,c=t.sharedClientState.addLocalQueryTarget(u,n);let d;return s&&(d=await PM(t,e,u,c==="current",o.resumeToken)),t.isPrimaryClient&&n&&Yb(t.remoteStore,o),d}async function PM(t,e,n,s,o){t.pu=(T,b,D)=>(async function(Y,F,ne,K){let re=F.view.ru(ne);re.Ss&&(re=await kE(Y.localStore,F.query,!1).then((({documents:x})=>F.view.ru(x,re))));const Ce=K&&K.targetChanges.get(F.targetId),oe=K&&K.targetMismatches.get(F.targetId)!=null,Re=F.view.applyChanges(re,Y.isPrimaryClient,Ce,oe);return YE(Y,F.targetId,Re.au),Re.snapshot})(t,T,b,D);const u=await kE(t.localStore,e,!0),c=new CM(e,u.ks),d=c.ru(u.documents),p=Uu.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",o),g=c.applyChanges(d,t.isPrimaryClient,p);YE(t,n,g.au);const _=new DM(e,n,c);return t.Tu.set(e,_),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),g.snapshot}async function VM(t,e,n){const s=we(t),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((c=>!Ef(c,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await xp(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&bg(s.remoteStore,o.targetId),Mp(s,o.targetId)})).catch(qo)):(Mp(s,o.targetId),await xp(s.localStore,o.targetId,!0))}async function kM(t,e){const n=we(t),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),bg(n.remoteStore,s.targetId))}async function LM(t,e,n){const s=HM(t);try{const o=await(function(c,d){const p=we(c),g=et.now(),_=d.reduce(((D,j)=>D.add(j.key)),ke());let T,b;return p.persistence.runTransaction("Locally write mutations","readwrite",(D=>{let j=cr(),Y=ke();return p.xs.getEntries(D,_).next((F=>{j=F,j.forEach(((ne,K)=>{K.isValidDocument()||(Y=Y.add(ne))}))})).next((()=>p.localDocuments.getOverlayedDocuments(D,j))).next((F=>{T=F;const ne=[];for(const K of d){const re=WO(K,T.get(K.key).overlayedDocument);re!=null&&ne.push(new vs(K.key,re,ub(re.value.mapValue),Ii.exists(!0)))}return p.mutationQueue.addMutationBatch(D,g,ne,d)})).next((F=>{b=F;const ne=F.applyToLocalDocumentSet(T,Y);return p.documentOverlayCache.saveOverlays(D,F.batchId,ne)}))})).then((()=>({batchId:b.batchId,changes:vb(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(c,d,p){let g=c.du[c.currentUser.toKey()];g||(g=new ct(Ve)),g=g.insert(d,p),c.du[c.currentUser.toKey()]=g})(s,o.batchId,n),await zu(s,o.changes),await If(s.remoteStore)}catch(o){const u=Cg(o,"Failed to persist write");n.reject(u)}}async function r1(t,e){const n=we(t);try{const s=await QN(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const c=n.Au.get(u);c&&(Fe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?Fe(c.hu,14607):o.removedDocuments.size>0&&(Fe(c.hu,42227),c.hu=!1))})),await zu(n,s,e)}catch(s){await qo(s)}}function GE(t,e,n){const s=we(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,c)=>{const d=c.view.va(e);d.snapshot&&o.push(d.snapshot)})),(function(c,d){const p=we(c);p.onlineState=d;let g=!1;p.queries.forEach(((_,T)=>{for(const b of T.ba)b.va(d)&&(g=!0)})),g&&Dg(p)})(s.eventManager,e),o.length&&s.Pu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function UM(t,e,n){const s=we(t);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let c=new ct(ge.comparator);c=c.insert(u,nn.newNoDocument(u,be.min()));const d=ke().add(u),p=new Sf(be.min(),new Map,new ct(Ve),c,d);await r1(s,p),s.Ru=s.Ru.remove(u),s.Au.delete(e),Og(s)}else await xp(s.localStore,e,!1).then((()=>Mp(s,e,n))).catch(qo)}async function BM(t,e){const n=we(t),s=e.batch.batchId;try{const o=await $N(n.localStore,e);a1(n,s,null),s1(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await zu(n,o)}catch(o){await qo(o)}}async function zM(t,e,n){const s=we(t);try{const o=await(function(c,d){const p=we(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let _;return p.mutationQueue.lookupMutationBatch(g,d).next((T=>(Fe(T!==null,37113),_=T.keys(),p.mutationQueue.removeMutationBatch(g,T)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,_,d))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_))).next((()=>p.localDocuments.getDocuments(g,_)))}))})(s.localStore,e);a1(s,e,n),s1(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await zu(s,o)}catch(o){await qo(o)}}function s1(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function a1(t,e,n){const s=we(t);let o=s.du[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.du[s.currentUser.toKey()]=o}}function Mp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((s=>{t.Vu.containsKey(s)||o1(t,s)}))}function o1(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(bg(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),Og(t))}function YE(t,e,n){for(const s of n)s instanceof t1?(t.Vu.addReference(s.key,e),jM(t,s)):s instanceof n1?(ue(xg,"Document no longer in limbo: "+s.key),t.Vu.removeReference(s.key,e),t.Vu.containsKey(s.key)||o1(t,s.key)):ve(19791,{wu:s})}function jM(t,e){const n=e.key,s=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(s)||(ue(xg,"New document in limbo: "+n),t.Eu.add(s),Og(t))}function Og(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ge(ut.fromString(e)),s=t.fu.next();t.Au.set(s,new xM(n)),t.Ru=t.Ru.insert(n,s),Yb(t.remoteStore,new ts(Ri(vf(n.path)),s,"TargetPurposeLimboResolution",pf.ce))}}async function zu(t,e,n){const s=we(t),o=[],u=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((d,p)=>{c.push(s.pu(p,e,n).then((g=>{if((g||n)&&s.isPrimaryClient){const _=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,_?"current":"not-current")}if(g){o.push(g);const _=Tg.Es(p.targetId,g);u.push(_)}})))})),await Promise.all(c),s.Pu.J_(o),await(async function(p,g){const _=we(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>Z.forEach(g,(b=>Z.forEach(b.Ts,(D=>_.persistence.referenceDelegate.addReference(T,b.targetId,D))).next((()=>Z.forEach(b.Is,(D=>_.persistence.referenceDelegate.removeReference(T,b.targetId,D)))))))))}catch(T){if(!Ho(T))throw T;ue(Ag,"Failed to update sequence numbers: "+T)}for(const T of g){const b=T.targetId;if(!T.fromCache){const D=_.vs.get(b),j=D.snapshotVersion,Y=D.withLastLimboFreeSnapshotVersion(j);_.vs=_.vs.insert(b,Y)}}})(s.localStore,u))}async function FM(t,e){const n=we(t);if(!n.currentUser.isEqual(e)){ue(xg,"User change. New user:",e.toKey());const s=await Fb(n.localStore,e);n.currentUser=e,(function(u,c){u.mu.forEach((d=>{d.forEach((p=>{p.reject(new he(ee.CANCELLED,c))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await zu(n,s.Ns)}}function qM(t,e){const n=we(t),s=n.Au.get(e);if(s&&s.hu)return ke().add(s.key);{let o=ke();const u=n.Iu.get(e);if(!u)return o;for(const c of u){const d=n.Tu.get(c);o=o.unionWith(d.view.nu)}return o}}function l1(t){const e=we(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=r1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=qM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=UM.bind(null,e),e.Pu.J_=RM.bind(null,e.eventManager),e.Pu.yu=IM.bind(null,e.eventManager),e}function HM(t){const e=we(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=BM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=zM.bind(null,e),e}class Yh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=wf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return KN(this.persistence,new HN,e.initialUser,this.serializer)}Cu(e){return new jb(Eg.Vi,this.serializer)}Du(e){return new eM}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Yh.provider={build:()=>new Yh};class GM extends Yh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Fe(this.persistence.referenceDelegate instanceof Hh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new DN(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?yn.withCacheSize(this.cacheSizeBytes):yn.DEFAULT;return new jb((s=>Hh.Vi(s,n)),this.serializer)}}class Pp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>GE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=FM.bind(null,this.syncEngine),await bM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new wM})()}createDatastore(e){const n=wf(e.databaseInfo.databaseId),s=sM(e.databaseInfo);return cM(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,c,d){return new fM(s,o,u,c,d)})(this.localStore,this.datastore,e.asyncQueue,(n=>GE(this.syncEngine,n,0)),(function(){return BE.v()?new BE:new tM})())}createSyncEngine(e,n){return(function(o,u,c,d,p,g,_){const T=new OM(o,u,c,d,p,g);return _&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=we(n);ue(ca,"RemoteStore shutting down."),s.Ea.add(5),await Bu(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Pp.provider={build:()=>new Pp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ur("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gs="FirestoreClient";class YM{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=o,this.user=tn.UNAUTHENTICATED,this.clientId=lg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async c=>{ue(gs,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(ue(gs,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new os;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Cg(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function tp(t,e){t.asyncQueue.verifyOperationInProgress(),ue(gs,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener((async o=>{s.isEqual(o)||(await Fb(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function KE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await KM(t);ue(gs,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((s=>jE(e.remoteStore,s))),t.setAppCheckTokenChangeListener(((s,o)=>jE(e.remoteStore,o))),t._onlineComponents=e}async function KM(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ue(gs,"Using user provided OfflineComponentProvider");try{await tp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Co("Error using user provided cache. Falling back to memory cache: "+n),await tp(t,new Yh)}}else ue(gs,"Using default OfflineComponentProvider"),await tp(t,new GM(void 0));return t._offlineComponents}async function c1(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ue(gs,"Using user provided OnlineComponentProvider"),await KE(t,t._uninitializedComponentsProvider._online)):(ue(gs,"Using default OnlineComponentProvider"),await KE(t,new Pp))),t._onlineComponents}function $M(t){return c1(t).then((e=>e.syncEngine))}async function Vp(t){const e=await c1(t),n=e.eventManager;return n.onListen=NM.bind(null,e.syncEngine),n.onUnlisten=VM.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=MM.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=kM.bind(null,e.syncEngine),n}function QM(t,e,n,s){const o=new u1(s),u=new e1(e,o,n);return t.asyncQueue.enqueueAndForget((async()=>Zb(await Vp(t),u))),()=>{o.Nu(),t.asyncQueue.enqueueAndForget((async()=>Jb(await Vp(t),u)))}}function XM(t,e,n={}){const s=new os;return t.asyncQueue.enqueueAndForget((async()=>(function(u,c,d,p,g){const _=new u1({next:b=>{_.Nu(),c.enqueueAndForget((()=>Jb(u,T)));const D=b.docs.has(d);!D&&b.fromCache?g.reject(new he(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&b.fromCache&&p&&p.source==="server"?g.reject(new he(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(b)},error:b=>g.reject(b)}),T=new e1(vf(d.path),_,{includeMetadataChanges:!0,Ka:!0});return Zb(u,T)})(await Vp(t),t.asyncQueue,e,n,s))),s.promise}function WM(t,e){const n=new os;return t.asyncQueue.enqueueAndForget((async()=>LM(await $M(t),e,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h1(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZM="ComponentProvider",$E=new Map;function JM(t,e,n,s,o){return new vO(t,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,h1(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1="firestore.googleapis.com",QE=!0;class XE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=f1,this.ssl=QE}else this.host=e.host,this.ssl=e.ssl??QE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=zb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<IN)throw new he(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}lO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=h1(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ng{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new XE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new XE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new Wx;switch(s.type){case"firstParty":return new tO(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new he(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=$E.get(n);s&&(ue(ZM,"Removing Datastore"),$E.delete(n),s.terminate())})(this),Promise.resolve()}}function e4(t,e,n,s={}){t=wi(t,Ng);const o=zo(e),u=t._getSettings(),c={...u,emulatorOptions:t._getEmulatorOptions()},d=`${e}:${n}`;o&&(tA(`https://${d}`),nA("Firestore",!0)),u.host!==f1&&u.host!==d&&Co("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:d,ssl:o,emulatorOptions:s};if(!us(p,c)&&(t._setSettings(p),s.mockUserToken)){let g,_;if(typeof s.mockUserToken=="string")g=s.mockUserToken,_=tn.MOCK_USER;else{g=TC(s.mockUserToken,t._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new he(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new tn(T)}t._authCredentials=new Zx(new ZA(g,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Cf(this.firestore,e,this._query)}}class Rt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Su(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rt(this.firestore,e,this._key)}toJSON(){return{type:Rt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(ku(n,Rt._jsonSchema))return new Rt(e,s||null,new ge(ut.fromString(n.referencePath)))}}Rt._jsonSchemaVersion="firestore/documentReference/1.0",Rt._jsonSchema={type:wt("string",Rt._jsonSchemaVersion),referencePath:wt("string")};class Su extends Cf{constructor(e,n,s){super(e,n,vf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rt(this.firestore,null,new ge(e))}withConverter(e){return new Su(this.firestore,e,this._path)}}function Yo(t,e,...n){if(t=Pt(t),arguments.length===1&&(e=lg.newId()),oO("doc","path",e),t instanceof Ng){const s=ut.fromString(e,...n);return cE(s),new Rt(t,null,new ge(s))}{if(!(t instanceof Rt||t instanceof Su))throw new he(ee.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(ut.fromString(e,...n));return cE(s),new Rt(t.firestore,t instanceof Su?t.converter:null,new ge(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE="AsyncQueue";class ZE{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Hb(this,"async_queue_retry"),this._c=()=>{const s=ep();s&&ue(WE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=ep();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=ep();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new os;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Ho(e))throw e;ue(WE,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,ur("INTERNAL UNHANDLED ERROR: ",JE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Ig.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&ve(47125,{Pc:JE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function JE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Po extends Ng{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new ZE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ZE(e),this._firestoreClient=void 0,await e}}}function t4(t,e){const n=typeof t=="object"?t:Jp(),s=typeof t=="string"?t:Lh,o=pa(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=vC("firestore");u&&e4(o,...u)}return o}function Mg(t){if(t._terminated)throw new he(ee.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||n4(t),t._firestoreClient}function n4(t){const e=t._freezeSettings(),n=JM(t._databaseId,t._app?.options.appId||"",t._persistenceKey,t._app?.options.apiKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new YM(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qn(Qt.fromBase64String(e))}catch(n){throw new he(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new qn(Qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ku(e,qn._jsonSchema))return qn.fromBase64String(e.bytes)}}qn._jsonSchemaVersion="firestore/bytes/1.0",qn._jsonSchema={type:wt("string",qn._jsonSchemaVersion),bytes:wt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new he(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new he(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new he(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Di._jsonSchemaVersion}}static fromJSON(e){if(ku(e,Di._jsonSchema))return new Di(e.latitude,e.longitude)}}Di._jsonSchemaVersion="firestore/geoPoint/1.0",Di._jsonSchema={type:wt("string",Di._jsonSchemaVersion),latitude:wt("number"),longitude:wt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:si._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ku(e,si._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new si(e.vectorValues);throw new he(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}si._jsonSchemaVersion="firestore/vectorValue/1.0",si._jsonSchema={type:wt("string",si._jsonSchemaVersion),vectorValues:wt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i4=/^__.*__$/;class r4{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new vs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Lu(e,this.data,n,this.fieldTransforms)}}class d1{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new vs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function m1(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve(40011,{dataSource:t})}}class kg{constructor(e,n,s,o,u,c){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new kg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Kh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(m1(this.dataSource)&&i4.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class s4{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||wf(e)}createContext(e,n,s,o=!1){return new kg({dataSource:e,methodName:n,targetDoc:s,path:Kt.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function p1(t){const e=t._freezeSettings(),n=wf(t._databaseId);return new s4(t._databaseId,!!e.ignoreUndefinedProperties,n)}function a4(t,e,n,s,o,u={}){const c=t.createContext(u.merge||u.mergeFields?2:0,e,n,o);Lg("Data must be an object, but it was:",c,s);const d=g1(s,c);let p,g;if(u.merge)p=new Cn(c.fieldMask),g=c.fieldTransforms;else if(u.mergeFields){const _=[];for(const T of u.mergeFields){const b=wu(e,T,n);if(!c.contains(b))throw new he(ee.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);v1(_,b)||_.push(b)}p=new Cn(_),g=c.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,g=c.fieldTransforms;return new r4(new _n(d),p,g)}class ju extends Vg{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ju}}function o4(t,e,n,s){const o=t.createContext(1,e,n);Lg("Data must be an object, but it was:",o,s);const u=[],c=_n.empty();_s(s,((p,g)=>{const _=_1(e,p,n);g=Pt(g);const T=o.childContextForFieldPath(_);if(g instanceof ju)u.push(_);else{const b=Df(g,T);b!=null&&(u.push(_),c.set(_,b))}}));const d=new Cn(u);return new d1(c,d,o.fieldTransforms)}function l4(t,e,n,s,o,u){const c=t.createContext(1,e,n),d=[wu(e,s,n)],p=[o];if(u.length%2!=0)throw new he(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<u.length;b+=2)d.push(wu(e,u[b])),p.push(u[b+1]);const g=[],_=_n.empty();for(let b=d.length-1;b>=0;--b)if(!v1(g,d[b])){const D=d[b];let j=p[b];j=Pt(j);const Y=c.childContextForFieldPath(D);if(j instanceof ju)g.push(D);else{const F=Df(j,Y);F!=null&&(g.push(D),_.set(D,F))}}const T=new Cn(g);return new d1(_,T,c.fieldTransforms)}function Df(t,e){if(y1(t=Pt(t)))return Lg("Unsupported field value:",e,t),g1(t,e);if(t instanceof Vg)return(function(s,o){if(!m1(o.dataSource))throw o.createError(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,o){const u=[];let c=0;for(const d of s){let p=Df(d,o.childContextForArray(c));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),c++}return{arrayValue:{values:u}}})(t,e)}return(function(s,o){if((s=Pt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return GO(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=et.fromDate(s);return{timestampValue:qh(o.serializer,u)}}if(s instanceof et){const u=new et(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:qh(o.serializer,u)}}if(s instanceof Di)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof qn)return{bytesValue:Nb(o.serializer,s._byteString)};if(s instanceof Rt){const u=o.databaseId,c=s.firestore._databaseId;if(!c.isEqual(u))throw o.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:_g(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof si)return(function(c,d){const p=c instanceof si?c.toArray():c;return{mapValue:{fields:{[ob]:{stringValue:lb},[Uh]:{arrayValue:{values:p.map((_=>{if(typeof _!="number")throw d.createError("VectorValues must only contain numeric values.");return pg(d.serializer,_)}))}}}}}})(s,o);if(Bb(s))return s._toProto(o.serializer);throw o.createError(`Unsupported field value: ${ug(s)}`)})(t,e)}function g1(t,e){const n={};return tb(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_s(t,((s,o)=>{const u=Df(o,e.childContextForField(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function y1(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof et||t instanceof Di||t instanceof qn||t instanceof Rt||t instanceof Vg||t instanceof si||Bb(t))}function Lg(t,e,n){if(!y1(n)||!JA(n)){const s=ug(n);throw s==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+s)}}function wu(t,e,n){if((e=Pt(e))instanceof Pg)return e._internalPath;if(typeof e=="string")return _1(t,e);throw Kh("Field path arguments must be of type string or ",t,!1,void 0,n)}const u4=new RegExp("[~\\*/\\[\\]]");function _1(t,e,n){if(e.search(u4)>=0)throw Kh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Pg(...e.split("."))._internalPath}catch{throw Kh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Kh(t,e,n,s,o){const u=s&&!s.isEmpty(),c=o!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(u||c)&&(p+=" (found",u&&(p+=` in field ${s}`),c&&(p+=` in document ${o}`),p+=")"),new he(ee.INVALID_ARGUMENT,d+t+p)}function v1(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{convertValue(e,n="none"){switch(ms(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ds(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ve(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return _s(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[Uh].arrayValue?.values?.map((s=>Et(s.doubleValue)));return new si(n)}convertGeoPoint(e){return new Di(Et(e.latitude),Et(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=yf(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(vu(e));default:return null}}convertTimestamp(e){const n=fs(e);return new et(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=ut.fromString(e);Fe(Ub(s),9688,{name:e});const o=new Eu(s.get(1),s.get(3)),u=new ge(s.popFirst(5));return o.isEqual(n)||ur(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1 extends c4{constructor(e){super(),this.firestore=e}convertBytes(e){return new qn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Rt(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h4(){return new ju("deleteField")}const eT="@firebase/firestore",tT="4.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nT(t){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(t,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Rt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new f4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(wu("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class f4 extends T1{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d4(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new he(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function m4(t,e,n){let s;return s=t?t.toFirestore(e):e,s}class lu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class aa extends T1{constructor(e,n,s,o,u,c){super(e,n,s,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new wh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(wu("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=aa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}aa._jsonSchemaVersion="firestore/documentSnapshot/1.0",aa._jsonSchema={type:wt("string",aa._jsonSchemaVersion),bundleSource:wt("string","DocumentSnapshot"),bundleName:wt("string"),bundle:wt("string")};class wh extends aa{data(e={}){return super.data(e)}}class wo{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new lu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new wh(this._firestore,this._userDataWriter,s.key,s,new lu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new he(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((d=>{const p=new wh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new lu(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((d=>u||d.type!==3)).map((d=>{const p=new wh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new lu(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,_=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),_=c.indexOf(d.doc.key)),{type:p4(d.type),doc:p,oldIndex:g,newIndex:_}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=wo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=lg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function p4(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve(61501,{type:t})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wo._jsonSchemaVersion="firestore/querySnapshot/1.0",wo._jsonSchema={type:wt("string",wo._jsonSchemaVersion),bundleSource:wt("string","QuerySnapshot"),bundleName:wt("string"),bundle:wt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ug(t){t=wi(t,Rt);const e=wi(t.firestore,Po),n=Mg(e);return XM(n,t._key).then((s=>w1(e,t,s)))}function A1(t,e,n){t=wi(t,Rt);const s=wi(t.firestore,Po),o=m4(t.converter,e),u=p1(s);return S1(s,[a4(u,"setDoc",t._key,o,t.converter!==null,n).toMutation(t._key,Ii.none())])}function b1(t,e,n,...s){t=wi(t,Rt);const o=wi(t.firestore,Po),u=p1(o);let c;return c=typeof(e=Pt(e))=="string"||e instanceof Pg?l4(u,"updateDoc",t._key,e,n,s):o4(u,"updateDoc",t._key,e),S1(o,[c.toMutation(t._key,Ii.exists(!0))])}function g4(t,...e){t=Pt(t);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||nT(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(nT(e[s])){const g=e[s];e[s]=g.next?.bind(g),e[s+1]=g.error?.bind(g),e[s+2]=g.complete?.bind(g)}let u,c,d;if(t instanceof Rt)c=wi(t.firestore,Po),d=vf(t._key.path),u={next:g=>{e[s]&&e[s](w1(c,t,g))},error:e[s+1],complete:e[s+2]};else{const g=wi(t,Cf);c=wi(g.firestore,Po),d=g._query;const _=new E1(c);u={next:T=>{e[s]&&e[s](new wo(c,_,g,T))},error:e[s+1],complete:e[s+2]},d4(t._query)}const p=Mg(c);return QM(p,d,o,u)}function S1(t,e){const n=Mg(t);return WM(n,e)}function w1(t,e,n){const s=n.docs.get(e._key),o=new E1(t);return new aa(t,o,e._key,s,new lu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){Xx(jo),Oi(new ai("firestore",((s,{instanceIdentifier:o,options:u})=>{const c=s.getProvider("app").getImmediate(),d=new Po(new Jx(s.getProvider("auth-internal")),new nO(c,s.getProvider("app-check-internal")),EO(c,o),c);return u={useFetchStreams:n,...u},d._setSettings(u),d}),"PUBLIC").setMultipleInstances(!0)),Hn(eT,tT,e),Hn(eT,tT,"esm2020")})();var y4="firebase",_4="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Hn(y4,_4,"app");const R1="@firebase/installations",Bg="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1=1e4,C1=`w:${Bg}`,D1="FIS_v2",v4="https://firebaseinstallations.googleapis.com/v1",E4=3600*1e3,T4="installations",A4="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b4={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ha=new ma(T4,A4,b4);function x1(t){return t instanceof oi&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O1({projectId:t}){return`${v4}/projects/${t}/installations`}function N1(t){return{token:t.token,requestStatus:2,expiresIn:w4(t.expiresIn),creationTime:Date.now()}}async function M1(t,e){const s=(await e.json()).error;return ha.create("request-failed",{requestName:t,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function P1({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function S4(t,{refreshToken:e}){const n=P1(t);return n.append("Authorization",R4(e)),n}async function V1(t){const e=await t();return e.status>=500&&e.status<600?t():e}function w4(t){return Number(t.replace("s","000"))}function R4(t){return`${D1} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I4({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const s=O1(t),o=P1(t),u=e.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const c={fid:n,authVersion:D1,appId:t.appId,sdkVersion:C1},d={method:"POST",headers:o,body:JSON.stringify(c)},p=await V1(()=>fetch(s,d));if(p.ok){const g=await p.json();return{fid:g.fid||n,registrationStatus:2,refreshToken:g.refreshToken,authToken:N1(g.authToken)}}else throw await M1("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k1(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C4(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D4=/^[cdef][\w-]{21}$/,kp="";function x4(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=O4(t);return D4.test(n)?n:kp}catch{return kp}}function O4(t){return C4(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xf(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1=new Map;function U1(t,e){const n=xf(t);B1(n,e),N4(n,e)}function B1(t,e){const n=L1.get(t);if(n)for(const s of n)s(e)}function N4(t,e){const n=M4();n&&n.postMessage({key:t,fid:e}),P4()}let sa=null;function M4(){return!sa&&"BroadcastChannel"in self&&(sa=new BroadcastChannel("[Firebase] FID Change"),sa.onmessage=t=>{B1(t.data.key,t.data.fid)}),sa}function P4(){L1.size===0&&sa&&(sa.close(),sa=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V4="firebase-installations-database",k4=1,fa="firebase-installations-store";let np=null;function zg(){return np||(np=lA(V4,k4,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(fa)}}})),np}async function $h(t,e){const n=xf(t),o=(await zg()).transaction(fa,"readwrite"),u=o.objectStore(fa),c=await u.get(n);return await u.put(e,n),await o.done,(!c||c.fid!==e.fid)&&U1(t,e.fid),e}async function z1(t){const e=xf(t),s=(await zg()).transaction(fa,"readwrite");await s.objectStore(fa).delete(e),await s.done}async function Of(t,e){const n=xf(t),o=(await zg()).transaction(fa,"readwrite"),u=o.objectStore(fa),c=await u.get(n),d=e(c);return d===void 0?await u.delete(n):await u.put(d,n),await o.done,d&&(!c||c.fid!==d.fid)&&U1(t,d.fid),d}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jg(t){let e;const n=await Of(t.appConfig,s=>{const o=L4(s),u=U4(t,o);return e=u.registrationPromise,u.installationEntry});return n.fid===kp?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function L4(t){const e=t||{fid:x4(),registrationStatus:0};return j1(e)}function U4(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(ha.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=B4(t,n);return{installationEntry:n,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:z4(t)}:{installationEntry:e}}async function B4(t,e){try{const n=await I4(t,e);return $h(t.appConfig,n)}catch(n){throw x1(n)&&n.customData.serverCode===409?await z1(t.appConfig):await $h(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function z4(t){let e=await iT(t.appConfig);for(;e.registrationStatus===1;)await k1(100),e=await iT(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await jg(t);return s||n}return e}function iT(t){return Of(t,e=>{if(!e)throw ha.create("installation-not-found");return j1(e)})}function j1(t){return j4(t)?{fid:t.fid,registrationStatus:0}:t}function j4(t){return t.registrationStatus===1&&t.registrationTime+I1<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F4({appConfig:t,heartbeatServiceProvider:e},n){const s=q4(t,n),o=S4(t,n),u=e.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const c={installation:{sdkVersion:C1,appId:t.appId}},d={method:"POST",headers:o,body:JSON.stringify(c)},p=await V1(()=>fetch(s,d));if(p.ok){const g=await p.json();return N1(g)}else throw await M1("Generate Auth Token",p)}function q4(t,{fid:e}){return`${O1(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fg(t,e=!1){let n;const s=await Of(t.appConfig,u=>{if(!F1(u))throw ha.create("not-registered");const c=u.authToken;if(!e&&Y4(c))return u;if(c.requestStatus===1)return n=H4(t,e),u;{if(!navigator.onLine)throw ha.create("app-offline");const d=$4(u);return n=G4(t,d),d}});return n?await n:s.authToken}async function H4(t,e){let n=await rT(t.appConfig);for(;n.authToken.requestStatus===1;)await k1(100),n=await rT(t.appConfig);const s=n.authToken;return s.requestStatus===0?Fg(t,e):s}function rT(t){return Of(t,e=>{if(!F1(e))throw ha.create("not-registered");const n=e.authToken;return Q4(n)?{...e,authToken:{requestStatus:0}}:e})}async function G4(t,e){try{const n=await F4(t,e),s={...e,authToken:n};return await $h(t.appConfig,s),n}catch(n){if(x1(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await z1(t.appConfig);else{const s={...e,authToken:{requestStatus:0}};await $h(t.appConfig,s)}throw n}}function F1(t){return t!==void 0&&t.registrationStatus===2}function Y4(t){return t.requestStatus===2&&!K4(t)}function K4(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+E4}function $4(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function Q4(t){return t.requestStatus===1&&t.requestTime+I1<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X4(t){const e=t,{installationEntry:n,registrationPromise:s}=await jg(e);return s?s.catch(console.error):Fg(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W4(t,e=!1){const n=t;return await Z4(n),(await Fg(n,e)).token}async function Z4(t){const{registrationPromise:e}=await jg(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J4(t){if(!t||!t.options)throw ip("App Configuration");if(!t.name)throw ip("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw ip(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function ip(t){return ha.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1="installations",eP="installations-internal",tP=t=>{const e=t.getProvider("app").getImmediate(),n=J4(e),s=pa(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},nP=t=>{const e=t.getProvider("app").getImmediate(),n=pa(e,q1).getImmediate();return{getId:()=>X4(n),getToken:o=>W4(n,o)}};function iP(){Oi(new ai(q1,tP,"PUBLIC")),Oi(new ai(eP,nP,"PRIVATE"))}iP();Hn(R1,Bg);Hn(R1,Bg,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qh="analytics",rP="firebase_id",sP="origin",aP=60*1e3,oP="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",qg="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fn=new cf("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lP={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Dn=new ma("analytics","Analytics",lP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uP(t){if(!t.startsWith(qg)){const e=Dn.create("invalid-gtag-resource",{gtagURL:t});return fn.warn(e.message),""}return t}function H1(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function cP(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function hP(t,e){const n=cP("firebase-js-sdk-policy",{createScriptURL:uP}),s=document.createElement("script"),o=`${qg}?l=${t}&id=${e}`;s.src=n?n?.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function fP(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function dP(t,e,n,s,o,u){const c=s[o];try{if(c)await e[c];else{const p=(await H1(n)).find(g=>g.measurementId===o);p&&await e[p.appId]}}catch(d){fn.error(d)}t("config",o,u)}async function mP(t,e,n,s,o){try{let u=[];if(o&&o.send_to){let c=o.send_to;Array.isArray(c)||(c=[c]);const d=await H1(n);for(const p of c){const g=d.find(T=>T.measurementId===p),_=g&&e[g.appId];if(_)u.push(_);else{u=[];break}}}u.length===0&&(u=Object.values(e)),await Promise.all(u),t("event",s,o||{})}catch(u){fn.error(u)}}function pP(t,e,n,s){async function o(u,...c){try{if(u==="event"){const[d,p]=c;await mP(t,e,n,d,p)}else if(u==="config"){const[d,p]=c;await dP(t,e,n,s,d,p)}else if(u==="consent"){const[d,p]=c;t("consent",d,p)}else if(u==="get"){const[d,p,g]=c;t("get",d,p,g)}else if(u==="set"){const[d]=c;t("set",d)}else t(u,...c)}catch(d){fn.error(d)}}return o}function gP(t,e,n,s,o){let u=function(...c){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=pP(u,t,e,n),{gtagCore:u,wrappedGtag:window[o]}}function yP(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(qg)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _P=30,vP=1e3;class EP{constructor(e={},n=vP){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const G1=new EP;function TP(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function AP(t){const{appId:e,apiKey:n}=t,s={method:"GET",headers:TP(n)},o=oP.replace("{app-id}",e),u=await fetch(o,s);if(u.status!==200&&u.status!==304){let c="";try{const d=await u.json();d.error?.message&&(c=d.error.message)}catch{}throw Dn.create("config-fetch-failed",{httpStatus:u.status,responseMessage:c})}return u.json()}async function bP(t,e=G1,n){const{appId:s,apiKey:o,measurementId:u}=t.options;if(!s)throw Dn.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:s};throw Dn.create("no-api-key")}const c=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new RP;return setTimeout(async()=>{d.abort()},aP),Y1({appId:s,apiKey:o,measurementId:u},c,d,e)}async function Y1(t,{throttleEndTimeMillis:e,backoffCount:n},s,o=G1){const{appId:u,measurementId:c}=t;try{await SP(s,e)}catch(d){if(c)return fn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${d?.message}]`),{appId:u,measurementId:c};throw d}try{const d=await AP(t);return o.deleteThrottleMetadata(u),d}catch(d){const p=d;if(!wP(p)){if(o.deleteThrottleMetadata(u),c)return fn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:u,measurementId:c};throw d}const g=Number(p?.customData?.httpStatus)===503?V0(n,o.intervalMillis,_P):V0(n,o.intervalMillis),_={throttleEndTimeMillis:Date.now()+g,backoffCount:n+1};return o.setThrottleMetadata(u,_),fn.debug(`Calling attemptFetch again in ${g} millis`),Y1(t,_,s,o)}}function SP(t,e){return new Promise((n,s)=>{const o=Math.max(e-Date.now(),0),u=setTimeout(n,o);t.addEventListener(()=>{clearTimeout(u),s(Dn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function wP(t){if(!(t instanceof oi)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class RP{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function IP(t,e,n,s,o){if(o&&o.global){t("event",n,s);return}else{const u=await e,c={...s,send_to:u};t("event",n,c)}}async function CP(t,e,n,s){if(s&&s.global){const o={};for(const u of Object.keys(n))o[`user_properties.${u}`]=n[u];return t("set",o),Promise.resolve()}else{const o=await e;t("config",o,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DP(){if(rA())try{await sA()}catch(t){return fn.warn(Dn.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return fn.warn(Dn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function xP(t,e,n,s,o,u,c){const d=bP(t);d.then(b=>{n[b.measurementId]=b.appId,t.options.measurementId&&b.measurementId!==t.options.measurementId&&fn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${b.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(b=>fn.error(b)),e.push(d);const p=DP().then(b=>{if(b)return s.getId()}),[g,_]=await Promise.all([d,p]);yP(u)||hP(u,g.measurementId),o("js",new Date);const T=c?.config??{};return T[sP]="firebase",T.update=!0,_!=null&&(T[rP]=_),o("config",g.measurementId,T),g.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OP{constructor(e){this.app=e}_delete(){return delete Ro[this.app.options.appId],Promise.resolve()}}let Ro={},sT=[];const aT={};let rp="dataLayer",NP="gtag",oT,Hg,lT=!1;function MP(){const t=[];if(iA()&&t.push("This is a browser extension environment."),xC()||t.push("Cookies are not available."),t.length>0){const e=t.map((s,o)=>`(${o+1}) ${s}`).join(" "),n=Dn.create("invalid-analytics-context",{errorInfo:e});fn.warn(n.message)}}function PP(t,e,n){MP();const s=t.options.appId;if(!s)throw Dn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)fn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Dn.create("no-api-key");if(Ro[s]!=null)throw Dn.create("already-exists",{id:s});if(!lT){fP(rp);const{wrappedGtag:u,gtagCore:c}=gP(Ro,sT,aT,rp,NP);Hg=u,oT=c,lT=!0}return Ro[s]=xP(t,sT,aT,e,oT,rp,n),new OP(t)}function VP(t=Jp()){t=Pt(t);const e=pa(t,Qh);return e.isInitialized()?e.getImmediate():kP(t)}function kP(t,e={}){const n=pa(t,Qh);if(n.isInitialized()){const o=n.getImmediate();if(us(e,n.getOptions()))return o;throw Dn.create("already-initialized")}return n.initialize({options:e})}function LP(t,e,n){t=Pt(t),CP(Hg,Ro[t.app.options.appId],e,n).catch(s=>fn.error(s))}function UP(t,e,n,s){t=Pt(t),IP(Hg,Ro[t.app.options.appId],e,n,s).catch(o=>fn.error(o))}const uT="@firebase/analytics",cT="0.10.19";function BP(){Oi(new ai(Qh,(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return PP(s,o,n)},"PUBLIC")),Oi(new ai("analytics-internal",t,"PRIVATE")),Hn(uT,cT),Hn(uT,cT,"esm2020");function t(e){try{const n=e.getProvider(Qh).getImmediate();return{logEvent:(s,o,u)=>UP(n,s,o,u),setUserProperties:(s,o)=>LP(n,s,o)}}catch(n){throw Dn.create("interop-component-reg-failed",{reason:n})}}}BP();const zP={apiKey:"AIzaSyBlfRmSR0tYouGJt1IqqCNVC6RPwxWtlH4",authDomain:"auction-65902.firebaseapp.com",projectId:"auction-65902",storageBucket:"auction-65902.firebasestorage.app",messagingSenderId:"301593064296",appId:"1:301593064296:web:086d6f580c0e80cb2ddcdd",measurementId:"G-GV8TQB2J92"},Gg=uA(zP);VP(Gg);const Ko=t4(Gg),Vo=$x(Gg),jP=()=>{const[t,e]=B.useState(null),[n,s]=B.useState(!1);return B.useEffect(()=>{const o=PA(Vo,u=>{if(u&&u.displayName){console.debug(`Signed-in: name=${u.displayName}, uid=${u.uid}`),e(u);const c=Yo(Ko,"users",u.uid);Ug(c).then(d=>{d.exists()&&d.data().admin&&(console.debug("User is admin"),s(!0))})}else xD(Vo)});return()=>o()},[]),{user:t,admin:n}};/*! js-yaml 4.1.1 https://github.com/nodeca/js-yaml @license MIT */function K1(t){return typeof t>"u"||t===null}function FP(t){return typeof t=="object"&&t!==null}function qP(t){return Array.isArray(t)?t:K1(t)?[]:[t]}function HP(t,e){var n,s,o,u;if(e)for(u=Object.keys(e),n=0,s=u.length;n<s;n+=1)o=u[n],t[o]=e[o];return t}function GP(t,e){var n="",s;for(s=0;s<e;s+=1)n+=t;return n}function YP(t){return t===0&&Number.NEGATIVE_INFINITY===1/t}var KP=K1,$P=FP,QP=qP,XP=GP,WP=YP,ZP=HP,Nt={isNothing:KP,isObject:$P,toArray:QP,repeat:XP,isNegativeZero:WP,extend:ZP};function $1(t,e){var n="",s=t.reason||"(unknown reason)";return t.mark?(t.mark.name&&(n+='in "'+t.mark.name+'" '),n+="("+(t.mark.line+1)+":"+(t.mark.column+1)+")",!e&&t.mark.snippet&&(n+=`

`+t.mark.snippet),s+" "+n):s}function Ru(t,e){Error.call(this),this.name="YAMLException",this.reason=t,this.mark=e,this.message=$1(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}Ru.prototype=Object.create(Error.prototype);Ru.prototype.constructor=Ru;Ru.prototype.toString=function(e){return this.name+": "+$1(this,e)};var hn=Ru;function sp(t,e,n,s,o){var u="",c="",d=Math.floor(o/2)-1;return s-e>d&&(u=" ... ",e=s-d+u.length),n-s>d&&(c=" ...",n=s+d-c.length),{str:u+t.slice(e,n).replace(/\t/g,"")+c,pos:s-e+u.length}}function ap(t,e){return Nt.repeat(" ",e-t.length)+t}function JP(t,e){if(e=Object.create(e||null),!t.buffer)return null;e.maxLength||(e.maxLength=79),typeof e.indent!="number"&&(e.indent=1),typeof e.linesBefore!="number"&&(e.linesBefore=3),typeof e.linesAfter!="number"&&(e.linesAfter=2);for(var n=/\r?\n|\r|\0/g,s=[0],o=[],u,c=-1;u=n.exec(t.buffer);)o.push(u.index),s.push(u.index+u[0].length),t.position<=u.index&&c<0&&(c=s.length-2);c<0&&(c=s.length-1);var d="",p,g,_=Math.min(t.line+e.linesAfter,o.length).toString().length,T=e.maxLength-(e.indent+_+3);for(p=1;p<=e.linesBefore&&!(c-p<0);p++)g=sp(t.buffer,s[c-p],o[c-p],t.position-(s[c]-s[c-p]),T),d=Nt.repeat(" ",e.indent)+ap((t.line-p+1).toString(),_)+" | "+g.str+`
`+d;for(g=sp(t.buffer,s[c],o[c],t.position,T),d+=Nt.repeat(" ",e.indent)+ap((t.line+1).toString(),_)+" | "+g.str+`
`,d+=Nt.repeat("-",e.indent+_+3+g.pos)+`^
`,p=1;p<=e.linesAfter&&!(c+p>=o.length);p++)g=sp(t.buffer,s[c+p],o[c+p],t.position-(s[c]-s[c+p]),T),d+=Nt.repeat(" ",e.indent)+ap((t.line+p+1).toString(),_)+" | "+g.str+`
`;return d.replace(/\n$/,"")}var eV=JP,tV=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],nV=["scalar","sequence","mapping"];function iV(t){var e={};return t!==null&&Object.keys(t).forEach(function(n){t[n].forEach(function(s){e[String(s)]=n})}),e}function rV(t,e){if(e=e||{},Object.keys(e).forEach(function(n){if(tV.indexOf(n)===-1)throw new hn('Unknown option "'+n+'" is met in definition of "'+t+'" YAML type.')}),this.options=e,this.tag=t,this.kind=e.kind||null,this.resolve=e.resolve||function(){return!0},this.construct=e.construct||function(n){return n},this.instanceOf=e.instanceOf||null,this.predicate=e.predicate||null,this.represent=e.represent||null,this.representName=e.representName||null,this.defaultStyle=e.defaultStyle||null,this.multi=e.multi||!1,this.styleAliases=iV(e.styleAliases||null),nV.indexOf(this.kind)===-1)throw new hn('Unknown kind "'+this.kind+'" is specified for "'+t+'" YAML type.')}var $t=rV;function hT(t,e){var n=[];return t[e].forEach(function(s){var o=n.length;n.forEach(function(u,c){u.tag===s.tag&&u.kind===s.kind&&u.multi===s.multi&&(o=c)}),n[o]=s}),n}function sV(){var t={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},e,n;function s(o){o.multi?(t.multi[o.kind].push(o),t.multi.fallback.push(o)):t[o.kind][o.tag]=t.fallback[o.tag]=o}for(e=0,n=arguments.length;e<n;e+=1)arguments[e].forEach(s);return t}function Lp(t){return this.extend(t)}Lp.prototype.extend=function(e){var n=[],s=[];if(e instanceof $t)s.push(e);else if(Array.isArray(e))s=s.concat(e);else if(e&&(Array.isArray(e.implicit)||Array.isArray(e.explicit)))e.implicit&&(n=n.concat(e.implicit)),e.explicit&&(s=s.concat(e.explicit));else throw new hn("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");n.forEach(function(u){if(!(u instanceof $t))throw new hn("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(u.loadKind&&u.loadKind!=="scalar")throw new hn("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(u.multi)throw new hn("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),s.forEach(function(u){if(!(u instanceof $t))throw new hn("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var o=Object.create(Lp.prototype);return o.implicit=(this.implicit||[]).concat(n),o.explicit=(this.explicit||[]).concat(s),o.compiledImplicit=hT(o,"implicit"),o.compiledExplicit=hT(o,"explicit"),o.compiledTypeMap=sV(o.compiledImplicit,o.compiledExplicit),o};var Q1=Lp,X1=new $t("tag:yaml.org,2002:str",{kind:"scalar",construct:function(t){return t!==null?t:""}}),W1=new $t("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(t){return t!==null?t:[]}}),Z1=new $t("tag:yaml.org,2002:map",{kind:"mapping",construct:function(t){return t!==null?t:{}}}),J1=new Q1({explicit:[X1,W1,Z1]});function aV(t){if(t===null)return!0;var e=t.length;return e===1&&t==="~"||e===4&&(t==="null"||t==="Null"||t==="NULL")}function oV(){return null}function lV(t){return t===null}var eS=new $t("tag:yaml.org,2002:null",{kind:"scalar",resolve:aV,construct:oV,predicate:lV,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function uV(t){if(t===null)return!1;var e=t.length;return e===4&&(t==="true"||t==="True"||t==="TRUE")||e===5&&(t==="false"||t==="False"||t==="FALSE")}function cV(t){return t==="true"||t==="True"||t==="TRUE"}function hV(t){return Object.prototype.toString.call(t)==="[object Boolean]"}var tS=new $t("tag:yaml.org,2002:bool",{kind:"scalar",resolve:uV,construct:cV,predicate:hV,represent:{lowercase:function(t){return t?"true":"false"},uppercase:function(t){return t?"TRUE":"FALSE"},camelcase:function(t){return t?"True":"False"}},defaultStyle:"lowercase"});function fV(t){return 48<=t&&t<=57||65<=t&&t<=70||97<=t&&t<=102}function dV(t){return 48<=t&&t<=55}function mV(t){return 48<=t&&t<=57}function pV(t){if(t===null)return!1;var e=t.length,n=0,s=!1,o;if(!e)return!1;if(o=t[n],(o==="-"||o==="+")&&(o=t[++n]),o==="0"){if(n+1===e)return!0;if(o=t[++n],o==="b"){for(n++;n<e;n++)if(o=t[n],o!=="_"){if(o!=="0"&&o!=="1")return!1;s=!0}return s&&o!=="_"}if(o==="x"){for(n++;n<e;n++)if(o=t[n],o!=="_"){if(!fV(t.charCodeAt(n)))return!1;s=!0}return s&&o!=="_"}if(o==="o"){for(n++;n<e;n++)if(o=t[n],o!=="_"){if(!dV(t.charCodeAt(n)))return!1;s=!0}return s&&o!=="_"}}if(o==="_")return!1;for(;n<e;n++)if(o=t[n],o!=="_"){if(!mV(t.charCodeAt(n)))return!1;s=!0}return!(!s||o==="_")}function gV(t){var e=t,n=1,s;if(e.indexOf("_")!==-1&&(e=e.replace(/_/g,"")),s=e[0],(s==="-"||s==="+")&&(s==="-"&&(n=-1),e=e.slice(1),s=e[0]),e==="0")return 0;if(s==="0"){if(e[1]==="b")return n*parseInt(e.slice(2),2);if(e[1]==="x")return n*parseInt(e.slice(2),16);if(e[1]==="o")return n*parseInt(e.slice(2),8)}return n*parseInt(e,10)}function yV(t){return Object.prototype.toString.call(t)==="[object Number]"&&t%1===0&&!Nt.isNegativeZero(t)}var nS=new $t("tag:yaml.org,2002:int",{kind:"scalar",resolve:pV,construct:gV,predicate:yV,represent:{binary:function(t){return t>=0?"0b"+t.toString(2):"-0b"+t.toString(2).slice(1)},octal:function(t){return t>=0?"0o"+t.toString(8):"-0o"+t.toString(8).slice(1)},decimal:function(t){return t.toString(10)},hexadecimal:function(t){return t>=0?"0x"+t.toString(16).toUpperCase():"-0x"+t.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),_V=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function vV(t){return!(t===null||!_V.test(t)||t[t.length-1]==="_")}function EV(t){var e,n;return e=t.replace(/_/g,"").toLowerCase(),n=e[0]==="-"?-1:1,"+-".indexOf(e[0])>=0&&(e=e.slice(1)),e===".inf"?n===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:e===".nan"?NaN:n*parseFloat(e,10)}var TV=/^[-+]?[0-9]+e/;function AV(t,e){var n;if(isNaN(t))switch(e){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===t)switch(e){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===t)switch(e){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Nt.isNegativeZero(t))return"-0.0";return n=t.toString(10),TV.test(n)?n.replace("e",".e"):n}function bV(t){return Object.prototype.toString.call(t)==="[object Number]"&&(t%1!==0||Nt.isNegativeZero(t))}var iS=new $t("tag:yaml.org,2002:float",{kind:"scalar",resolve:vV,construct:EV,predicate:bV,represent:AV,defaultStyle:"lowercase"}),rS=J1.extend({implicit:[eS,tS,nS,iS]}),sS=rS,aS=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),oS=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function SV(t){return t===null?!1:aS.exec(t)!==null||oS.exec(t)!==null}function wV(t){var e,n,s,o,u,c,d,p=0,g=null,_,T,b;if(e=aS.exec(t),e===null&&(e=oS.exec(t)),e===null)throw new Error("Date resolve error");if(n=+e[1],s=+e[2]-1,o=+e[3],!e[4])return new Date(Date.UTC(n,s,o));if(u=+e[4],c=+e[5],d=+e[6],e[7]){for(p=e[7].slice(0,3);p.length<3;)p+="0";p=+p}return e[9]&&(_=+e[10],T=+(e[11]||0),g=(_*60+T)*6e4,e[9]==="-"&&(g=-g)),b=new Date(Date.UTC(n,s,o,u,c,d,p)),g&&b.setTime(b.getTime()-g),b}function RV(t){return t.toISOString()}var lS=new $t("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:SV,construct:wV,instanceOf:Date,represent:RV});function IV(t){return t==="<<"||t===null}var uS=new $t("tag:yaml.org,2002:merge",{kind:"scalar",resolve:IV}),Yg=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function CV(t){if(t===null)return!1;var e,n,s=0,o=t.length,u=Yg;for(n=0;n<o;n++)if(e=u.indexOf(t.charAt(n)),!(e>64)){if(e<0)return!1;s+=6}return s%8===0}function DV(t){var e,n,s=t.replace(/[\r\n=]/g,""),o=s.length,u=Yg,c=0,d=[];for(e=0;e<o;e++)e%4===0&&e&&(d.push(c>>16&255),d.push(c>>8&255),d.push(c&255)),c=c<<6|u.indexOf(s.charAt(e));return n=o%4*6,n===0?(d.push(c>>16&255),d.push(c>>8&255),d.push(c&255)):n===18?(d.push(c>>10&255),d.push(c>>2&255)):n===12&&d.push(c>>4&255),new Uint8Array(d)}function xV(t){var e="",n=0,s,o,u=t.length,c=Yg;for(s=0;s<u;s++)s%3===0&&s&&(e+=c[n>>18&63],e+=c[n>>12&63],e+=c[n>>6&63],e+=c[n&63]),n=(n<<8)+t[s];return o=u%3,o===0?(e+=c[n>>18&63],e+=c[n>>12&63],e+=c[n>>6&63],e+=c[n&63]):o===2?(e+=c[n>>10&63],e+=c[n>>4&63],e+=c[n<<2&63],e+=c[64]):o===1&&(e+=c[n>>2&63],e+=c[n<<4&63],e+=c[64],e+=c[64]),e}function OV(t){return Object.prototype.toString.call(t)==="[object Uint8Array]"}var cS=new $t("tag:yaml.org,2002:binary",{kind:"scalar",resolve:CV,construct:DV,predicate:OV,represent:xV}),NV=Object.prototype.hasOwnProperty,MV=Object.prototype.toString;function PV(t){if(t===null)return!0;var e=[],n,s,o,u,c,d=t;for(n=0,s=d.length;n<s;n+=1){if(o=d[n],c=!1,MV.call(o)!=="[object Object]")return!1;for(u in o)if(NV.call(o,u))if(!c)c=!0;else return!1;if(!c)return!1;if(e.indexOf(u)===-1)e.push(u);else return!1}return!0}function VV(t){return t!==null?t:[]}var hS=new $t("tag:yaml.org,2002:omap",{kind:"sequence",resolve:PV,construct:VV}),kV=Object.prototype.toString;function LV(t){if(t===null)return!0;var e,n,s,o,u,c=t;for(u=new Array(c.length),e=0,n=c.length;e<n;e+=1){if(s=c[e],kV.call(s)!=="[object Object]"||(o=Object.keys(s),o.length!==1))return!1;u[e]=[o[0],s[o[0]]]}return!0}function UV(t){if(t===null)return[];var e,n,s,o,u,c=t;for(u=new Array(c.length),e=0,n=c.length;e<n;e+=1)s=c[e],o=Object.keys(s),u[e]=[o[0],s[o[0]]];return u}var fS=new $t("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:LV,construct:UV}),BV=Object.prototype.hasOwnProperty;function zV(t){if(t===null)return!0;var e,n=t;for(e in n)if(BV.call(n,e)&&n[e]!==null)return!1;return!0}function jV(t){return t!==null?t:{}}var dS=new $t("tag:yaml.org,2002:set",{kind:"mapping",resolve:zV,construct:jV}),Kg=sS.extend({implicit:[lS,uS],explicit:[cS,hS,fS,dS]}),ys=Object.prototype.hasOwnProperty,Xh=1,mS=2,pS=3,Wh=4,op=1,FV=2,fT=3,qV=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,HV=/[\x85\u2028\u2029]/,GV=/[,\[\]\{\}]/,gS=/^(?:!|!!|![a-z\-]+!)$/i,yS=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function dT(t){return Object.prototype.toString.call(t)}function xi(t){return t===10||t===13}function oa(t){return t===9||t===32}function vn(t){return t===9||t===32||t===10||t===13}function _o(t){return t===44||t===91||t===93||t===123||t===125}function YV(t){var e;return 48<=t&&t<=57?t-48:(e=t|32,97<=e&&e<=102?e-97+10:-1)}function KV(t){return t===120?2:t===117?4:t===85?8:0}function $V(t){return 48<=t&&t<=57?t-48:-1}function mT(t){return t===48?"\0":t===97?"\x07":t===98?"\b":t===116||t===9?"	":t===110?`
`:t===118?"\v":t===102?"\f":t===114?"\r":t===101?"\x1B":t===32?" ":t===34?'"':t===47?"/":t===92?"\\":t===78?"":t===95?"":t===76?"\u2028":t===80?"\u2029":""}function QV(t){return t<=65535?String.fromCharCode(t):String.fromCharCode((t-65536>>10)+55296,(t-65536&1023)+56320)}function _S(t,e,n){e==="__proto__"?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,writable:!0,value:n}):t[e]=n}var vS=new Array(256),ES=new Array(256);for(var co=0;co<256;co++)vS[co]=mT(co)?1:0,ES[co]=mT(co);function XV(t,e){this.input=t,this.filename=e.filename||null,this.schema=e.schema||Kg,this.onWarning=e.onWarning||null,this.legacy=e.legacy||!1,this.json=e.json||!1,this.listener=e.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=t.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function TS(t,e){var n={name:t.filename,buffer:t.input.slice(0,-1),position:t.position,line:t.line,column:t.position-t.lineStart};return n.snippet=eV(n),new hn(e,n)}function me(t,e){throw TS(t,e)}function Zh(t,e){t.onWarning&&t.onWarning.call(null,TS(t,e))}var pT={YAML:function(e,n,s){var o,u,c;e.version!==null&&me(e,"duplication of %YAML directive"),s.length!==1&&me(e,"YAML directive accepts exactly one argument"),o=/^([0-9]+)\.([0-9]+)$/.exec(s[0]),o===null&&me(e,"ill-formed argument of the YAML directive"),u=parseInt(o[1],10),c=parseInt(o[2],10),u!==1&&me(e,"unacceptable YAML version of the document"),e.version=s[0],e.checkLineBreaks=c<2,c!==1&&c!==2&&Zh(e,"unsupported YAML version of the document")},TAG:function(e,n,s){var o,u;s.length!==2&&me(e,"TAG directive accepts exactly two arguments"),o=s[0],u=s[1],gS.test(o)||me(e,"ill-formed tag handle (first argument) of the TAG directive"),ys.call(e.tagMap,o)&&me(e,'there is a previously declared suffix for "'+o+'" tag handle'),yS.test(u)||me(e,"ill-formed tag prefix (second argument) of the TAG directive");try{u=decodeURIComponent(u)}catch{me(e,"tag prefix is malformed: "+u)}e.tagMap[o]=u}};function ls(t,e,n,s){var o,u,c,d;if(e<n){if(d=t.input.slice(e,n),s)for(o=0,u=d.length;o<u;o+=1)c=d.charCodeAt(o),c===9||32<=c&&c<=1114111||me(t,"expected valid JSON character");else qV.test(d)&&me(t,"the stream contains non-printable characters");t.result+=d}}function gT(t,e,n,s){var o,u,c,d;for(Nt.isObject(n)||me(t,"cannot merge mappings; the provided source object is unacceptable"),o=Object.keys(n),c=0,d=o.length;c<d;c+=1)u=o[c],ys.call(e,u)||(_S(e,u,n[u]),s[u]=!0)}function vo(t,e,n,s,o,u,c,d,p){var g,_;if(Array.isArray(o))for(o=Array.prototype.slice.call(o),g=0,_=o.length;g<_;g+=1)Array.isArray(o[g])&&me(t,"nested arrays are not supported inside keys"),typeof o=="object"&&dT(o[g])==="[object Object]"&&(o[g]="[object Object]");if(typeof o=="object"&&dT(o)==="[object Object]"&&(o="[object Object]"),o=String(o),e===null&&(e={}),s==="tag:yaml.org,2002:merge")if(Array.isArray(u))for(g=0,_=u.length;g<_;g+=1)gT(t,e,u[g],n);else gT(t,e,u,n);else!t.json&&!ys.call(n,o)&&ys.call(e,o)&&(t.line=c||t.line,t.lineStart=d||t.lineStart,t.position=p||t.position,me(t,"duplicated mapping key")),_S(e,o,u),delete n[o];return e}function $g(t){var e;e=t.input.charCodeAt(t.position),e===10?t.position++:e===13?(t.position++,t.input.charCodeAt(t.position)===10&&t.position++):me(t,"a line break is expected"),t.line+=1,t.lineStart=t.position,t.firstTabInLine=-1}function St(t,e,n){for(var s=0,o=t.input.charCodeAt(t.position);o!==0;){for(;oa(o);)o===9&&t.firstTabInLine===-1&&(t.firstTabInLine=t.position),o=t.input.charCodeAt(++t.position);if(e&&o===35)do o=t.input.charCodeAt(++t.position);while(o!==10&&o!==13&&o!==0);if(xi(o))for($g(t),o=t.input.charCodeAt(t.position),s++,t.lineIndent=0;o===32;)t.lineIndent++,o=t.input.charCodeAt(++t.position);else break}return n!==-1&&s!==0&&t.lineIndent<n&&Zh(t,"deficient indentation"),s}function Nf(t){var e=t.position,n;return n=t.input.charCodeAt(e),!!((n===45||n===46)&&n===t.input.charCodeAt(e+1)&&n===t.input.charCodeAt(e+2)&&(e+=3,n=t.input.charCodeAt(e),n===0||vn(n)))}function Qg(t,e){e===1?t.result+=" ":e>1&&(t.result+=Nt.repeat(`
`,e-1))}function WV(t,e,n){var s,o,u,c,d,p,g,_,T=t.kind,b=t.result,D;if(D=t.input.charCodeAt(t.position),vn(D)||_o(D)||D===35||D===38||D===42||D===33||D===124||D===62||D===39||D===34||D===37||D===64||D===96||(D===63||D===45)&&(o=t.input.charCodeAt(t.position+1),vn(o)||n&&_o(o)))return!1;for(t.kind="scalar",t.result="",u=c=t.position,d=!1;D!==0;){if(D===58){if(o=t.input.charCodeAt(t.position+1),vn(o)||n&&_o(o))break}else if(D===35){if(s=t.input.charCodeAt(t.position-1),vn(s))break}else{if(t.position===t.lineStart&&Nf(t)||n&&_o(D))break;if(xi(D))if(p=t.line,g=t.lineStart,_=t.lineIndent,St(t,!1,-1),t.lineIndent>=e){d=!0,D=t.input.charCodeAt(t.position);continue}else{t.position=c,t.line=p,t.lineStart=g,t.lineIndent=_;break}}d&&(ls(t,u,c,!1),Qg(t,t.line-p),u=c=t.position,d=!1),oa(D)||(c=t.position+1),D=t.input.charCodeAt(++t.position)}return ls(t,u,c,!1),t.result?!0:(t.kind=T,t.result=b,!1)}function ZV(t,e){var n,s,o;if(n=t.input.charCodeAt(t.position),n!==39)return!1;for(t.kind="scalar",t.result="",t.position++,s=o=t.position;(n=t.input.charCodeAt(t.position))!==0;)if(n===39)if(ls(t,s,t.position,!0),n=t.input.charCodeAt(++t.position),n===39)s=t.position,t.position++,o=t.position;else return!0;else xi(n)?(ls(t,s,o,!0),Qg(t,St(t,!1,e)),s=o=t.position):t.position===t.lineStart&&Nf(t)?me(t,"unexpected end of the document within a single quoted scalar"):(t.position++,o=t.position);me(t,"unexpected end of the stream within a single quoted scalar")}function JV(t,e){var n,s,o,u,c,d;if(d=t.input.charCodeAt(t.position),d!==34)return!1;for(t.kind="scalar",t.result="",t.position++,n=s=t.position;(d=t.input.charCodeAt(t.position))!==0;){if(d===34)return ls(t,n,t.position,!0),t.position++,!0;if(d===92){if(ls(t,n,t.position,!0),d=t.input.charCodeAt(++t.position),xi(d))St(t,!1,e);else if(d<256&&vS[d])t.result+=ES[d],t.position++;else if((c=KV(d))>0){for(o=c,u=0;o>0;o--)d=t.input.charCodeAt(++t.position),(c=YV(d))>=0?u=(u<<4)+c:me(t,"expected hexadecimal character");t.result+=QV(u),t.position++}else me(t,"unknown escape sequence");n=s=t.position}else xi(d)?(ls(t,n,s,!0),Qg(t,St(t,!1,e)),n=s=t.position):t.position===t.lineStart&&Nf(t)?me(t,"unexpected end of the document within a double quoted scalar"):(t.position++,s=t.position)}me(t,"unexpected end of the stream within a double quoted scalar")}function ek(t,e){var n=!0,s,o,u,c=t.tag,d,p=t.anchor,g,_,T,b,D,j=Object.create(null),Y,F,ne,K;if(K=t.input.charCodeAt(t.position),K===91)_=93,D=!1,d=[];else if(K===123)_=125,D=!0,d={};else return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=d),K=t.input.charCodeAt(++t.position);K!==0;){if(St(t,!0,e),K=t.input.charCodeAt(t.position),K===_)return t.position++,t.tag=c,t.anchor=p,t.kind=D?"mapping":"sequence",t.result=d,!0;n?K===44&&me(t,"expected the node content, but found ','"):me(t,"missed comma between flow collection entries"),F=Y=ne=null,T=b=!1,K===63&&(g=t.input.charCodeAt(t.position+1),vn(g)&&(T=b=!0,t.position++,St(t,!0,e))),s=t.line,o=t.lineStart,u=t.position,ko(t,e,Xh,!1,!0),F=t.tag,Y=t.result,St(t,!0,e),K=t.input.charCodeAt(t.position),(b||t.line===s)&&K===58&&(T=!0,K=t.input.charCodeAt(++t.position),St(t,!0,e),ko(t,e,Xh,!1,!0),ne=t.result),D?vo(t,d,j,F,Y,ne,s,o,u):T?d.push(vo(t,null,j,F,Y,ne,s,o,u)):d.push(Y),St(t,!0,e),K=t.input.charCodeAt(t.position),K===44?(n=!0,K=t.input.charCodeAt(++t.position)):n=!1}me(t,"unexpected end of the stream within a flow collection")}function tk(t,e){var n,s,o=op,u=!1,c=!1,d=e,p=0,g=!1,_,T;if(T=t.input.charCodeAt(t.position),T===124)s=!1;else if(T===62)s=!0;else return!1;for(t.kind="scalar",t.result="";T!==0;)if(T=t.input.charCodeAt(++t.position),T===43||T===45)op===o?o=T===43?fT:FV:me(t,"repeat of a chomping mode identifier");else if((_=$V(T))>=0)_===0?me(t,"bad explicit indentation width of a block scalar; it cannot be less than one"):c?me(t,"repeat of an indentation width identifier"):(d=e+_-1,c=!0);else break;if(oa(T)){do T=t.input.charCodeAt(++t.position);while(oa(T));if(T===35)do T=t.input.charCodeAt(++t.position);while(!xi(T)&&T!==0)}for(;T!==0;){for($g(t),t.lineIndent=0,T=t.input.charCodeAt(t.position);(!c||t.lineIndent<d)&&T===32;)t.lineIndent++,T=t.input.charCodeAt(++t.position);if(!c&&t.lineIndent>d&&(d=t.lineIndent),xi(T)){p++;continue}if(t.lineIndent<d){o===fT?t.result+=Nt.repeat(`
`,u?1+p:p):o===op&&u&&(t.result+=`
`);break}for(s?oa(T)?(g=!0,t.result+=Nt.repeat(`
`,u?1+p:p)):g?(g=!1,t.result+=Nt.repeat(`
`,p+1)):p===0?u&&(t.result+=" "):t.result+=Nt.repeat(`
`,p):t.result+=Nt.repeat(`
`,u?1+p:p),u=!0,c=!0,p=0,n=t.position;!xi(T)&&T!==0;)T=t.input.charCodeAt(++t.position);ls(t,n,t.position,!1)}return!0}function yT(t,e){var n,s=t.tag,o=t.anchor,u=[],c,d=!1,p;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=u),p=t.input.charCodeAt(t.position);p!==0&&(t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,me(t,"tab characters must not be used in indentation")),!(p!==45||(c=t.input.charCodeAt(t.position+1),!vn(c))));){if(d=!0,t.position++,St(t,!0,-1)&&t.lineIndent<=e){u.push(null),p=t.input.charCodeAt(t.position);continue}if(n=t.line,ko(t,e,pS,!1,!0),u.push(t.result),St(t,!0,-1),p=t.input.charCodeAt(t.position),(t.line===n||t.lineIndent>e)&&p!==0)me(t,"bad indentation of a sequence entry");else if(t.lineIndent<e)break}return d?(t.tag=s,t.anchor=o,t.kind="sequence",t.result=u,!0):!1}function nk(t,e,n){var s,o,u,c,d,p,g=t.tag,_=t.anchor,T={},b=Object.create(null),D=null,j=null,Y=null,F=!1,ne=!1,K;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=T),K=t.input.charCodeAt(t.position);K!==0;){if(!F&&t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,me(t,"tab characters must not be used in indentation")),s=t.input.charCodeAt(t.position+1),u=t.line,(K===63||K===58)&&vn(s))K===63?(F&&(vo(t,T,b,D,j,null,c,d,p),D=j=Y=null),ne=!0,F=!0,o=!0):F?(F=!1,o=!0):me(t,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),t.position+=1,K=s;else{if(c=t.line,d=t.lineStart,p=t.position,!ko(t,n,mS,!1,!0))break;if(t.line===u){for(K=t.input.charCodeAt(t.position);oa(K);)K=t.input.charCodeAt(++t.position);if(K===58)K=t.input.charCodeAt(++t.position),vn(K)||me(t,"a whitespace character is expected after the key-value separator within a block mapping"),F&&(vo(t,T,b,D,j,null,c,d,p),D=j=Y=null),ne=!0,F=!1,o=!1,D=t.tag,j=t.result;else if(ne)me(t,"can not read an implicit mapping pair; a colon is missed");else return t.tag=g,t.anchor=_,!0}else if(ne)me(t,"can not read a block mapping entry; a multiline key may not be an implicit key");else return t.tag=g,t.anchor=_,!0}if((t.line===u||t.lineIndent>e)&&(F&&(c=t.line,d=t.lineStart,p=t.position),ko(t,e,Wh,!0,o)&&(F?j=t.result:Y=t.result),F||(vo(t,T,b,D,j,Y,c,d,p),D=j=Y=null),St(t,!0,-1),K=t.input.charCodeAt(t.position)),(t.line===u||t.lineIndent>e)&&K!==0)me(t,"bad indentation of a mapping entry");else if(t.lineIndent<e)break}return F&&vo(t,T,b,D,j,null,c,d,p),ne&&(t.tag=g,t.anchor=_,t.kind="mapping",t.result=T),ne}function ik(t){var e,n=!1,s=!1,o,u,c;if(c=t.input.charCodeAt(t.position),c!==33)return!1;if(t.tag!==null&&me(t,"duplication of a tag property"),c=t.input.charCodeAt(++t.position),c===60?(n=!0,c=t.input.charCodeAt(++t.position)):c===33?(s=!0,o="!!",c=t.input.charCodeAt(++t.position)):o="!",e=t.position,n){do c=t.input.charCodeAt(++t.position);while(c!==0&&c!==62);t.position<t.length?(u=t.input.slice(e,t.position),c=t.input.charCodeAt(++t.position)):me(t,"unexpected end of the stream within a verbatim tag")}else{for(;c!==0&&!vn(c);)c===33&&(s?me(t,"tag suffix cannot contain exclamation marks"):(o=t.input.slice(e-1,t.position+1),gS.test(o)||me(t,"named tag handle cannot contain such characters"),s=!0,e=t.position+1)),c=t.input.charCodeAt(++t.position);u=t.input.slice(e,t.position),GV.test(u)&&me(t,"tag suffix cannot contain flow indicator characters")}u&&!yS.test(u)&&me(t,"tag name cannot contain such characters: "+u);try{u=decodeURIComponent(u)}catch{me(t,"tag name is malformed: "+u)}return n?t.tag=u:ys.call(t.tagMap,o)?t.tag=t.tagMap[o]+u:o==="!"?t.tag="!"+u:o==="!!"?t.tag="tag:yaml.org,2002:"+u:me(t,'undeclared tag handle "'+o+'"'),!0}function rk(t){var e,n;if(n=t.input.charCodeAt(t.position),n!==38)return!1;for(t.anchor!==null&&me(t,"duplication of an anchor property"),n=t.input.charCodeAt(++t.position),e=t.position;n!==0&&!vn(n)&&!_o(n);)n=t.input.charCodeAt(++t.position);return t.position===e&&me(t,"name of an anchor node must contain at least one character"),t.anchor=t.input.slice(e,t.position),!0}function sk(t){var e,n,s;if(s=t.input.charCodeAt(t.position),s!==42)return!1;for(s=t.input.charCodeAt(++t.position),e=t.position;s!==0&&!vn(s)&&!_o(s);)s=t.input.charCodeAt(++t.position);return t.position===e&&me(t,"name of an alias node must contain at least one character"),n=t.input.slice(e,t.position),ys.call(t.anchorMap,n)||me(t,'unidentified alias "'+n+'"'),t.result=t.anchorMap[n],St(t,!0,-1),!0}function ko(t,e,n,s,o){var u,c,d,p=1,g=!1,_=!1,T,b,D,j,Y,F;if(t.listener!==null&&t.listener("open",t),t.tag=null,t.anchor=null,t.kind=null,t.result=null,u=c=d=Wh===n||pS===n,s&&St(t,!0,-1)&&(g=!0,t.lineIndent>e?p=1:t.lineIndent===e?p=0:t.lineIndent<e&&(p=-1)),p===1)for(;ik(t)||rk(t);)St(t,!0,-1)?(g=!0,d=u,t.lineIndent>e?p=1:t.lineIndent===e?p=0:t.lineIndent<e&&(p=-1)):d=!1;if(d&&(d=g||o),(p===1||Wh===n)&&(Xh===n||mS===n?Y=e:Y=e+1,F=t.position-t.lineStart,p===1?d&&(yT(t,F)||nk(t,F,Y))||ek(t,Y)?_=!0:(c&&tk(t,Y)||ZV(t,Y)||JV(t,Y)?_=!0:sk(t)?(_=!0,(t.tag!==null||t.anchor!==null)&&me(t,"alias node should not have any properties")):WV(t,Y,Xh===n)&&(_=!0,t.tag===null&&(t.tag="?")),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):p===0&&(_=d&&yT(t,F))),t.tag===null)t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);else if(t.tag==="?"){for(t.result!==null&&t.kind!=="scalar"&&me(t,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+t.kind+'"'),T=0,b=t.implicitTypes.length;T<b;T+=1)if(j=t.implicitTypes[T],j.resolve(t.result)){t.result=j.construct(t.result),t.tag=j.tag,t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);break}}else if(t.tag!=="!"){if(ys.call(t.typeMap[t.kind||"fallback"],t.tag))j=t.typeMap[t.kind||"fallback"][t.tag];else for(j=null,D=t.typeMap.multi[t.kind||"fallback"],T=0,b=D.length;T<b;T+=1)if(t.tag.slice(0,D[T].tag.length)===D[T].tag){j=D[T];break}j||me(t,"unknown tag !<"+t.tag+">"),t.result!==null&&j.kind!==t.kind&&me(t,"unacceptable node kind for !<"+t.tag+'> tag; it should be "'+j.kind+'", not "'+t.kind+'"'),j.resolve(t.result,t.tag)?(t.result=j.construct(t.result,t.tag),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):me(t,"cannot resolve a node with !<"+t.tag+"> explicit tag")}return t.listener!==null&&t.listener("close",t),t.tag!==null||t.anchor!==null||_}function ak(t){var e=t.position,n,s,o,u=!1,c;for(t.version=null,t.checkLineBreaks=t.legacy,t.tagMap=Object.create(null),t.anchorMap=Object.create(null);(c=t.input.charCodeAt(t.position))!==0&&(St(t,!0,-1),c=t.input.charCodeAt(t.position),!(t.lineIndent>0||c!==37));){for(u=!0,c=t.input.charCodeAt(++t.position),n=t.position;c!==0&&!vn(c);)c=t.input.charCodeAt(++t.position);for(s=t.input.slice(n,t.position),o=[],s.length<1&&me(t,"directive name must not be less than one character in length");c!==0;){for(;oa(c);)c=t.input.charCodeAt(++t.position);if(c===35){do c=t.input.charCodeAt(++t.position);while(c!==0&&!xi(c));break}if(xi(c))break;for(n=t.position;c!==0&&!vn(c);)c=t.input.charCodeAt(++t.position);o.push(t.input.slice(n,t.position))}c!==0&&$g(t),ys.call(pT,s)?pT[s](t,s,o):Zh(t,'unknown document directive "'+s+'"')}if(St(t,!0,-1),t.lineIndent===0&&t.input.charCodeAt(t.position)===45&&t.input.charCodeAt(t.position+1)===45&&t.input.charCodeAt(t.position+2)===45?(t.position+=3,St(t,!0,-1)):u&&me(t,"directives end mark is expected"),ko(t,t.lineIndent-1,Wh,!1,!0),St(t,!0,-1),t.checkLineBreaks&&HV.test(t.input.slice(e,t.position))&&Zh(t,"non-ASCII line breaks are interpreted as content"),t.documents.push(t.result),t.position===t.lineStart&&Nf(t)){t.input.charCodeAt(t.position)===46&&(t.position+=3,St(t,!0,-1));return}if(t.position<t.length-1)me(t,"end of the stream or a document separator is expected");else return}function AS(t,e){t=String(t),e=e||{},t.length!==0&&(t.charCodeAt(t.length-1)!==10&&t.charCodeAt(t.length-1)!==13&&(t+=`
`),t.charCodeAt(0)===65279&&(t=t.slice(1)));var n=new XV(t,e),s=t.indexOf("\0");for(s!==-1&&(n.position=s,me(n,"null byte is not allowed in input")),n.input+="\0";n.input.charCodeAt(n.position)===32;)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)ak(n);return n.documents}function ok(t,e,n){e!==null&&typeof e=="object"&&typeof n>"u"&&(n=e,e=null);var s=AS(t,n);if(typeof e!="function")return s;for(var o=0,u=s.length;o<u;o+=1)e(s[o])}function lk(t,e){var n=AS(t,e);if(n.length!==0){if(n.length===1)return n[0];throw new hn("expected a single document in the stream, but found more")}}var uk=ok,ck=lk,bS={loadAll:uk,load:ck},SS=Object.prototype.toString,wS=Object.prototype.hasOwnProperty,Xg=65279,hk=9,Iu=10,fk=13,dk=32,mk=33,pk=34,Up=35,gk=37,yk=38,_k=39,vk=42,RS=44,Ek=45,Jh=58,Tk=61,Ak=62,bk=63,Sk=64,IS=91,CS=93,wk=96,DS=123,Rk=124,xS=125,sn={};sn[0]="\\0";sn[7]="\\a";sn[8]="\\b";sn[9]="\\t";sn[10]="\\n";sn[11]="\\v";sn[12]="\\f";sn[13]="\\r";sn[27]="\\e";sn[34]='\\"';sn[92]="\\\\";sn[133]="\\N";sn[160]="\\_";sn[8232]="\\L";sn[8233]="\\P";var Ik=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],Ck=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function Dk(t,e){var n,s,o,u,c,d,p;if(e===null)return{};for(n={},s=Object.keys(e),o=0,u=s.length;o<u;o+=1)c=s[o],d=String(e[c]),c.slice(0,2)==="!!"&&(c="tag:yaml.org,2002:"+c.slice(2)),p=t.compiledTypeMap.fallback[c],p&&wS.call(p.styleAliases,d)&&(d=p.styleAliases[d]),n[c]=d;return n}function xk(t){var e,n,s;if(e=t.toString(16).toUpperCase(),t<=255)n="x",s=2;else if(t<=65535)n="u",s=4;else if(t<=4294967295)n="U",s=8;else throw new hn("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+n+Nt.repeat("0",s-e.length)+e}var Ok=1,Cu=2;function Nk(t){this.schema=t.schema||Kg,this.indent=Math.max(1,t.indent||2),this.noArrayIndent=t.noArrayIndent||!1,this.skipInvalid=t.skipInvalid||!1,this.flowLevel=Nt.isNothing(t.flowLevel)?-1:t.flowLevel,this.styleMap=Dk(this.schema,t.styles||null),this.sortKeys=t.sortKeys||!1,this.lineWidth=t.lineWidth||80,this.noRefs=t.noRefs||!1,this.noCompatMode=t.noCompatMode||!1,this.condenseFlow=t.condenseFlow||!1,this.quotingType=t.quotingType==='"'?Cu:Ok,this.forceQuotes=t.forceQuotes||!1,this.replacer=typeof t.replacer=="function"?t.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function _T(t,e){for(var n=Nt.repeat(" ",e),s=0,o=-1,u="",c,d=t.length;s<d;)o=t.indexOf(`
`,s),o===-1?(c=t.slice(s),s=d):(c=t.slice(s,o+1),s=o+1),c.length&&c!==`
`&&(u+=n),u+=c;return u}function Bp(t,e){return`
`+Nt.repeat(" ",t.indent*e)}function Mk(t,e){var n,s,o;for(n=0,s=t.implicitTypes.length;n<s;n+=1)if(o=t.implicitTypes[n],o.resolve(e))return!0;return!1}function ef(t){return t===dk||t===hk}function Du(t){return 32<=t&&t<=126||161<=t&&t<=55295&&t!==8232&&t!==8233||57344<=t&&t<=65533&&t!==Xg||65536<=t&&t<=1114111}function vT(t){return Du(t)&&t!==Xg&&t!==fk&&t!==Iu}function ET(t,e,n){var s=vT(t),o=s&&!ef(t);return(n?s:s&&t!==RS&&t!==IS&&t!==CS&&t!==DS&&t!==xS)&&t!==Up&&!(e===Jh&&!o)||vT(e)&&!ef(e)&&t===Up||e===Jh&&o}function Pk(t){return Du(t)&&t!==Xg&&!ef(t)&&t!==Ek&&t!==bk&&t!==Jh&&t!==RS&&t!==IS&&t!==CS&&t!==DS&&t!==xS&&t!==Up&&t!==yk&&t!==vk&&t!==mk&&t!==Rk&&t!==Tk&&t!==Ak&&t!==_k&&t!==pk&&t!==gk&&t!==Sk&&t!==wk}function Vk(t){return!ef(t)&&t!==Jh}function uu(t,e){var n=t.charCodeAt(e),s;return n>=55296&&n<=56319&&e+1<t.length&&(s=t.charCodeAt(e+1),s>=56320&&s<=57343)?(n-55296)*1024+s-56320+65536:n}function OS(t){var e=/^\n* /;return e.test(t)}var NS=1,zp=2,MS=3,PS=4,go=5;function kk(t,e,n,s,o,u,c,d){var p,g=0,_=null,T=!1,b=!1,D=s!==-1,j=-1,Y=Pk(uu(t,0))&&Vk(uu(t,t.length-1));if(e||c)for(p=0;p<t.length;g>=65536?p+=2:p++){if(g=uu(t,p),!Du(g))return go;Y=Y&&ET(g,_,d),_=g}else{for(p=0;p<t.length;g>=65536?p+=2:p++){if(g=uu(t,p),g===Iu)T=!0,D&&(b=b||p-j-1>s&&t[j+1]!==" ",j=p);else if(!Du(g))return go;Y=Y&&ET(g,_,d),_=g}b=b||D&&p-j-1>s&&t[j+1]!==" "}return!T&&!b?Y&&!c&&!o(t)?NS:u===Cu?go:zp:n>9&&OS(t)?go:c?u===Cu?go:zp:b?PS:MS}function Lk(t,e,n,s,o){t.dump=(function(){if(e.length===0)return t.quotingType===Cu?'""':"''";if(!t.noCompatMode&&(Ik.indexOf(e)!==-1||Ck.test(e)))return t.quotingType===Cu?'"'+e+'"':"'"+e+"'";var u=t.indent*Math.max(1,n),c=t.lineWidth===-1?-1:Math.max(Math.min(t.lineWidth,40),t.lineWidth-u),d=s||t.flowLevel>-1&&n>=t.flowLevel;function p(g){return Mk(t,g)}switch(kk(e,d,t.indent,c,p,t.quotingType,t.forceQuotes&&!s,o)){case NS:return e;case zp:return"'"+e.replace(/'/g,"''")+"'";case MS:return"|"+TT(e,t.indent)+AT(_T(e,u));case PS:return">"+TT(e,t.indent)+AT(_T(Uk(e,c),u));case go:return'"'+Bk(e)+'"';default:throw new hn("impossible error: invalid scalar style")}})()}function TT(t,e){var n=OS(t)?String(e):"",s=t[t.length-1]===`
`,o=s&&(t[t.length-2]===`
`||t===`
`),u=o?"+":s?"":"-";return n+u+`
`}function AT(t){return t[t.length-1]===`
`?t.slice(0,-1):t}function Uk(t,e){for(var n=/(\n+)([^\n]*)/g,s=(function(){var g=t.indexOf(`
`);return g=g!==-1?g:t.length,n.lastIndex=g,bT(t.slice(0,g),e)})(),o=t[0]===`
`||t[0]===" ",u,c;c=n.exec(t);){var d=c[1],p=c[2];u=p[0]===" ",s+=d+(!o&&!u&&p!==""?`
`:"")+bT(p,e),o=u}return s}function bT(t,e){if(t===""||t[0]===" ")return t;for(var n=/ [^ ]/g,s,o=0,u,c=0,d=0,p="";s=n.exec(t);)d=s.index,d-o>e&&(u=c>o?c:d,p+=`
`+t.slice(o,u),o=u+1),c=d;return p+=`
`,t.length-o>e&&c>o?p+=t.slice(o,c)+`
`+t.slice(c+1):p+=t.slice(o),p.slice(1)}function Bk(t){for(var e="",n=0,s,o=0;o<t.length;n>=65536?o+=2:o++)n=uu(t,o),s=sn[n],!s&&Du(n)?(e+=t[o],n>=65536&&(e+=t[o+1])):e+=s||xk(n);return e}function zk(t,e,n){var s="",o=t.tag,u,c,d;for(u=0,c=n.length;u<c;u+=1)d=n[u],t.replacer&&(d=t.replacer.call(n,String(u),d)),(hr(t,e,d,!1,!1)||typeof d>"u"&&hr(t,e,null,!1,!1))&&(s!==""&&(s+=","+(t.condenseFlow?"":" ")),s+=t.dump);t.tag=o,t.dump="["+s+"]"}function ST(t,e,n,s){var o="",u=t.tag,c,d,p;for(c=0,d=n.length;c<d;c+=1)p=n[c],t.replacer&&(p=t.replacer.call(n,String(c),p)),(hr(t,e+1,p,!0,!0,!1,!0)||typeof p>"u"&&hr(t,e+1,null,!0,!0,!1,!0))&&((!s||o!=="")&&(o+=Bp(t,e)),t.dump&&Iu===t.dump.charCodeAt(0)?o+="-":o+="- ",o+=t.dump);t.tag=u,t.dump=o||"[]"}function jk(t,e,n){var s="",o=t.tag,u=Object.keys(n),c,d,p,g,_;for(c=0,d=u.length;c<d;c+=1)_="",s!==""&&(_+=", "),t.condenseFlow&&(_+='"'),p=u[c],g=n[p],t.replacer&&(g=t.replacer.call(n,p,g)),hr(t,e,p,!1,!1)&&(t.dump.length>1024&&(_+="? "),_+=t.dump+(t.condenseFlow?'"':"")+":"+(t.condenseFlow?"":" "),hr(t,e,g,!1,!1)&&(_+=t.dump,s+=_));t.tag=o,t.dump="{"+s+"}"}function Fk(t,e,n,s){var o="",u=t.tag,c=Object.keys(n),d,p,g,_,T,b;if(t.sortKeys===!0)c.sort();else if(typeof t.sortKeys=="function")c.sort(t.sortKeys);else if(t.sortKeys)throw new hn("sortKeys must be a boolean or a function");for(d=0,p=c.length;d<p;d+=1)b="",(!s||o!=="")&&(b+=Bp(t,e)),g=c[d],_=n[g],t.replacer&&(_=t.replacer.call(n,g,_)),hr(t,e+1,g,!0,!0,!0)&&(T=t.tag!==null&&t.tag!=="?"||t.dump&&t.dump.length>1024,T&&(t.dump&&Iu===t.dump.charCodeAt(0)?b+="?":b+="? "),b+=t.dump,T&&(b+=Bp(t,e)),hr(t,e+1,_,!0,T)&&(t.dump&&Iu===t.dump.charCodeAt(0)?b+=":":b+=": ",b+=t.dump,o+=b));t.tag=u,t.dump=o||"{}"}function wT(t,e,n){var s,o,u,c,d,p;for(o=n?t.explicitTypes:t.implicitTypes,u=0,c=o.length;u<c;u+=1)if(d=o[u],(d.instanceOf||d.predicate)&&(!d.instanceOf||typeof e=="object"&&e instanceof d.instanceOf)&&(!d.predicate||d.predicate(e))){if(n?d.multi&&d.representName?t.tag=d.representName(e):t.tag=d.tag:t.tag="?",d.represent){if(p=t.styleMap[d.tag]||d.defaultStyle,SS.call(d.represent)==="[object Function]")s=d.represent(e,p);else if(wS.call(d.represent,p))s=d.represent[p](e,p);else throw new hn("!<"+d.tag+'> tag resolver accepts not "'+p+'" style');t.dump=s}return!0}return!1}function hr(t,e,n,s,o,u,c){t.tag=null,t.dump=n,wT(t,n,!1)||wT(t,n,!0);var d=SS.call(t.dump),p=s,g;s&&(s=t.flowLevel<0||t.flowLevel>e);var _=d==="[object Object]"||d==="[object Array]",T,b;if(_&&(T=t.duplicates.indexOf(n),b=T!==-1),(t.tag!==null&&t.tag!=="?"||b||t.indent!==2&&e>0)&&(o=!1),b&&t.usedDuplicates[T])t.dump="*ref_"+T;else{if(_&&b&&!t.usedDuplicates[T]&&(t.usedDuplicates[T]=!0),d==="[object Object]")s&&Object.keys(t.dump).length!==0?(Fk(t,e,t.dump,o),b&&(t.dump="&ref_"+T+t.dump)):(jk(t,e,t.dump),b&&(t.dump="&ref_"+T+" "+t.dump));else if(d==="[object Array]")s&&t.dump.length!==0?(t.noArrayIndent&&!c&&e>0?ST(t,e-1,t.dump,o):ST(t,e,t.dump,o),b&&(t.dump="&ref_"+T+t.dump)):(zk(t,e,t.dump),b&&(t.dump="&ref_"+T+" "+t.dump));else if(d==="[object String]")t.tag!=="?"&&Lk(t,t.dump,e,u,p);else{if(d==="[object Undefined]")return!1;if(t.skipInvalid)return!1;throw new hn("unacceptable kind of an object to dump "+d)}t.tag!==null&&t.tag!=="?"&&(g=encodeURI(t.tag[0]==="!"?t.tag.slice(1):t.tag).replace(/!/g,"%21"),t.tag[0]==="!"?g="!"+g:g.slice(0,18)==="tag:yaml.org,2002:"?g="!!"+g.slice(18):g="!<"+g+">",t.dump=g+" "+t.dump)}return!0}function qk(t,e){var n=[],s=[],o,u;for(jp(t,n,s),o=0,u=s.length;o<u;o+=1)e.duplicates.push(n[s[o]]);e.usedDuplicates=new Array(u)}function jp(t,e,n){var s,o,u;if(t!==null&&typeof t=="object")if(o=e.indexOf(t),o!==-1)n.indexOf(o)===-1&&n.push(o);else if(e.push(t),Array.isArray(t))for(o=0,u=t.length;o<u;o+=1)jp(t[o],e,n);else for(s=Object.keys(t),o=0,u=s.length;o<u;o+=1)jp(t[s[o]],e,n)}function Hk(t,e){e=e||{};var n=new Nk(e);n.noRefs||qk(t,n);var s=t;return n.replacer&&(s=n.replacer.call({"":s},"",s)),hr(n,0,s,!0,!0)?n.dump+`
`:""}var Gk=Hk,Yk={dump:Gk};function Wg(t,e){return function(){throw new Error("Function yaml."+t+" is removed in js-yaml 4. Use yaml."+e+" instead, which is now safe by default.")}}var Kk=$t,$k=Q1,Qk=J1,Xk=rS,Wk=sS,Zk=Kg,Jk=bS.load,e3=bS.loadAll,t3=Yk.dump,n3=hn,i3={binary:cS,float:iS,map:Z1,null:eS,pairs:fS,set:dS,timestamp:lS,bool:tS,int:nS,merge:uS,omap:hS,seq:W1,str:X1},r3=Wg("safeLoad","load"),s3=Wg("safeLoadAll","loadAll"),a3=Wg("safeDump","dump"),o3={Type:Kk,Schema:$k,FAILSAFE_SCHEMA:Qk,JSON_SCHEMA:Xk,CORE_SCHEMA:Wk,DEFAULT_SCHEMA:Zk,load:Jk,loadAll:e3,dump:t3,YAMLException:n3,types:i3,safeLoad:r3,safeLoadAll:s3,safeDump:a3};const l3=t=>t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),Zg=(t,e)=>`${t}${l3(e)}`,VS=t=>{const e=t/1e3,n=Math.floor(e/86400),s=Math.floor(e%86400/3600),o=Math.floor(e%3600/60),u=e%60,c=o>9||s||n?Math.round(u):u.toFixed(1);let d="";return n&&(d+=`${n}d `),s&&(d+=`${s}h `),o&&(d+=`${o}m `),u&&(d+=`${c}s`),d.trim()},Fp=(t,e)=>{const n=t.toString().padStart(5,"0"),s=e.toString().padStart(5,"0");return`item${n}_bid${s}`},Rh=t=>{const e=t.match(/item(\d+)_bid(\d+)/);return{item:Number(e[1]),bid:Number(e[2])}},u3=(t,e)=>{let n={};for(const[s,o]of Object.entries(t.data())){const{item:u,bid:c}=Rh(s);if(u in n||(n[u]={bids:{}}),c===0){const{amount:d,endTime:p,...g}=o;if(n[u]={...n[u],...g,startingPrice:d,endTime:p.toDate()},e){const _=new Date;n[u].endTime=new Date(_.getFullYear(),_.getMonth(),_.getDate(),_.getHours(),_.getMinutes()+n[u].endTime.getMinutes(),n[u].endTime.getSeconds())}}else n[u].bids[c]=o}return Object.values(n)},tf=(t=void 0,e=!1,n=!1)=>{fetch("/auction-website/items.yml").then(s=>s.text()).then(s=>o3.load(s)).then(s=>{t!==void 0&&(s=[s.find(d=>d.id===t)]);let o=e?"update item data":n?"delete all bids":"",u=t===void 0?"all items":`item ${t}`;if(confirm(`You are about to ${o} for ${u}, are you sure?`)==!1)return;const c=Yo(Ko,"auction","items");Ug(c).then(d=>{console.debug("editItems() read from auction/items");let p=Object.keys(d.data());p.length===0&&(p=s.map(_=>Fp(_.id,0)));const g={};return s.forEach(_=>{_.endTime=et.fromDate(new Date(_.endTime));const T=p.filter(b=>Rh(b).item===_.id);if(T.length===0&&e){const b=Fp(_.id,0);g[b]=_}else T.forEach(b=>{e&&Rh(b).bid===0&&(g[b]=_),n&&Rh(b).bid&&(g[b]=h4())})}),g}).then(d=>{b1(c,d),console.debug("editItems() write to from auction/items")})})},Jg=B.createContext(),kS=({demo:t,children:e})=>{const[n,s]=B.useState([]);return B.useEffect(()=>{const o=Yo(Ko,"auction","items"),u=g4(o,c=>{c.exists()?(console.debug("<ItemsProvider /> read from auction/items"),s(u3(c,t))):(console.debug("<ItemsProvider /> write to auction/items"),A1(o,{}))});return()=>u()},[t]),te.jsx(Jg.Provider,{value:{items:n},children:e})};kS.propTypes={demo:nt.bool,children:nt.object};const da={ITEM:"item",SIGN_UP:"signUp",NONE:null},$o=B.createContext(),LS=({children:t})=>{const[e,n]=B.useState({}),[s,o]=B.useState(da.NONE),u=(d,p={})=>{n(p),o(d)},c=()=>{o(da.NONE),n({})};return te.jsx($o.Provider,{value:{activeItem:e,currentModal:s,openModal:u,closeModal:c},children:t})};LS.propTypes={children:nt.arrayOf(nt.element)};const US=({admin:t})=>{const e=B.useContext($o).openModal,n=Kp(),[s,o]=B.useState(""),[u,c]=B.useState("Sign up"),[d,p]=B.useState("Admin"),g=fr();B.useEffect(()=>{const b=PA(Vo,D=>{D&&D.displayName!=null&&(o(`Hi ${D.displayName}`),c("Sign out"))});return()=>b()},[s.displayName]);const _=()=>{g.pathname.includes("admin")?(n("/auction-website/"),p("Admin")):(n("/auction-website/admin"),p("Home"))},T=()=>{s?(o(""),c("Sign up")):e(da.SIGN_UP)};return te.jsx("nav",{className:"navbar navbar-dark bg-primary",children:te.jsxs("div",{className:"container-fluid",children:[te.jsxs("div",{className:"navbar-brand mb-0 h1 me-auto",children:[te.jsx("img",{src:"/auction-website/logo.png",alt:"Logo",width:"30",height:"24",className:"d-inline-block align-text-top"}),"The Markatplace"]}),te.jsxs("div",{className:"row row-cols-auto",children:[te.jsx("div",{className:"navbar-brand",children:s}),t&&te.jsx("button",{onClick:_,className:"btn btn-secondary me-2",children:d}),te.jsx("button",{onClick:T,className:"btn btn-secondary me-2",children:u})]})]})})};US.propTypes={admin:nt.bool};const c3="modulepreload",h3=function(t){return"/auction-website/"+t},RT={},st=function(e,n,s){let o=Promise.resolve();if(n&&n.length>0){let g=function(_){return Promise.all(_.map(T=>Promise.resolve(T).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};var c=g;document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),p=d?.nonce||d?.getAttribute("nonce");o=g(n.map(_=>{if(_=h3(_),_ in RT)return;RT[_]=!0;const T=_.endsWith(".css"),b=T?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${_}"]${b}`))return;const D=document.createElement("link");if(D.rel=T?"stylesheet":c3,T||(D.as="script"),D.crossOrigin="",D.href=_,p&&D.setAttribute("nonce",p),document.head.appendChild(D),T)return new Promise((j,Y)=>{D.addEventListener("load",j),D.addEventListener("error",()=>Y(new Error(`Unable to preload CSS for ${_}`)))})}))}function u(d){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=d,window.dispatchEvent(p),!p.defaultPrevented)throw d}return o.then(d=>{for(const p of d||[])p.status==="rejected"&&u(p.reason);return e().catch(u)})},BS=(t,e,n)=>{const s=t[e];return s?typeof s=="function"?s():Promise.resolve(s):new Promise((o,u)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(u.bind(null,new Error("Unknown variable dynamic import: "+e+(e.split("/").length!==n?". Note that variables only represent file names one level deep.":""))))})},nf=t=>{const e=Object.keys(t.bids??{}).length,n=e?t.bids[e].amount:t.startingPrice??0,s=e?t.bids[e].uid:"";return{bids:e,amount:n,winner:s}},ey=({type:t,title:e,children:n})=>{const{closeModal:s,currentModal:o}=B.useContext($o);return t!==o?null:cC.createPortal(te.jsx("div",{className:"modal fade show",style:{display:"block"},onClick:s,children:te.jsx("div",{className:"modal-dialog modal-dialog-centered modal-dialog-scrollable",onClick:u=>u.stopPropagation(),children:te.jsxs("div",{className:"modal-content",children:[te.jsxs("div",{className:"modal-header",children:[te.jsx("h5",{className:"modal-title",children:e}),te.jsx("button",{className:"btn-close",onClick:s})]}),n]})})}),document.body)};ey.propTypes={type:nt.string,title:nt.string,children:nt.arrayOf(nt.element)};const f3=()=>{const{activeItem:t,openModal:e,closeModal:n}=B.useContext($o),[s,o]=B.useState(""),u=1,c=10,[d,p]=B.useState(),[g,_]=B.useState(""),[T,b]=B.useState(""),[D,j]=B.useState(""),[Y,F]=B.useState("-.--");B.useEffect(()=>{t.secondaryImage!==void 0&&BS(Object.assign({"../assets/DALLE 2023-12-17 17.21.27 - A whimsical cat wearing a tiny wizard hat and cape, standing on its hind legs, with a background of twinkling stars and a crescent moon.png":()=>st(()=>import("./DALLE 2023-12-17 17.21.27 - A whimsical cat wearing a tiny wizard hat and cape_ standing on its hind legs_ with a background of twinkling stars and a crescent moon-DubEStEM.js"),[]),"../assets/DALLE 2023-12-17 17.21.44 - A playful cat lounging in a hammock, surrounded by lush green plants, with a relaxed expression and a tropical drink beside it.png":()=>st(()=>import("./DALLE 2023-12-17 17.21.44 - A playful cat lounging in a hammock_ surrounded by lush green plants_ with a relaxed expression and a tropical drink beside it-CCqSZ5s3.js"),[]),"../assets/DALLE 2023-12-17 17.21.50 - A curious cat peering out of a spaceship window, with distant planets and stars visible in the background, giving a sense of wonder and explorat.png":()=>st(()=>import("./DALLE 2023-12-17 17.21.50 - A curious cat peering out of a spaceship window_ with distant planets and stars visible in the background_ giving a sense of wonder and explorat-CDDjbYJQ.js"),[]),"../assets/DALLE 2023-12-17 17.21.53 - A cat dressed as a detective, complete with a trench coat and magnifying glass, standing in a dimly lit alleyway, looking mysterious and ready t.png":()=>st(()=>import("./DALLE 2023-12-17 17.21.53 - A cat dressed as a detective_ complete with a trench coat and magnifying glass_ standing in a dimly lit alleyway_ looking mysterious and ready t-DAoF_dNN.js"),[]),"../assets/DALLE 2023-12-17 17.21.58 - A cat artist painting a masterpiece, surrounded by colorful paint tubes and brushes, with a beret on its head and a look of deep concentration.png":()=>st(()=>import("./DALLE 2023-12-17 17.21.58 - A cat artist painting a masterpiece_ surrounded by colorful paint tubes and brushes_ with a beret on its head and a look of deep concentration-eWNUom53.js"),[]),"../assets/DALLE 2023-12-17 17.22.00 - A majestic cat wearing a king's crown and robe, sitting on a luxurious throne with an expression of regal dignity, in a grand castle hall.png":()=>st(()=>import("./DALLE 2023-12-17 17.22.00 - A majestic cat wearing a king's crown and robe_ sitting on a luxurious throne with an expression of regal dignity_ in a grand castle hall-lbNsJ28U.js"),[]),"../assets/DALLE 2023-12-17 17.22.03 - A cat astronaut floating in space, with a tiny space helmet and a backdrop of a colorful nebula and twinkling stars, looking amazed by the cosmi.png":()=>st(()=>import("./DALLE 2023-12-17 17.22.03 - A cat astronaut floating in space_ with a tiny space helmet and a backdrop of a colorful nebula and twinkling stars_ looking amazed by the cosmi-Dez1-pKQ.js"),[]),"../assets/DALLE 2023-12-17 17.22.07 - A cat chef cooking in a bustling kitchen, wearing a chef's hat and apron, surrounded by delicious food and kitchen utensils, looking focused and.png":()=>st(()=>import("./DALLE 2023-12-17 17.22.07 - A cat chef cooking in a bustling kitchen_ wearing a chef's hat and apron_ surrounded by delicious food and kitchen utensils_ looking focused and-8ibcyYtY.js"),[]),"../assets/DALLE 2023-12-17 17.22.10 - A cat ninja stealthily moving through a moonlit garden, with a small sword and a mask, surrounded by blooming cherry blossoms and a tranquil pon.png":()=>st(()=>import("./DALLE 2023-12-17 17.22.10 - A cat ninja stealthily moving through a moonlit garden_ with a small sword and a mask_ surrounded by blooming cherry blossoms and a tranquil pon-DDWt8hbs.js"),[]),"../assets/DALLE 2023-12-17 17.22.12 - A cat pirate standing on the deck of a ship, with a pirate hat and an eye patch, holding a treasure map, with the ocean and a tropical island in.png":()=>st(()=>import("./DALLE 2023-12-17 17.22.12 - A cat pirate standing on the deck of a ship_ with a pirate hat and an eye patch_ holding a treasure map_ with the ocean and a tropical island in-3f6gIbFI.js"),[]),"../assets/DALLE 2023-12-17 17.22.15 - A cat superhero flying through the city skyline, wearing a cape and a mask, with tall buildings and a setting sun in the background, looking her.png":()=>st(()=>import("./DALLE 2023-12-17 17.22.15 - A cat superhero flying through the city skyline_ wearing a cape and a mask_ with tall buildings and a setting sun in the background_ looking her-DgvE_vMF.js"),[]),"../assets/DALLE 2023-12-17 17.22.17 - A cat relaxing on a sunny beach, with sunglasses, a sunhat, and a beach ball, surrounded by palm trees, with a clear blue ocean and a bright sky.png":()=>st(()=>import("./DALLE 2023-12-17 17.22.17 - A cat relaxing on a sunny beach_ with sunglasses_ a sunhat_ and a beach ball_ surrounded by palm trees_ with a clear blue ocean and a bright sky-BulFWkcu.js"),[])}),`../assets/${t.secondaryImage}.png`,3).then(oe=>{o(oe.default)})},[t.secondaryImage]),B.useEffect(()=>{const oe=nf(t);F(Zg(t.currency,oe.amount+u))},[t]);const ne=()=>{setTimeout(()=>{n(),j(""),_("")},1e3)},K=()=>{let oe=new Date().getTime();if(b(!0),t.endTime-oe<0){j("Sorry, this item has ended!"),_("is-invalid"),ne(),b(!1);return}if(Vo.currentUser.displayName==null){j("You must provide a username before bidding!"),_("is-invalid"),setTimeout(()=>{e(da.SIGN_UP),b(!1),_("")},1e3);return}if(!/^\d+(\.\d{1,2})?$/.test(d)){j("Please enter a valid monetary amount!"),_("is-invalid"),b(!1);return}const Re=parseFloat(d),x=nf(t);if(Re<x.amount+u){j("You did not bid enough!"),_("is-invalid"),b(!1);return}if(Re>x.amount+c){j(`For the demo you can only increase the price up to ${t.currency}${c} per bid.`),_("is-invalid"),b(!1);return}b1(Yo(Ko,"auction","items"),{[Fp(t.id,x.bids+1)]:{amount:Re,uid:Vo.currentUser.uid}}),console.debug("handleSubmidBid() write to auction/items"),_("is-valid"),ne()},re=oe=>{p(oe.target.value),b(!1),_("")},Ce=oe=>{oe.key==="Enter"&&!T&&K()};return te.jsxs(ey,{type:da.ITEM,title:t.title,children:[te.jsxs("div",{className:"modal-body",children:[te.jsx("p",{children:t.detail}),te.jsx("img",{src:s,className:"img-fluid",alt:t.title})]}),te.jsxs("div",{className:"modal-footer justify-content-start",children:[te.jsxs("div",{className:"input-group mb-2",children:[te.jsx("span",{className:"input-group-text",children:t.currency}),te.jsx("input",{className:`form-control ${g}`,onChange:re,onKeyDown:Ce}),te.jsx("button",{type:"submit",className:"btn btn-primary",onClick:K,disabled:T,children:"Submit bid"}),te.jsx("div",{className:"invalid-feedback",children:D})]}),te.jsxs("label",{className:"form-label",children:["Enter ",Y," or more"]}),te.jsx("p",{className:"text-muted",children:"(This is just a demo, you're not bidding real money)"})]})]})},d3=()=>{const{closeModal:t}=B.useContext($o),[e,n]=B.useState(""),[s,o]=B.useState(""),u=()=>{const d=Vo.currentUser;VD(d,{displayName:e}),A1(Yo(Ko,"users",d.uid),{name:e,admin:""}),console.debug(`signUp() write to users/${d.uid}`),o("is-valid"),setTimeout(()=>{t(),o("")},1e3)},c=d=>{d.key==="Enter"&&u()};return te.jsxs(ey,{type:da.SIGN_UP,title:"Sign up for Markatplace Auction",children:[te.jsxs("div",{className:"modal-body",children:[te.jsx("p",{children:"We use anonymous authentication provided by Google. Your account is attached to your device signature."}),te.jsx("p",{children:"The username just lets us know who's bidding!"}),te.jsx("form",{onSubmit:d=>d.preventDefault(),children:te.jsxs("div",{className:"form-floating mb-3",children:[te.jsx("input",{autoFocus:!0,id:"username-input",type:"username",className:`form-control ${s}`,value:e,onChange:d=>n(d.target.value),onKeyDown:c}),te.jsx("label",{children:"Username"})]})})]}),te.jsxs("div",{className:"modal-footer",children:[te.jsx("button",{type:"button",className:"btn btn-secondary",onClick:t,children:"Cancel"}),te.jsx("button",{type:"submit",className:"btn btn-primary",onClick:u,children:"Sign up"})]})]})},zS=({item:t})=>{const{openModal:e}=B.useContext($o),[n,s]=B.useState(""),[o,u]=B.useState(0),[c,d]=B.useState(t.startingPrice),[p,g]=B.useState("");return B.useEffect(()=>{const _=nf(t);u(_.bids),d(Zg(t.currency,_.amount))},[t]),B.useEffect(()=>{const _=()=>{const T=Date.now(),b=t.endTime-T;b>0?(g(VS(b)),requestAnimationFrame(_)):g("Item Ended")};requestAnimationFrame(_)},[t.endTime]),B.useEffect(()=>{BS(Object.assign({"../assets/DALLE 2023-12-17 17.21.27 - A whimsical cat wearing a tiny wizard hat and cape, standing on its hind legs, with a background of twinkling stars and a crescent moon.png":()=>st(()=>import("./DALLE 2023-12-17 17.21.27 - A whimsical cat wearing a tiny wizard hat and cape_ standing on its hind legs_ with a background of twinkling stars and a crescent moon-DubEStEM.js"),[]),"../assets/DALLE 2023-12-17 17.21.44 - A playful cat lounging in a hammock, surrounded by lush green plants, with a relaxed expression and a tropical drink beside it.png":()=>st(()=>import("./DALLE 2023-12-17 17.21.44 - A playful cat lounging in a hammock_ surrounded by lush green plants_ with a relaxed expression and a tropical drink beside it-CCqSZ5s3.js"),[]),"../assets/DALLE 2023-12-17 17.21.50 - A curious cat peering out of a spaceship window, with distant planets and stars visible in the background, giving a sense of wonder and explorat.png":()=>st(()=>import("./DALLE 2023-12-17 17.21.50 - A curious cat peering out of a spaceship window_ with distant planets and stars visible in the background_ giving a sense of wonder and explorat-CDDjbYJQ.js"),[]),"../assets/DALLE 2023-12-17 17.21.53 - A cat dressed as a detective, complete with a trench coat and magnifying glass, standing in a dimly lit alleyway, looking mysterious and ready t.png":()=>st(()=>import("./DALLE 2023-12-17 17.21.53 - A cat dressed as a detective_ complete with a trench coat and magnifying glass_ standing in a dimly lit alleyway_ looking mysterious and ready t-DAoF_dNN.js"),[]),"../assets/DALLE 2023-12-17 17.21.58 - A cat artist painting a masterpiece, surrounded by colorful paint tubes and brushes, with a beret on its head and a look of deep concentration.png":()=>st(()=>import("./DALLE 2023-12-17 17.21.58 - A cat artist painting a masterpiece_ surrounded by colorful paint tubes and brushes_ with a beret on its head and a look of deep concentration-eWNUom53.js"),[]),"../assets/DALLE 2023-12-17 17.22.00 - A majestic cat wearing a king's crown and robe, sitting on a luxurious throne with an expression of regal dignity, in a grand castle hall.png":()=>st(()=>import("./DALLE 2023-12-17 17.22.00 - A majestic cat wearing a king's crown and robe_ sitting on a luxurious throne with an expression of regal dignity_ in a grand castle hall-lbNsJ28U.js"),[]),"../assets/DALLE 2023-12-17 17.22.03 - A cat astronaut floating in space, with a tiny space helmet and a backdrop of a colorful nebula and twinkling stars, looking amazed by the cosmi.png":()=>st(()=>import("./DALLE 2023-12-17 17.22.03 - A cat astronaut floating in space_ with a tiny space helmet and a backdrop of a colorful nebula and twinkling stars_ looking amazed by the cosmi-Dez1-pKQ.js"),[]),"../assets/DALLE 2023-12-17 17.22.07 - A cat chef cooking in a bustling kitchen, wearing a chef's hat and apron, surrounded by delicious food and kitchen utensils, looking focused and.png":()=>st(()=>import("./DALLE 2023-12-17 17.22.07 - A cat chef cooking in a bustling kitchen_ wearing a chef's hat and apron_ surrounded by delicious food and kitchen utensils_ looking focused and-8ibcyYtY.js"),[]),"../assets/DALLE 2023-12-17 17.22.10 - A cat ninja stealthily moving through a moonlit garden, with a small sword and a mask, surrounded by blooming cherry blossoms and a tranquil pon.png":()=>st(()=>import("./DALLE 2023-12-17 17.22.10 - A cat ninja stealthily moving through a moonlit garden_ with a small sword and a mask_ surrounded by blooming cherry blossoms and a tranquil pon-DDWt8hbs.js"),[]),"../assets/DALLE 2023-12-17 17.22.12 - A cat pirate standing on the deck of a ship, with a pirate hat and an eye patch, holding a treasure map, with the ocean and a tropical island in.png":()=>st(()=>import("./DALLE 2023-12-17 17.22.12 - A cat pirate standing on the deck of a ship_ with a pirate hat and an eye patch_ holding a treasure map_ with the ocean and a tropical island in-3f6gIbFI.js"),[]),"../assets/DALLE 2023-12-17 17.22.15 - A cat superhero flying through the city skyline, wearing a cape and a mask, with tall buildings and a setting sun in the background, looking her.png":()=>st(()=>import("./DALLE 2023-12-17 17.22.15 - A cat superhero flying through the city skyline_ wearing a cape and a mask_ with tall buildings and a setting sun in the background_ looking her-DgvE_vMF.js"),[]),"../assets/DALLE 2023-12-17 17.22.17 - A cat relaxing on a sunny beach, with sunglasses, a sunhat, and a beach ball, surrounded by palm trees, with a clear blue ocean and a bright sky.png":()=>st(()=>import("./DALLE 2023-12-17 17.22.17 - A cat relaxing on a sunny beach_ with sunglasses_ a sunhat_ and a beach ball_ surrounded by palm trees_ with a clear blue ocean and a bright sky-BulFWkcu.js"),[])}),`../assets/${t.primaryImage}.png`,3).then(_=>{s(_.default)})},[t.primaryImage]),te.jsx("div",{className:"col",children:te.jsxs("div",{className:"card h-100",onClick:()=>e(da.ITEM,t),children:[te.jsx("img",{src:n,className:"card-img-top",alt:t.title}),te.jsxs("div",{className:"card-body",children:[te.jsx("h5",{className:"title",children:t.title}),te.jsx("h6",{className:"card-subtitle mb-2 text-body-secondary",children:t.subtitle})]}),te.jsxs("ul",{className:"list-group list-group-flush",children:[te.jsx("li",{className:"list-group-item",children:te.jsx("strong",{children:c})}),te.jsxs("li",{className:"list-group-item",children:[o," bids  ",p]})]})]})})};zS.propTypes={item:nt.shape({startingPrice:nt.number.isRequired,currency:nt.string.isRequired,endTime:nt.object.isRequired,primaryImage:nt.string.isRequired,title:nt.string.isRequired,subtitle:nt.string.isRequired})};const m3=()=>{const{items:t}=B.useContext(Jg);return te.jsx("div",{className:"row row-cols-1 row-cols-md-3 g-4",children:t.map(e=>te.jsx(zS,{item:e},e.id))})};function p3(){return te.jsxs("div",{className:"container mt-3",children:[te.jsx(m3,{}),te.jsx(f3,{})]})}const jS=({item:t})=>{const[e,n]=B.useState(t.startingPrice),[s,o]=B.useState(0),[u,c]=B.useState(""),[d,p]=B.useState("");return B.useEffect(()=>{const g=nf(t);n(Zg(t.currency,g.amount)),o(g.bids),g.winner?Ug(Yo(Ko,"users",g.winner)).then(_=>{c(_.get("name"))}):c("")},[t]),B.useEffect(()=>{const g=()=>{const _=Date.now(),T=t.endTime-_;T>0?(p(VS(T)),requestAnimationFrame(g)):p("Item Ended")};requestAnimationFrame(g)},[t.endTime]),te.jsxs("tr",{children:[te.jsx("td",{children:t.id}),te.jsx("td",{children:t.title}),te.jsx("td",{children:e}),te.jsx("td",{children:s}),te.jsx("td",{children:u}),te.jsx("td",{children:d}),te.jsxs("td",{children:[te.jsx("button",{className:"btn btn-warning me-3",onClick:()=>tf(t.id,!0,!1),children:"Update item"}),te.jsx("button",{className:"btn btn-danger me-3",onClick:()=>tf(t.id,!1,!0),children:"Delete bids"})]})]})};jS.propTypes={item:nt.shape({startingPrice:nt.number.isRequired,currency:nt.string.isRequired,endTime:nt.object.isRequired,id:nt.number.isRequired,title:nt.string.isRequired})};const g3=()=>{const{items:t}=B.useContext(Jg);return te.jsxs("table",{className:"table table-striped",children:[te.jsx("thead",{children:te.jsxs("tr",{children:[te.jsx("th",{children:"ID"}),te.jsx("th",{children:"Title"}),te.jsx("th",{children:"Price"}),te.jsx("th",{children:"Bids"}),te.jsx("th",{children:"Winning"}),te.jsx("th",{children:"Time Left"}),te.jsx("th",{children:"Actions"})]})}),te.jsx("tbody",{children:t.map(e=>te.jsx(jS,{item:e},e.id))})]})};function y3(){return te.jsxs("div",{className:"container mt-3",children:[te.jsxs("div",{className:"d-flex justify-content-left mb-3",children:[te.jsx("button",{className:"btn btn-danger me-3",onClick:()=>tf(void 0,!0,!1),children:"Update all items"}),te.jsx("button",{className:"btn btn-danger me-3",onClick:()=>tf(void 0,!1,!0),children:"Delete all bids"})]}),te.jsx(g3,{})]})}var FS={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},IT=ns.createContext&&ns.createContext(FS),_3=["attr","size","title"];function v3(t,e){if(t==null)return{};var n=E3(t,e),s,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);for(o=0;o<u.length;o++)s=u[o],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function E3(t,e){if(t==null)return{};var n={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;n[s]=t[s]}return n}function rf(){return rf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},rf.apply(this,arguments)}function CT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,s)}return n}function sf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CT(Object(n),!0).forEach(function(s){T3(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CT(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function T3(t,e,n){return e=A3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function A3(t){var e=b3(t,"string");return typeof e=="symbol"?e:e+""}function b3(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qS(t){return t&&t.map((e,n)=>ns.createElement(e.tag,sf({key:n},e.attr),qS(e.child)))}function S3(t){return e=>ns.createElement(w3,rf({attr:sf({},t.attr)},e),qS(t.child))}function w3(t){var e=n=>{var{attr:s,size:o,title:u}=t,c=v3(t,_3),d=o||n.size||"1em",p;return n.className&&(p=n.className),t.className&&(p=(p?p+" ":"")+t.className),ns.createElement("svg",rf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,c,{className:p,style:sf(sf({color:t.color||n.color},n.style),t.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),u&&ns.createElement("title",null,u),t.children)};return IT!==void 0?ns.createElement(IT.Consumer,null,n=>e(n)):e(FS)}function R3(t){return S3({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(t)}const I3=()=>{const t=new Date().getFullYear();return te.jsxs("footer",{className:"container d-flex flex-wrap justify-content-between align-items-center py-3 my-4 border-top",children:[te.jsx("div",{className:"col-md-4 d-flex align-items-center",children:te.jsxs("span",{className:"text-muted",children:[" ",t," Harry Mellor"]})}),te.jsx("ul",{className:"nav col-md-4 justify-content-end list-unstyled d-flex",children:te.jsx("li",{className:"ms-3",children:te.jsx("a",{className:"bi bi-github text-muted",href:"https://github.com/HMellor/",width:"24",height:"24",children:te.jsx(R3,{})})})})]})};function HS(){const{admin:e}=jP(),n=({children:o})=>te.jsx(kS,{demo:!0,children:te.jsx(LS,{children:o})});function s({children:o,condition:u}){return u?o:te.jsx(II,{to:"/auction-website/"})}return te.jsxs(n,{children:[te.jsxs(JI,{children:[te.jsx(US,{admin:e}),te.jsx(d3,{}),te.jsxs(DI,{children:[te.jsx(up,{path:"/auction-website/",Component:p3}),te.jsx(up,{exact:!0,path:"/auction-website/admin",element:te.jsx(s,{condition:e,children:te.jsx(y3,{})})})]})]}),te.jsx(I3,{})]})}HS.propTypes={children:nt.arrayOf(nt.element),condition:nt.bool};IR.createRoot(document.getElementById("root")).render(te.jsx(ns.StrictMode,{children:te.jsx(HS,{})}));
